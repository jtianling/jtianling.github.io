---
layout: post
title: Debug思考模式(1)—关注更改
categories:
- "未分类"
tags: []
status: publish
type: post
published: true
meta:
  ratings_users: '0'
  ratings_score: '0'
  ratings_average: '0'
  views: '3'
author:
  login: jtianling
  email: jtianling@gmail.com
  display_name: jtianling
  first_name: ''
  last_name: ''
---

<p class="MsoTitle" style="margin: 12pt 0cm 3pt;"><span style="font-size: large;"><strong><span style="font-family: 华文新魏;"><span style="mso-fareast-language: ZH-CN;" lang="EN-US">Debug</span><span style="font-family: 华文新魏; mso-fareast-language: ZH-CN; mso-ascii-font-family: Cambria; mso-ascii-theme-font: major-latin;">思考模式</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US">(1)&mdash;</span><span style="font-family: 华文新魏; mso-fareast-language: ZH-CN; mso-ascii-font-family: Cambria; mso-ascii-theme-font: major-latin;">关注更改</span></span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"></span></strong></span></p>
<p class="MsoSubtitle" style="margin: 12pt 0cm 3pt;"><strong><span style="font-size: large;"><span style="font-family: 华文行楷; mso-fareast-language: ZH-CN; mso-ascii-font-family: Cambria; mso-ascii-theme-font: major-latin;">程序员就像诗人，他的工作几乎全是纯思考</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: 华文行楷;">&mdash;</span></span><span style="font-family: 华文行楷; mso-fareast-language: ZH-CN; mso-ascii-font-family: Cambria; mso-ascii-theme-font: major-latin;">弗里德里克</span><span style="font-family: 华文行楷; mso-fareast-language: ZH-CN; mso-ascii-font-family: 宋体; mso-hansi-font-family: 宋体;">&middot;</span><span style="font-family: 华文行楷; mso-fareast-language: ZH-CN; mso-ascii-font-family: Cambria; mso-ascii-theme-font: major-latin;">布鲁克斯</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"></span></span></strong></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-size: small; font-family: 宋体;">&nbsp;</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt; text-align: right;" align="right"><span lang="EN-US"><a href="http://www.jtianling.com"><span style="font-size: small;"><span style="color: #800080;"><span style="font-family: 宋体;"><strong><span style="letter-spacing: 0.25pt; font-variant: small-caps;">write by </span></strong><strong><span style="font-family: 宋体; letter-spacing: 0.25pt; font-variant: small-caps;">九天雁翎</span><span style="letter-spacing: 0.25pt; font-variant: small-caps;">(JTianLing) -- www.jtianling.com</span></strong></span></span></span></a></span><strong><span style="text-decoration: underline;"><span style="color: #c0504d; letter-spacing: 0.25pt; font-variant: small-caps; mso-fareast-language: ZH-CN; mso-themecolor: accent2;" lang="EN-US"></span></span></strong></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt; text-align: right;" align="right"><span lang="EN-US"><a href="http://groups.google.com/group/jiutianfile/"><strong><span style="font-family: 宋体; letter-spacing: 0.25pt; font-variant: small-caps; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;" lang="EN-US"><span lang="EN-US"><span style="font-size: small;">讨论新闻组及文件</span></span></span></strong></a></span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-size: small; font-family: 宋体;">&nbsp;</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="font-size: small;"><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">假如设计有模式，分析有模式，那么，程序员最希望有的自然是</span><span style="font-family: 宋体;"><span style="mso-fareast-language: ZH-CN;" lang="EN-US">Debug</span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">的模式了。。。真希望有人已经总结出来了，以节省我们曾经浪费的大量时间。。。。可惜。。呵呵，好像没有看到，我碰到一些问题，顺便总结一下方法吧，当方法重复的被使用，那么也就成为一种</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US">Debug</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">思考模式了。</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"></span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-size: small; font-family: 宋体;">&nbsp;</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt; text-indent: 18pt;"><span style="font-size: small;"><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">前段时间为公司的</span><span style="font-family: 宋体;"><span style="mso-fareast-language: ZH-CN;" lang="EN-US">TCP</span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">网络模块添加加密的功能，当时用的加密算法是从网上找的。。。为了安全，就不透露具体的算法了，算法的加密解密函数都写的很简单，就两个指针参数，由于仅仅是简单的算法实现，主要用于描述算法，没有配套的使用文档，也没有示例代码，一番折腾，调试很久，总算明白了</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US">2</span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">个参数的作用，不就一个传入需要加密解密的数值，一个传入自定义的</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US">key</span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">嘛。</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US">Debug</span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">通过后，直接编译了</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US">release</span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">版本给测试组测试，发现完全没有发挥作用。相当的郁闷，回来再调，还是正确的，但是编译成</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US">release</span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">版本后的确不行了。一般情况下碰到类似问题，不知道怎么的，都是第一反应没有初始化，查找外围代码老半天，并没有发现问题，由于</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US">Release</span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">下的调试功能比较弱，所以在算法加密解密函数调用前将内存中的值用日志的形式写了下来，发现加密本身就与</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US">debug</span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">下不一致，确定了问题改变的地点，肯定是加密算法的问题。仔细在</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US">release</span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">下调试加密算法，还好学会汇编，找到具体地点时</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US">release</span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">用汇编看就不那么吃力了，原来此算法的传入加密数值是</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US">64bit</span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">的，但是</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US">key</span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">却是用了</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US">128bit</span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">的</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US">-_-!</span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">在没有任何说明注释的情况下，仅仅以两个指针作为参数传入，不自己调试根本没有办法发现。。。。。唉。。。碰巧</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US">Debug</span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">能对，在于</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US">MS</span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">为所有的</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US">Debug</span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">未初始化变量赋值</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US">0xcc</span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">。。。也就是在</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US">Debug</span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">下，我的</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US">key</span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">指针传入实际相当于是以我自己的</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US">key</span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">加上两个连续的</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US">0xcc</span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">，无论加密解密的</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US">key</span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">都还是一样的，所以一切正常，当</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US">release</span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">时，越界访问的值属于随机状态，</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US">key</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">不一致了，加密解密自然也就不肯能对了。。。。。</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"></span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt; text-indent: 18pt;"><span style="font-size: small;"><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">首先还是的说一点，好的接口是容易用对的，坏的接口设计（比如这种）是容易用错的。这是《</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: 宋体;">Effective C++</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">》一书中讲过的，但是看来还是很多人没有真正理解，我就是受害者之一。。。。到了这里，可能会有人批评我，说假如我具体的了解了算法和看清楚了算法的实现就不会出这样的错误了，但是我想说的是，好的接口给人使用，就是让人可以不了解实现的，甚至接口和实现都可以分离，使用接口的人根本就需不要关心实现，这样才能更加关注于自己需要关注的东西。何况，工作嘛，哪能真的用什么就理解透了才去做啊。。。。。。</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"></span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt; text-indent: 18pt;"><span style="font-size: small;"><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">我这里想说的是，我犯的最大的错误在于出现问题时，没有很快的定位到错误所在的地方，事实上</span><span style="font-family: 宋体;"><span style="mso-fareast-language: ZH-CN;" lang="EN-US">TCP</span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">网络模块公司一直在使用，我仅仅添加了加密模块，然后出现问题，那么首先可以想到的自然是加密模块的问题，但是由于我平时对公司的</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US">TCP</span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">网络模块没有太深入的了解，仅仅是平时调试的时候偶尔跟进去看看，所以对其还有怀疑，然后出现错误，特别是这种</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US">debug</span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">没有错误，</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US">release</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">错误时，一下子没有了方向，开始漫无目的的乱怀疑，其实根本没有必要，一开始就应该定位到错误所在。</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"></span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt; text-indent: 18pt;"><span style="font-size: small;"><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">这就是总监最后批评我没有使用排除法的地方，此处我应该将原来正确的代码排除掉。</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"></span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt; text-indent: 18pt;"><span style="font-size: small;"><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">这是我想提出的一种</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: 宋体;">Debug</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">思考模式：</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"></span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt; text-indent: 18pt;"><span style="font-family: 微软雅黑;"><strong><span style="font-size: 14pt; line-height: 115%; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-bidi-font-size: 11.0pt; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">假如在更改此模块之前其他模块都能正常工作，首先关注于这次更改的模块。</span></strong><strong><span style='font-size: 14pt; line-height: 115%; font-family: "Calibri","sans-serif"; mso-fareast-language: ZH-CN; mso-ascii-theme-font: minor-latin; mso-bidi-font-size: 11.0pt; mso-hansi-theme-font: minor-latin;' lang="EN-US"></span></strong></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-size: small; font-family: 宋体;">&nbsp;</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt; text-indent: 18pt;"><span style="font-size: small;"><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">这种</span><span style="font-family: 宋体;"><span style="mso-fareast-language: ZH-CN;" lang="EN-US">Debug</span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">模式其实真的能深入到思想中，其实作用很大，但是需要注意一些特殊的例子。比如有一次，我为公司的世界地图服务器添加</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US">GM</span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">模块，此时由于公司内网测试使用的</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US">GM</span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">指令与此非常类似，于是我主要通过此</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US">GM</span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">指令系统来搭建新的模块，一切都非常顺利，由于新模块建立在旧模块上，代码的编写速度也是非常快，但是到了最后，又出现了问题，程序一运行就崩溃。。。。这时又另外一个问题，加重了问题的严重性，我从程序一开始的地方到崩溃的地方下了很多断点，但是断点竟然都断不上，一般出现这种情况，属于库和头文件不统一造成，但是此次的调试仅仅在本模块中，没有进入其他的库，所以让人很郁闷，后来发现的问题在于原有的</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US">GM</span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">指令根本不需要了解是谁在执行，所以没有使用</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US">IPlayer</span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">的指针，但是我由于需要详细记录</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US">GM</span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">的每个动作，所以必须使用到此指针，使用的时候由于是复制代码，所以完全复制原有代码过来，也没有思考，原来的使用就是通过</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US">OnMessge</span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">的参数</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US">WPARAM</span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">强转过来的，但是原来并没有使用，我在后面将其传入另一个函数并使用了此指针，导致程序崩溃，按总监的话来说，由于</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US">IPlayer</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">属于多重继承而来，不能再像普通类型一样用强转了，以前的代码是老代码，所以使用的并不正确，但是由于没有使用，所以没有问题。也就是说，我栽倒在了一次原来的老代码强转错误上。这里，原有模块同样没有出现问题，而我的程序出现了。区别在于原有代码强转了指针却没有使用，我使用了其强转，接下来还是用了指针。</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"></span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt; text-indent: 18pt;"><span style="font-size: small;"><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">这里需要提出的是：</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"></span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt; text-indent: 18pt;"><span style="font-family: 微软雅黑;"><strong><span style="font-size: 14pt; line-height: 115%; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-bidi-font-size: 11.0pt; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin;">原有程序没有出现问题，不代表代码没有问题，关注于更改，就要关注每个细微的更改。</span></strong><strong><span style='font-size: 14pt; line-height: 115%; font-family: "Calibri","sans-serif"; mso-fareast-language: ZH-CN; mso-ascii-theme-font: minor-latin; mso-bidi-font-size: 11.0pt; mso-hansi-theme-font: minor-latin;' lang="EN-US"></span></strong></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-size: small; font-family: 宋体;">&nbsp;</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt; text-align: right;" align="right"><span lang="EN-US"><a href="http://www.jtianling.com"><span style="font-family: 宋体;"><span style="font-size: small;"><span style="color: #800080;"><strong><span style="letter-spacing: 0.25pt; font-variant: small-caps; mso-fareast-language: ZH-CN;">write by </span></strong><strong><span style="font-family: 宋体; letter-spacing: 0.25pt; font-variant: small-caps; mso-fareast-language: ZH-CN;" lang="EN-US"><span lang="EN-US">九天雁翎</span></span></strong></span></span><strong><span style="letter-spacing: 0.25pt; font-variant: small-caps; mso-fareast-language: ZH-CN;"><span style="font-size: small; color: #800080;">(JTianLing) -- www.jtianling.com</span></span></strong></span></a></span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-size: small; font-family: 宋体;">&nbsp;</span></span></p>
