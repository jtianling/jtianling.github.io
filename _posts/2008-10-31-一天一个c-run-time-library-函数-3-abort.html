---
layout: post
title: "一天一个C Run-Time Library 函数（3）  abort"
categories:
- C++
tags:
- abort
- C++
status: publish
type: post
published: true
meta:
  ratings_users: '0'
  ratings_score: '0'
  ratings_average: '0'
  views: '9'
author:
  login: jtianling
  email: jtianling@gmail.com
  display_name: jtianling
  first_name: ''
  last_name: ''
---
<p>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="ProgId" content="Word.Document" /><meta name="Generator" content="Microsoft Word 12" /><meta name="Originator" content="Microsoft Word 12" />
<link rel="File-List" href="file:///C:%5CDOCUME%7E1%5CADMINI%7E1%5CLOCALS%7E1%5CTemp%5Cmsohtmlclip1%5C01%5Cclip_filelist.xml" />
<link rel="themeData" href="file:///C:%5CDOCUME%7E1%5CADMINI%7E1%5CLOCALS%7E1%5CTemp%5Cmsohtmlclip1%5C01%5Cclip_themedata.thmx" />
<link rel="colorSchemeMapping" href="file:///C:%5CDOCUME%7E1%5CADMINI%7E1%5CLOCALS%7E1%5CTemp%5Cmsohtmlclip1%5C01%5Cclip_colorschememapping.xml" /><!--[if gte mso 9]&gt;&lt;xml&gt;<br />
 &lt;w:WordDocument&gt;<br />
  &lt;w:View&gt;Normal&lt;/w:View&gt;<br />
  &lt;w:Zoom&gt;0&lt;/w:Zoom&gt;<br />
  &lt;w:TrackMoves /&gt;<br />
  &lt;w:TrackFormatting /&gt;<br />
  &lt;w:PunctuationKerning /&gt;<br />
  &lt;w:DrawingGridVerticalSpacing&gt;7.8 磅&lt;/w:DrawingGridVerticalSpacing&gt;<br />
  &lt;w:DisplayHorizontalDrawingGridEvery&gt;0&lt;/w:DisplayHorizontalDrawingGridEvery&gt;<br />
  &lt;w:DisplayVerticalDrawingGridEvery&gt;2&lt;/w:DisplayVerticalDrawingGridEvery&gt;<br />
  &lt;w:ValidateAgainstSchemas /&gt;<br />
  &lt;w:SaveIfXMLInvalid&gt;false&lt;/w:SaveIfXMLInvalid&gt;<br />
  &lt;w:IgnoreMixedContent&gt;false&lt;/w:IgnoreMixedContent&gt;<br />
  &lt;w:AlwaysShowPlaceholderText&gt;false&lt;/w:AlwaysShowPlaceholderText&gt;<br />
  &lt;w:DoNotPromoteQF /&gt;<br />
  &lt;w:LidThemeOther&gt;EN-US&lt;/w:LidThemeOther&gt;<br />
  &lt;w:LidThemeAsian&gt;ZH-CN&lt;/w:LidThemeAsian&gt;<br />
  &lt;w:LidThemeComplexScript&gt;X-NONE&lt;/w:LidThemeComplexScript&gt;<br />
  &lt;w:Compatibility&gt;<br />
   &lt;w:SpaceForUL /&gt;<br />
   &lt;w:BalanceSingleByteDoubleByteWidth /&gt;<br />
   &lt;w:DoNotLeaveBackslashAlone /&gt;<br />
   &lt;w:ULTrailSpace /&gt;<br />
   &lt;w:DoNotExpandShiftReturn /&gt;<br />
   &lt;w:AdjustLineHeightInTable /&gt;<br />
   &lt;w:BreakWrappedTables /&gt;<br />
   &lt;w:SnapToGridInCell /&gt;<br />
   &lt;w:WrapTextWithPunct /&gt;<br />
   &lt;w:UseAsianBreakRules /&gt;<br />
   &lt;w:DontGrowAutofit /&gt;<br />
   &lt;w:SplitPgBreakAndParaMark /&gt;<br />
   &lt;w:DontVertAlignCellWithSp /&gt;<br />
   &lt;w:DontBreakConstrainedForcedTables /&gt;<br />
   &lt;w:DontVertAlignInTxbx /&gt;<br />
   &lt;w:Word11KerningPairs /&gt;<br />
   &lt;w:CachedColBalance /&gt;<br />
   &lt;w:UseFELayout /&gt;<br />
  &lt;/w:Compatibility&gt;<br />
  &lt;m:mathPr&gt;<br />
   &lt;m:mathFont m:val="Cambria Math" /&gt;<br />
   &lt;m:brkBin m:val="before" /&gt;<br />
   &lt;m:brkBinSub m:val="&#45;-" /&gt;<br />
   &lt;m:smallFrac m:val="off" /&gt;<br />
   &lt;m:dispDef /&gt;<br />
   &lt;m:lMargin m:val="0" /&gt;<br />
   &lt;m:rMargin m:val="0" /&gt;<br />
   &lt;m:defJc m:val="centerGroup" /&gt;<br />
   &lt;m:wrapIndent m:val="1440" /&gt;<br />
   &lt;m:intLim m:val="subSup" /&gt;<br />
   &lt;m:naryLim m:val="undOvr" /&gt;<br />
  &lt;/m:mathPr&gt;&lt;/w:WordDocument&gt;<br />
&lt;/xml&gt;&lt;![endif]--><!--[if gte mso 9]&gt;&lt;xml&gt;<br />
 &lt;w:LatentStyles DefLockedState="false" DefUnhideWhenUsed="true"<br />
  DefSemiHidden="true" DefQFormat="false" DefPriority="99"<br />
  LatentStyleCount="267"&gt;<br />
  &lt;w:LsdException Locked="false" Priority="0" SemiHidden="false"<br />
   UnhideWhenUsed="false" QFormat="true" Name="Normal" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="9" SemiHidden="false"<br />
   UnhideWhenUsed="false" QFormat="true" Name="heading 1" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 2" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 3" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 4" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 5" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 6" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 7" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 8" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 9" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="39" Name="toc 1" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="39" Name="toc 2" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="39" Name="toc 3" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="39" Name="toc 4" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="39" Name="toc 5" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="39" Name="toc 6" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="39" Name="toc 7" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="39" Name="toc 8" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="39" Name="toc 9" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="35" QFormat="true" Name="caption" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="10" SemiHidden="false"<br />
   UnhideWhenUsed="false" QFormat="true" Name="Title" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="1" Name="Default Paragraph Font" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="11" SemiHidden="false"<br />
   UnhideWhenUsed="false" QFormat="true" Name="Subtitle" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="22" SemiHidden="false"<br />
   UnhideWhenUsed="false" QFormat="true" Name="Strong" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="20" SemiHidden="false"<br />
   UnhideWhenUsed="false" QFormat="true" Name="Emphasis" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="59" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Table Grid" /&gt;<br />
  &lt;w:LsdException Locked="false" UnhideWhenUsed="false" Name="Placeholder Text" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="1" SemiHidden="false"<br />
   UnhideWhenUsed="false" QFormat="true" Name="No Spacing" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="60" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Light Shading" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="61" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Light List" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="62" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Light Grid" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="63" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Shading 1" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="64" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Shading 2" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="65" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium List 1" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="66" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium List 2" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="67" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Grid 1" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="68" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Grid 2" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="69" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Grid 3" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="70" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Dark List" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="71" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Colorful Shading" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="72" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Colorful List" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="73" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Colorful Grid" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="60" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Light Shading Accent 1" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="61" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Light List Accent 1" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="62" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Light Grid Accent 1" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="63" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 1" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="64" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 1" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="65" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium List 1 Accent 1" /&gt;<br />
  &lt;w:LsdException Locked="false" UnhideWhenUsed="false" Name="Revision" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="34" SemiHidden="false"<br />
   UnhideWhenUsed="false" QFormat="true" Name="List Paragraph" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="29" SemiHidden="false"<br />
   UnhideWhenUsed="false" QFormat="true" Name="Quote" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="30" SemiHidden="false"<br />
   UnhideWhenUsed="false" QFormat="true" Name="Intense Quote" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="66" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium List 2 Accent 1" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="67" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 1" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="68" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 1" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="69" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 1" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="70" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Dark List Accent 1" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="71" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Colorful Shading Accent 1" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="72" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Colorful List Accent 1" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="73" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Colorful Grid Accent 1" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="60" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Light Shading Accent 2" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="61" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Light List Accent 2" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="62" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Light Grid Accent 2" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="63" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 2" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="64" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 2" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="65" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium List 1 Accent 2" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="66" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium List 2 Accent 2" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="67" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 2" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="68" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 2" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="69" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 2" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="70" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Dark List Accent 2" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="71" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Colorful Shading Accent 2" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="72" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Colorful List Accent 2" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="73" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Colorful Grid Accent 2" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="60" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Light Shading Accent 3" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="61" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Light List Accent 3" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="62" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Light Grid Accent 3" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="63" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 3" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="64" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 3" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="65" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium List 1 Accent 3" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="66" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium List 2 Accent 3" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="67" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 3" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="68" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 3" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="69" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 3" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="70" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Dark List Accent 3" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="71" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Colorful Shading Accent 3" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="72" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Colorful List Accent 3" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="73" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Colorful Grid Accent 3" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="60" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Light Shading Accent 4" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="61" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Light List Accent 4" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="62" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Light Grid Accent 4" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="63" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 4" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="64" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 4" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="65" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium List 1 Accent 4" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="66" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium List 2 Accent 4" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="67" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 4" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="68" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 4" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="69" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 4" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="70" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Dark List Accent 4" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="71" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Colorful Shading Accent 4" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="72" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Colorful List Accent 4" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="73" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Colorful Grid Accent 4" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="60" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Light Shading Accent 5" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="61" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Light List Accent 5" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="62" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Light Grid Accent 5" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="63" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 5" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="64" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 5" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="65" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium List 1 Accent 5" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="66" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium List 2 Accent 5" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="67" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 5" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="68" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 5" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="69" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 5" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="70" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Dark List Accent 5" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="71" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Colorful Shading Accent 5" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="72" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Colorful List Accent 5" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="73" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Colorful Grid Accent 5" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="60" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Light Shading Accent 6" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="61" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Light List Accent 6" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="62" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Light Grid Accent 6" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="63" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 6" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="64" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 6" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="65" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium List 1 Accent 6" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="66" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium List 2 Accent 6" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="67" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 6" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="68" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 6" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="69" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 6" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="70" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Dark List Accent 6" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="71" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Colorful Shading Accent 6" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="72" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Colorful List Accent 6" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="73" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Colorful Grid Accent 6" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="19" SemiHidden="false"<br />
   UnhideWhenUsed="false" QFormat="true" Name="Subtle Emphasis" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="21" SemiHidden="false"<br />
   UnhideWhenUsed="false" QFormat="true" Name="Intense Emphasis" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="31" SemiHidden="false"<br />
   UnhideWhenUsed="false" QFormat="true" Name="Subtle Reference" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="32" SemiHidden="false"<br />
   UnhideWhenUsed="false" QFormat="true" Name="Intense Reference" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="33" SemiHidden="false"<br />
   UnhideWhenUsed="false" QFormat="true" Name="Book Title" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="37" Name="Bibliography" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="39" QFormat="true" Name="TOC Heading" /&gt;<br />
 &lt;/w:LatentStyles&gt;<br />
&lt;/xml&gt;&lt;![endif]--><br />
<style>
<!--<br />
 /* Font Definitions */<br />
 @font-face<br />
	{font-family:宋体;<br />
	panose-1:2 1 6 0 3 1 1 1 1 1;<br />
	mso-font-alt:SimSun;<br />
	mso-font-charset:134;<br />
	mso-generic-font-family:auto;<br />
	mso-font-pitch:variable;<br />
	mso-font-signature:3 135135232 16 0 262145 0;}<br />
@font-face<br />
	{font-family:"Cambria Math";<br />
	panose-1:2 4 5 3 5 4 6 3 2 4;<br />
	mso-font-charset:0;<br />
	mso-generic-font-family:roman;<br />
	mso-font-pitch:variable;<br />
	mso-font-signature:-1610611985 1107304683 0 0 159 0;}<br />
@font-face<br />
	{font-family:Cambria;<br />
	panose-1:2 4 5 3 5 4 6 3 2 4;<br />
	mso-font-charset:0;<br />
	mso-generic-font-family:roman;<br />
	mso-font-pitch:variable;<br />
	mso-font-signature:-1610611985 1073741899 0 0 159 0;}<br />
@font-face<br />
	{font-family:Calibri;<br />
	panose-1:2 15 5 2 2 2 4 3 2 4;<br />
	mso-font-charset:0;<br />
	mso-generic-font-family:swiss;<br />
	mso-font-pitch:variable;<br />
	mso-font-signature:-1610611985 1073750139 0 0 159 0;}<br />
@font-face<br />
	{font-family:Verdana;<br />
	panose-1:2 11 6 4 3 5 4 4 2 4;<br />
	mso-font-charset:0;<br />
	mso-generic-font-family:swiss;<br />
	mso-font-pitch:variable;<br />
	mso-font-signature:536871559 0 0 0 415 0;}<br />
@font-face<br />
	{font-family:新宋体;<br />
	panose-1:2 1 6 9 3 1 1 1 1 1;<br />
	mso-font-charset:134;<br />
	mso-generic-font-family:modern;<br />
	mso-font-pitch:fixed;<br />
	mso-font-signature:3 135135232 16 0 262145 0;}<br />
@font-face<br />
	{font-family:"/@宋体";<br />
	panose-1:2 1 6 0 3 1 1 1 1 1;<br />
	mso-font-charset:134;<br />
	mso-generic-font-family:auto;<br />
	mso-font-pitch:variable;<br />
	mso-font-signature:3 135135232 16 0 262145 0;}<br />
@font-face<br />
	{font-family:"/@新宋体";<br />
	panose-1:2 1 6 9 3 1 1 1 1 1;<br />
	mso-font-charset:134;<br />
	mso-generic-font-family:modern;<br />
	mso-font-pitch:fixed;<br />
	mso-font-signature:3 135135232 16 0 262145 0;}<br />
 /* Style Definitions */<br />
 p.MsoNormal, li.MsoNormal, div.MsoNormal<br />
	{mso-style-unhide:no;<br />
	mso-style-qformat:yes;<br />
	mso-style-parent:"";<br />
	margin-top:0cm;<br />
	margin-right:0cm;<br />
	margin-bottom:10.0pt;<br />
	margin-left:0cm;<br />
	line-height:115%;<br />
	mso-pagination:widow-orphan;<br />
	font-size:12.0pt;<br />
	mso-bidi-font-size:11.0pt;<br />
	font-family:"Calibri","sans-serif";<br />
	mso-ascii-font-family:Calibri;<br />
	mso-ascii-theme-font:minor-latin;<br />
	mso-fareast-font-family:宋体;<br />
	mso-fareast-theme-font:minor-fareast;<br />
	mso-hansi-font-family:Calibri;<br />
	mso-hansi-theme-font:minor-latin;<br />
	mso-bidi-font-family:"Times New Roman";<br />
	mso-bidi-theme-font:minor-bidi;<br />
	mso-fareast-language:EN-US;<br />
	mso-bidi-language:EN-US;}<br />
h2<br />
	{mso-style-priority:9;<br />
	mso-style-qformat:yes;<br />
	mso-style-link:"标题 2 Char";<br />
	mso-style-next:正文;<br />
	margin-top:10.0pt;<br />
	margin-right:0cm;<br />
	margin-bottom:0cm;<br />
	margin-left:0cm;<br />
	margin-bottom:.0001pt;<br />
	line-height:115%;<br />
	mso-pagination:widow-orphan lines-together;<br />
	page-break-after:avoid;<br />
	mso-outline-level:2;<br />
	font-size:14.0pt;<br />
	mso-bidi-font-size:13.0pt;<br />
	font-family:"Cambria","serif";<br />
	mso-ascii-font-family:Cambria;<br />
	mso-ascii-theme-font:major-latin;<br />
	mso-fareast-font-family:宋体;<br />
	mso-fareast-theme-font:major-fareast;<br />
	mso-hansi-font-family:Cambria;<br />
	mso-hansi-theme-font:major-latin;<br />
	mso-bidi-font-family:"Times New Roman";<br />
	mso-bidi-theme-font:major-bidi;<br />
	color:#4F81BD;<br />
	mso-themecolor:accent1;<br />
	mso-fareast-language:EN-US;<br />
	mso-bidi-language:EN-US;}<br />
code<br />
	{mso-style-noshow:yes;<br />
	mso-style-priority:99;<br />
	mso-ansi-font-size:12.5pt;<br />
	mso-bidi-font-size:12.5pt;<br />
	font-family:"Courier New";<br />
	mso-ascii-font-family:"Courier New";<br />
	mso-fareast-font-family:宋体;<br />
	mso-hansi-font-family:"Courier New";<br />
	mso-bidi-font-family:"Courier New";<br />
	color:#000066;}<br />
span.MsoIntenseReference<br />
	{mso-style-priority:32;<br />
	mso-style-unhide:no;<br />
	mso-style-qformat:yes;<br />
	font-variant:small-caps;<br />
	color:#C0504D;<br />
	mso-themecolor:accent2;<br />
	letter-spacing:.25pt;<br />
	font-weight:bold;<br />
	text-decoration:underline;<br />
	text-underline:single;}<br />
span.2Char<br />
	{mso-style-name:"标题 2 Char";<br />
	mso-style-priority:9;<br />
	mso-style-unhide:no;<br />
	mso-style-locked:yes;<br />
	mso-style-link:"标题 2";<br />
	mso-ansi-font-size:14.0pt;<br />
	mso-bidi-font-size:13.0pt;<br />
	font-family:"Cambria","serif";<br />
	mso-ascii-font-family:Cambria;<br />
	mso-ascii-theme-font:major-latin;<br />
	mso-fareast-font-family:宋体;<br />
	mso-fareast-theme-font:major-fareast;<br />
	mso-hansi-font-family:Cambria;<br />
	mso-hansi-theme-font:major-latin;<br />
	mso-bidi-font-family:"Times New Roman";<br />
	mso-bidi-theme-font:major-bidi;<br />
	color:#4F81BD;<br />
	mso-themecolor:accent1;<br />
	mso-font-kerning:0pt;<br />
	mso-fareast-language:EN-US;<br />
	mso-bidi-language:EN-US;<br />
	font-weight:bold;}<br />
.MsoChpDefault<br />
	{mso-style-type:export-only;<br />
	mso-default-props:yes;<br />
	mso-bidi-font-family:"Times New Roman";<br />
	mso-bidi-theme-font:minor-bidi;}<br />
 /* Page Definitions */<br />
 @page<br />
	{mso-page-border-surround-header:no;<br />
	mso-page-border-surround-footer:no;}<br />
@page Section1<br />
	{size:612.0pt 792.0pt;<br />
	margin:72.0pt 90.0pt 72.0pt 90.0pt;<br />
	mso-header-margin:36.0pt;<br />
	mso-footer-margin:36.0pt;<br />
	mso-paper-source:0;}<br />
div.Section1<br />
	{page:Section1;}<br />
--><br />
</style>
<p><!--[if gte mso 10]&gt;<br />
&lt;style&gt;<br />
 /* Style Definitions */<br />
 table.MsoNormalTable<br />
	{mso-style-name:普通表格;<br />
	mso-tstyle-rowband-size:0;<br />
	mso-tstyle-colband-size:0;<br />
	mso-style-noshow:yes;<br />
	mso-style-priority:99;<br />
	mso-style-qformat:yes;<br />
	mso-style-parent:"";<br />
	mso-padding-alt:0cm 5.4pt 0cm 5.4pt;<br />
	mso-para-margin:0cm;<br />
	mso-para-margin-bottom:.0001pt;<br />
	mso-pagination:widow-orphan;<br />
	font-size:10.5pt;<br />
	mso-bidi-font-size:11.0pt;<br />
	font-family:"Calibri","sans-serif";<br />
	mso-ascii-font-family:Calibri;<br />
	mso-ascii-theme-font:minor-latin;<br />
	mso-hansi-font-family:Calibri;<br />
	mso-hansi-theme-font:minor-latin;<br />
	mso-font-kerning:1.0pt;}<br />
&lt;/style&gt;<br />
&lt;![endif]--></p>
<h2><span style="font-family: 宋体;" lang="EN-US">一天一个</span><span lang="EN-US">C Run-Time Library </span><span style="font-family: 宋体;" lang="EN-US">函数</span><span style="font-family: 宋体;">（</span><span style="" lang="EN-US">3</span><span style="font-family: 宋体;">）</span><span lang="EN-US"><span style="">&nbsp; </span></span><span style="" lang="EN-US">abort<o:p></o:p></span></h2>
<p class="MsoNormal"><span style="" lang="EN-US"><o:p>&nbsp;</o:p></span></p>
<p class="MsoNormal" style="text-align: right;" align="right"><span class="MsoIntenseReference"><span lang="EN-US">write by </span></span><span class="MsoIntenseReference"><span style="font-family: 宋体;" lang="EN-US">九天雁翎</span><span lang="EN-US">(JTianLing) -- www.jtianling.com</span></span><span class="MsoIntenseReference"><span style="" lang="EN-US"><o:p></o:p></span></span></p>
<p class="MsoNormal" style="text-align: right;" align="right"><span class="MsoIntenseReference"><span style="" lang="EN-US"><o:p><span style="text-decoration: none;">&nbsp;</span></o:p></span></span></p>
<p class="MsoNormal"><span class="2Char"><span style="font-size: 14pt; line-height: 115%; font-family: 宋体;" lang="EN-US">头文件：</span></span><span class="MsoIntenseReference"><span style="" lang="EN-US"> </span></span><span style='font-size: 13.5pt; line-height: 115%; font-family: "Verdana","sans-serif"; color: black;' lang="EN-US">&lt;stdlib.h&gt;</span><span class="MsoIntenseReference"><span style="" lang="EN-US"><o:p></o:p></span></span></p>
<h2><span lang="EN-US">msdn:</span></h2>
<p class="MsoNormal" style="margin-bottom: 3.75pt; line-height: normal;"><span style='font-size: 8.5pt; font-family: "Verdana","sans-serif"; color: black;' lang="EN-US">Aborts the current process and returns an error<br />
code.<o:p></o:p></span></p>
<table class="MsoNormalTable" style="width: 98.9%;" border="0" cellpadding="0" cellspacing="0" width="98%">
<tbody>
<tr style="">
<td style="border-style: none none solid; border-color: -moz-use-text-color -moz-use-text-color rgb(200, 205, 222); border-width: medium medium 1pt; padding: 0cm 3.75pt; background: rgb(239, 239, 247) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;" valign="top"></td>
</tr>
<tr style="">
<td style="border-style: solid none; border-color: white -moz-use-text-color; border-width: 1pt medium; padding: 3.75pt 3.75pt 0cm; background: rgb(247, 247, 255) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;" valign="top">
<p class="MsoNormal" style="margin: 0cm 0.75pt 0.0001pt; line-height: normal;"><span style='font-size: 14pt; font-family: "Courier New"; color: rgb(0, 0, 102);' lang="EN-US">void<br />
  abort( void );<o:p></o:p></span></p>
</td>
</tr>
<tr style="">
<td style="border-style: solid none; border-color: white -moz-use-text-color rgb(213, 213, 211); border-width: 1pt medium; padding: 3.75pt 3.75pt 0cm; background: rgb(247, 247, 255) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;" valign="top"></td>
</tr>
</tbody>
</table>
<p class="MsoNormal"><span style="" lang="EN-US"><o:p>&nbsp;</o:p></span></p>
<h2><span style="font-family: 宋体;" lang="EN-US">测试程序</span><span style="" lang="EN-US">3.1</span><span style="font-family: 宋体;" lang="EN-US">：</span></h2>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体; color: blue;" lang="EN-US">#include</span><span style="font-family: 新宋体;" lang="EN-US"> <span style="color: rgb(163, 21, 21);">&lt;stdlib.h&gt;<o:p></o:p></span></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体; color: blue;" lang="EN-US">#include</span><span style="font-family: 新宋体;" lang="EN-US"> <span style="color: rgb(163, 21, 21);">&lt;stdio.h&gt;<o:p></o:p></span></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体; color: rgb(163, 21, 21);" lang="EN-US"><o:p>&nbsp;</o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体; color: blue;" lang="EN-US">int</span><span style="font-family: 新宋体;" lang="EN-US"> <span style="color: rgb(1, 0, 1);">main</span>()<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US">{<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><o:p>&nbsp;</o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span><span style="color: rgb(1, 0, 1);">printf</span>(<span style="color: rgb(163, 21, 21);">"Running/n"</span>);<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><o:p>&nbsp;</o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span><span style="color: rgb(1, 0, 1);">abort</span>();<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><o:p>&nbsp;</o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span><span style="color: rgb(1, 0, 1);">printf</span>(<span style="color: rgb(163, 21, 21);">"Still Running/n"</span>);<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">return</span> 0;<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US">}<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 25.7pt;"><span style="line-height: 115%; font-family: 新宋体;">以上函数在<span lang="EN-US">windows</span>上输出为<span lang="EN-US">Running</span>，然后弹出对话框。点终止即终止程序，点忽略还会输出类似</span><code><span style="font-size: 12.5pt; line-height: 115%; font-family: 宋体;">“</span></code><code><span style="font-size: 9pt; line-height: 115%;" lang="EN-US">This<br />
application has requested the Runtime to terminate it in an unusual way. </span></code><code><span style="font-size: 9pt; line-height: 115%;" lang="EN-US">Please contact the<br />
application's support team for more information</span></code><code><span style="font-size: 12.5pt; line-height: 115%; font-family: 宋体;">。”的信息。</span></code><code><span style="font-size: 12.5pt; line-height: 115%;" lang="EN-US"><o:p></o:p></span></code></p>
<p class="MsoNormal" style="margin-bottom: 25.7pt;"><code><span style="font-size: 12.5pt; line-height: 115%; font-family: 宋体;">在</span></code><code><span style="font-size: 12.5pt; line-height: 115%;" lang="EN-US">linux</span></code><code><span style="font-size: 12.5pt; line-height: 115%; font-family: 宋体;">下运行输出</span></code><code><span style="font-size: 12.5pt; line-height: 115%;" lang="EN-US">Running<o:p></o:p></span></code></p>
<p class="MsoNormal" style="margin-bottom: 25.7pt;"><code><span style="font-size: 12.5pt; line-height: 115%;" lang="EN-US">Aborted</span></code><span style="line-height: 115%; font-family: 新宋体;" lang="EN-US"><o:p></o:p></span></p>
<h2><span style="font-family: 宋体;">说明：</span><span style="" lang="EN-US"><o:p></o:p></span></h2>
<p class="MsoNormal"><span style="" lang="EN-US"><o:p>&nbsp;</o:p></span></p>
<p class="MsoNormal"><span style="line-height: 115%; font-family: 新宋体; color: rgb(1, 0, 1);">总算碰到一个真正的函数了，可惜一开始真正的函数问题就复杂了，比如关于<span lang="EN-US">abort</span>相关的知识可以写<span lang="EN-US">2</span>，<span lang="EN-US">3</span>天。<span lang="EN-US"><o:p></o:p></span></span></p>
<p class="MsoNormal"><span style="line-height: 115%; font-family: 新宋体; color: rgb(1, 0, 1);">首先<span lang="EN-US">abort</span>函数是一个导致消息发生的函数，</span><span style="font-family: 宋体;">引发的消息为</span><span style="" lang="EN-US">SIGABRT</span><span style="font-family: 宋体;">，说起来就很复杂了吧，什么是消息呢？在</span><span style="" lang="EN-US">windows</span><span style="font-family: 宋体;">下编程我还从来没有用过类似的东西。事实上</span><span style="" lang="EN-US">UNIX/Linux</span><span style="font-family: 宋体;">才是消息用的多的地方。</span><span style="" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal"><span style="font-family: 宋体;">简而言之，消息是软件中断的一种。</span><span style="" lang="EN-US">abort</span><span style="font-family: 宋体;">函数和消息的主要（也是最简单的）函数</span><span style="" lang="EN-US">signal</span><span style="font-family: 宋体;">已经是</span><span style="" lang="EN-US">ANSI C</span><span style="font-family: 宋体;">标准中的一员了。</span><span style="" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal"><span style="" lang="EN-US">signal</span><span style="font-family: 宋体;">函数也在这里附带讲了算了，</span><span style="" lang="EN-US">MSDN</span><span style="font-family: 宋体;">声明如下：</span><span style="" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 3.75pt; line-height: normal;"><span style='font-size: 8.5pt; font-family: "Verdana","sans-serif"; color: black;' lang="EN-US">Sets interrupt signal handling.<o:p></o:p></span></p>
<table class="MsoNormalTable" style="width: 98.9%;" border="0" cellpadding="0" cellspacing="0" width="98%">
<tbody>
<tr style="">
<td style="border-style: none none solid; border-color: -moz-use-text-color -moz-use-text-color rgb(200, 205, 222); border-width: medium medium 1pt; padding: 0cm 3.75pt; background: rgb(239, 239, 247) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;" valign="top"></td>
</tr>
<tr style="">
<td style="border-style: solid none; border-color: white -moz-use-text-color rgb(213, 213, 211); border-width: 1pt medium; padding: 3.75pt 3.75pt 0cm; background: rgb(247, 247, 255) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;" valign="top">
<p class="MsoNormal" style="margin: 0cm 0.75pt 0.0001pt; line-height: normal;"><span style='font-size: 14pt; font-family: "Courier New"; color: rgb(0, 0, 102);' lang="EN-US">void<br />
  (__cdecl *signal(<o:p></o:p></span></p>
<p class="MsoNormal" style="margin: 0cm 0.75pt 0.0001pt; line-height: normal;"><span style='font-size: 14pt; font-family: "Courier New"; color: rgb(0, 0, 102);' lang="EN-US"><span style="">&nbsp;&nbsp; </span>int </span><i><span style='font-size: 14pt; font-family: "Courier New"; color: rgb(0, 0, 102);' lang="EN-US">sig</span></i><span style='font-size: 14pt; font-family: "Courier New"; color: rgb(0, 0, 102);' lang="EN-US">, <o:p></o:p></span></p>
<p class="MsoNormal" style="margin: 0cm 0.75pt 0.0001pt; line-height: normal;"><span style='font-size: 14pt; font-family: "Courier New"; color: rgb(0, 0, 102);' lang="EN-US"><span style="">&nbsp;&nbsp; </span>void (__cdecl *</span><i><span style='font-size: 14pt; font-family: "Courier New"; color: rgb(0, 0, 102);' lang="EN-US">func</span></i><span style='font-size: 14pt; font-family: "Courier New"; color: rgb(0, 0, 102);' lang="EN-US"> ) (int [, int ] ))) <o:p></o:p></span></p>
<p class="MsoNormal" style="margin: 0cm 0.75pt 0.0001pt; line-height: normal;"><span style='font-size: 14pt; font-family: "Courier New"; color: rgb(0, 0, 102);' lang="EN-US"><span style="">&nbsp;&nbsp; </span>(int);<o:p></o:p></span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal"><span style="font-family: 宋体;">事实上感觉微软实现消息系统似乎仅仅是为了稍微合乎点<span lang="EN-US">ANSI C</span>的标准，因为在众多的消息中，其只实现了六种，而以下的六种其实都是<span lang="EN-US">ANSI.</span>我没有去查<span lang="EN-US">ANSI C</span>的标准，但是<span lang="EN-US">MS</span>在<span lang="EN-US">signal</span>函数的实现前有注释说明。<span lang="EN-US"><o:p></o:p></span></span></p>
<table class="MsoNormalTable" style="width: 98.9%;" border="0" cellpadding="0" width="98%">
<tbody>
<tr style="">
<td style="border-style: none none solid; border-color: -moz-use-text-color -moz-use-text-color rgb(200, 205, 222); border-width: medium medium 1pt; padding: 3.75pt; background: rgb(239, 239, 247) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;" valign="top">
<p class="MsoNormal" style="margin: 3.75pt 0cm; line-height: normal;"><b><i><span style='font-size: 13.5pt; font-family: "Verdana","sans-serif"; color: rgb(0, 0, 102);' lang="EN-US">sig</span></i></b><b><span style='font-size: 13.5pt; font-family: "Verdana","sans-serif"; color: rgb(0, 0, 102);' lang="EN-US"> value <o:p></o:p></span></b></p>
</td>
<td style="border-style: none none solid; border-color: -moz-use-text-color -moz-use-text-color rgb(200, 205, 222); border-width: medium medium 1pt; padding: 3.75pt; background: rgb(239, 239, 247) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;" valign="top">
<p class="MsoNormal" style="margin: 3.75pt 0cm; line-height: normal;"><b><span style='font-size: 13.5pt; font-family: "Verdana","sans-serif"; color: rgb(0, 0, 102);' lang="EN-US">Description <o:p></o:p></span></b></p>
</td>
</tr>
<tr style="">
<td style="border-style: none none solid; border-color: -moz-use-text-color -moz-use-text-color rgb(213, 213, 211); border-width: medium medium 1pt; padding: 3.75pt; background: rgb(247, 247, 255) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;" valign="top">
<p class="MsoNormal" style="margin: 0.75pt 0.75pt 3pt; line-height: normal;"><b><span style='font-size: 13.5pt; font-family: "Verdana","sans-serif"; color: black;' lang="EN-US">SIGABRT</span></b><span style='font-size: 13.5pt; font-family: "Verdana","sans-serif"; color: black;' lang="EN-US"> <o:p></o:p></span></p>
</td>
<td style="border-style: none none solid; border-color: -moz-use-text-color -moz-use-text-color rgb(213, 213, 211); border-width: medium medium 1pt; padding: 3.75pt; background: rgb(247, 247, 255) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;" valign="top">
<p class="MsoNormal" style="margin: 0.75pt 0.75pt 3pt; line-height: normal;"><span style='font-size: 13.5pt; font-family: "Verdana","sans-serif"; color: black;' lang="EN-US">Abnormal termination<o:p></o:p></span></p>
</td>
</tr>
<tr style="">
<td style="border-style: none none solid; border-color: -moz-use-text-color -moz-use-text-color rgb(213, 213, 211); border-width: medium medium 1pt; padding: 3.75pt; background: rgb(247, 247, 255) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;" valign="top">
<p class="MsoNormal" style="margin: 0.75pt 0.75pt 3pt; line-height: normal;"><b><span style='font-size: 13.5pt; font-family: "Verdana","sans-serif"; color: black;' lang="EN-US">SIGFPE</span></b><span style='font-size: 13.5pt; font-family: "Verdana","sans-serif"; color: black;' lang="EN-US"> <o:p></o:p></span></p>
</td>
<td style="border-style: none none solid; border-color: -moz-use-text-color -moz-use-text-color rgb(213, 213, 211); border-width: medium medium 1pt; padding: 3.75pt; background: rgb(247, 247, 255) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;" valign="top">
<p class="MsoNormal" style="margin: 0.75pt 0.75pt 3pt; line-height: normal;"><span style='font-size: 13.5pt; font-family: "Verdana","sans-serif"; color: black;' lang="EN-US">Floating-point error<o:p></o:p></span></p>
</td>
</tr>
<tr style="">
<td style="border-style: none none solid; border-color: -moz-use-text-color -moz-use-text-color rgb(213, 213, 211); border-width: medium medium 1pt; padding: 3.75pt; background: rgb(247, 247, 255) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;" valign="top">
<p class="MsoNormal" style="margin: 0.75pt 0.75pt 3pt; line-height: normal;"><b><span style='font-size: 13.5pt; font-family: "Verdana","sans-serif"; color: black;' lang="EN-US">SIGILL</span></b><span style='font-size: 13.5pt; font-family: "Verdana","sans-serif"; color: black;' lang="EN-US"> <o:p></o:p></span></p>
</td>
<td style="border-style: none none solid; border-color: -moz-use-text-color -moz-use-text-color rgb(213, 213, 211); border-width: medium medium 1pt; padding: 3.75pt; background: rgb(247, 247, 255) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;" valign="top">
<p class="MsoNormal" style="margin: 0.75pt 0.75pt 3pt; line-height: normal;"><span style='font-size: 13.5pt; font-family: "Verdana","sans-serif"; color: black;' lang="EN-US">Illegal instruction<o:p></o:p></span></p>
</td>
</tr>
<tr style="">
<td style="border-style: none none solid; border-color: -moz-use-text-color -moz-use-text-color rgb(213, 213, 211); border-width: medium medium 1pt; padding: 3.75pt; background: rgb(247, 247, 255) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;" valign="top">
<p class="MsoNormal" style="margin: 0.75pt 0.75pt 3pt; line-height: normal;"><b><span style='font-size: 13.5pt; font-family: "Verdana","sans-serif"; color: black;' lang="EN-US">SIGINT</span></b><span style='font-size: 13.5pt; font-family: "Verdana","sans-serif"; color: black;' lang="EN-US"> <o:p></o:p></span></p>
</td>
<td style="border-style: none none solid; border-color: -moz-use-text-color -moz-use-text-color rgb(213, 213, 211); border-width: medium medium 1pt; padding: 3.75pt; background: rgb(247, 247, 255) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;" valign="top">
<p class="MsoNormal" style="margin: 0.75pt 0.75pt 3pt; line-height: normal;"><span style='font-size: 13.5pt; font-family: "Verdana","sans-serif"; color: black;' lang="EN-US">CTRL+C signal<o:p></o:p></span></p>
</td>
</tr>
<tr style="">
<td style="border-style: none none solid; border-color: -moz-use-text-color -moz-use-text-color rgb(213, 213, 211); border-width: medium medium 1pt; padding: 3.75pt; background: rgb(247, 247, 255) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;" valign="top">
<p class="MsoNormal" style="margin: 0.75pt 0.75pt 3pt; line-height: normal;"><b><span style='font-size: 13.5pt; font-family: "Verdana","sans-serif"; color: black;' lang="EN-US">SIGSEGV</span></b><span style='font-size: 13.5pt; font-family: "Verdana","sans-serif"; color: black;' lang="EN-US"> <o:p></o:p></span></p>
</td>
<td style="border-style: none none solid; border-color: -moz-use-text-color -moz-use-text-color rgb(213, 213, 211); border-width: medium medium 1pt; padding: 3.75pt; background: rgb(247, 247, 255) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;" valign="top">
<p class="MsoNormal" style="margin: 0.75pt 0.75pt 3pt; line-height: normal;"><span style='font-size: 13.5pt; font-family: "Verdana","sans-serif"; color: black;' lang="EN-US">Illegal storage access<o:p></o:p></span></p>
</td>
</tr>
<tr style="">
<td style="border-style: none none solid; border-color: -moz-use-text-color -moz-use-text-color rgb(213, 213, 211); border-width: medium medium 1pt; padding: 3.75pt; background: rgb(247, 247, 255) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;" valign="top">
<p class="MsoNormal" style="margin: 0.75pt 0.75pt 3pt; line-height: normal;"><b><span style='font-size: 13.5pt; font-family: "Verdana","sans-serif"; color: black;' lang="EN-US">SIGTERM</span></b><span style='font-size: 13.5pt; font-family: "Verdana","sans-serif"; color: black;' lang="EN-US"> <o:p></o:p></span></p>
</td>
<td style="border-style: none none solid; border-color: -moz-use-text-color -moz-use-text-color rgb(213, 213, 211); border-width: medium medium 1pt; padding: 3.75pt; background: rgb(247, 247, 255) none repeat scroll 0% 0%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;" valign="top">
<p class="MsoNormal" style="margin: 0.75pt 0.75pt 3pt; line-height: normal;"><span style='font-size: 13.5pt; font-family: "Verdana","sans-serif"; color: black;' lang="EN-US">Termination request<o:p></o:p></span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal"><span style="font-family: 宋体;" lang="EN-US">SIGABRT</span><span style="font-family: 宋体;">这个由<span lang="EN-US">abort</span>函数引发的消息是其中之一。<span lang="EN-US"><o:p></o:p></span></span></p>
<p class="MsoNormal"><span style="font-family: 宋体;">要知道，在一般的<span lang="EN-US">UNIX</span>系统中，消息起码有五十种以上。这也是在<span lang="EN-US">windows</span>中很少有人使用消息，而在<span lang="EN-US">Unix/linux</span>中使用的很多的原因吧。<span lang="EN-US"><o:p></o:p></span></span></p>
<p class="MsoNormal"><span style="font-family: 宋体;">另外，<span lang="EN-US">MSDN</span>中虽然<span lang="EN-US">MS</span>明确说明调用<span lang="EN-US">abort</span>函数的返回码是<span lang="EN-US">3</span>，事实上经过我的实际测试，测试方法为用<span lang="EN-US">CreateProcess</span>运行一个新的用<span lang="EN-US">abort</span>函数结束的进程，然后调用<span lang="EN-US">GetExitCodeProcess</span>函数获得返回值，返回值一直为<span lang="EN-US">0.</span>我也很纳闷，觉得我不对的请自己测试一下，我也希望你们能指出我方式的错误。因为<span lang="EN-US">MS</span>一般不会犯这样的错误，所以我都怀疑自己的正确性。（好啰嗦啊。。。）<span lang="EN-US"><o:p></o:p></span></span></p>
<p class="MsoNormal"><span style="font-family: 宋体;">在<span lang="EN-US">linux</span>下<span lang="EN-US">(</span>未有说明仅仅实在我的系统环境中测试<span lang="EN-US">)</span>测试结果为返回<span lang="EN-US">134.<o:p></o:p></span></span></p>
<p class="MsoNormal"><span style="font-family: 宋体;">然后，顺面也给出一个<span lang="EN-US">signal</span>函数的用法，这样才能理解<span lang="EN-US">abort</span>函数的作用和消息的作用。<span lang="EN-US"><o:p></o:p></span></span></p>
<p class="MsoNormal"><span style="font-family: 宋体;">例子<span lang="EN-US">3.2<o:p></o:p></span></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体; color: blue;" lang="EN-US">#include</span><span style="font-family: 新宋体;" lang="EN-US"> <span style="color: rgb(163, 21, 21);">&lt;stdlib.h&gt;<o:p></o:p></span></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体; color: blue;" lang="EN-US">#include</span><span style="font-family: 新宋体;" lang="EN-US"> <span style="color: rgb(163, 21, 21);">&lt;stdio.h&gt;<o:p></o:p></span></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体; color: blue;" lang="EN-US">#include</span><span style="font-family: 新宋体;" lang="EN-US"> <span style="color: rgb(163, 21, 21);">&lt;signal.h&gt;<o:p></o:p></span></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体; color: rgb(163, 21, 21);" lang="EN-US"><o:p>&nbsp;</o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体; color: blue;" lang="EN-US">void</span><span style="font-family: 新宋体;" lang="EN-US"> <span style="color: rgb(1, 0, 1);">Abort</span>(<span style="color: blue;">int</span> <span style="color: rgb(1, 0, 1);">ai</span>)<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US">{<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span><span style="color: rgb(1, 0, 1);">printf</span>(<span style="color: rgb(163, 21, 21);">"catch the SIGABRT and agrument is %d"</span>, <span style="color: rgb(1, 0, 1);">ai</span>);<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US">}<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><o:p>&nbsp;</o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体; color: blue;" lang="EN-US">int</span><span style="font-family: 新宋体;" lang="EN-US"> <span style="color: rgb(1, 0, 1);">main</span>()<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US">{<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><o:p>&nbsp;</o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span><span style="color: rgb(1, 0, 1);">printf</span>(<span style="color: rgb(163, 21, 21);">"Running/n"</span>);<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><o:p>&nbsp;</o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span><span style="color: rgb(1, 0, 1);">signal</span>(<span style="color: rgb(1, 0, 1);">SIGABRT</span>, <span style="color: rgb(1, 0, 1);">Abort</span>);<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><o:p>&nbsp;</o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span><span style="color: rgb(1, 0, 1);">abort</span>();<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><o:p>&nbsp;</o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span><span style="color: rgb(1, 0, 1);">printf</span>(<span style="color: rgb(163, 21, 21);">"Still Running/n"</span>);<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">return</span> 0;<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US">}<o:p></o:p></span></p>
<p class="MsoNormal"><span style="font-family: 宋体;" lang="EN-US"><o:p>&nbsp;</o:p></span></p>
<p class="MsoNormal"><span style="font-family: 宋体;">此例子在<span lang="EN-US">windows</span>下和<span lang="EN-US">linux</span>下效果一致，都是在调用<span lang="EN-US">abort</span>函数后引发<span lang="EN-US">SIGABRT</span>消息，因为先用<span lang="EN-US">signal</span>捕获了此消息并指定此时调用<span lang="EN-US">Abort</span>函数，所以最后的输出都是<span lang="EN-US"><o:p></o:p></span></span></p>
<p class="MsoNormal"><span style="font-family: 宋体;" lang="EN-US">Running<o:p></o:p></span></p>
<p class="MsoNormal"><span style="" lang="EN-US">catch the SIGABRT and agrument is %d<o:p></o:p></span></p>
<p class="MsoNormal"><span style="font-family: 宋体;">有所不同的是，在<span lang="EN-US">windows</span>下<span lang="EN-US">%d</span>为<span lang="EN-US">22</span>，<span lang="EN-US">linux</span>下为<span lang="EN-US">6</span>，不知道为什么<span lang="EN-US">windows</span>要特意做的和别人不一样，然后特意声明一个<span lang="EN-US"><o:p></o:p></span></span></p>
<p class="MsoNormal"><span style="line-height: 115%; font-family: 新宋体; color: blue;" lang="EN-US">#define</span><span style="line-height: 115%; font-family: 新宋体;" lang="EN-US"> <span style="color: rgb(1, 0, 1);">SIGABRT_COMPAT</span><span style="">&nbsp; </span>6<span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
</span><span style="color: green;">/* SIGABRT compatible with other platforms,<br />
same as SIGABRT */</span></span><span style="font-family: 宋体;" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal"><span style="font-family: 宋体;">这一点我比较不解。</span><span style="" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal"><span style="font-family: 宋体;">另外，通过对</span><span style="" lang="EN-US">signal</span><span style="font-family: 宋体;">使用的例子可以看出来，响应的函数的参数实际就是消息定义的值。这样的好处是你可以为所有的消息定义一个函数，然后通过参数来判断到底是哪个消息。就类似与</span><span style="" lang="EN-US">windows</span><span style="font-family: 宋体;">下可以</span><span style="" lang="EN-US">SetTimer</span><span style="font-family: 宋体;">多次，而只</span><span style="" lang="EN-US">OnTimer</span><span style="font-family: 宋体;">一个函数中响应，通过</span><span style="" lang="EN-US">Timer</span><span style="font-family: 宋体;">的</span><span style="" lang="EN-US">ID</span><span style="font-family: 宋体;">来判断到底是哪个时间到了。</span><span style="" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal"><span style="font-family: 宋体;">再次说明一下，我并不是来说明函数的用法的。。。所以</span><span style="" lang="EN-US">signal</span><span style="font-family: 宋体;">函数的参数什么的都省略了，请参考</span><span style="" lang="EN-US">MSDN</span><span style="font-family: 宋体;">或者</span><span style="" lang="EN-US">&lt;advanced programming in the UNIX<br />
environment&gt;</span><span style="font-family: 宋体;">一书。</span><span style="" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal"><span style="font-family: 宋体;">另外，说明一下的是，假如在</span><span style="" lang="EN-US">Abort</span><span style="font-family: 宋体;">这个响应函数中提前用</span><span style="" lang="EN-US">exit</span><span style="font-family: 宋体;">函数退出程序，那么在</span><span style="" lang="EN-US">linux</span><span style="font-family: 宋体;">下就不会再次触发系统的默认响应，并且程序的退出代码也由</span><span style="" lang="EN-US">exit</span><span style="font-family: 宋体;">函数指定了。</span><span style="" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal"><span style="font-family: 宋体;">在</span><span style="" lang="EN-US">windows</span><span style="font-family: 宋体;">下，总是会触发系统的默认响应并弹出对话框。。。。。</span><span style="" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal"><span style="font-family: 宋体;">另外，试图忽略</span><span style="" lang="EN-US">SIGABORT</span><span style="font-family: 宋体;">消息（在</span><span style="" lang="EN-US">signal</span><span style="font-family: 宋体;">函数的第二参数用</span><span style="" lang="EN-US">SIG_IGN</span><span style="font-family: 宋体;">），我总是没有成功输出过</span><span style="" lang="EN-US">Still running</span><span style="font-family: 宋体;">的语句，并且总是会触发系统默认响应，无论在</span><span style="" lang="EN-US">windows</span><span style="font-family: 宋体;">还是</span><span style="" lang="EN-US">linux</span><span style="font-family: 宋体;">下都是这样，希望有人可以告诉我为什么。</span><span style="" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal"><span style="font-family: 宋体;">最后，需要注意的是</span><span style="" lang="EN-US">Aborted</span><span style="font-family: 宋体;">这个</span><span style="" lang="EN-US">linux</span><span style="font-family: 宋体;">下的输出实际实在错误流中输出的，比如以上例子编译为</span><span style="" lang="EN-US">test</span><span style="font-family: 宋体;">程序，通过</span><span style="" lang="EN-US">echo `./test`</span><span style="font-family: 宋体;">你可以看到，实际只有</span><span style="" lang="EN-US">Running</span><span style="font-family: 宋体;">输出到标准输出。</span><span style="" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal"><span style="" lang="EN-US"><o:p>&nbsp;</o:p></span></p>
<h2><span style="font-family: 宋体;">实现：</span><span style="" lang="EN-US"><o:p></o:p></span></h2>
<p class="MsoNormal"><span style="" lang="EN-US">MS:</span><span style="font-family: 宋体;">（删除次要部分）</span><span style="" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体; color: blue;" lang="EN-US">void</span><span style="font-family: 新宋体;" lang="EN-US"> <span style="color: blue;">__cdecl</span> <span style="color: rgb(1, 0, 1);">abort</span> (<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">void<o:p></o:p></span></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>)<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US">{<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span><span style="color: rgb(1, 0, 1);">_PHNDLR</span> <span style="color: rgb(1, 0, 1);">sigabrt_act</span> = <span style="color: rgb(1, 0, 1);">SIG_DFL</span>;<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><o:p>&nbsp;</o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">if</span> (<span style="color: rgb(1, 0, 1);">__abort_behavior</span> &amp; <span style="color: rgb(1, 0, 1);">_WRITE_ABORT_MSG</span>)<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: green;">/* write the<br />
abort message */<o:p></o:p></span></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: rgb(1, 0, 1);">_NMSG_WRITE</span>(<span style="color: rgb(1, 0, 1);">_RT_ABORT</span>);<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><o:p>&nbsp;</o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US">................<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span><span style="color: green;">/* Check if the<br />
user installed a handler for SIGABRT.<o:p></o:p></span></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体; color: green;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp; </span>* We need to read the user handler<br />
atomically in the case<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体; color: green;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp; </span>* another thread is aborting while we<br />
change the signal<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体; color: green;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp; </span>* handler.<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体; color: green;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp; </span>*/<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span><span style="color: rgb(1, 0, 1);">sigabrt_act</span><br />
= <span style="color: rgb(1, 0, 1);">__get_sigabrt</span>();<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">if</span> (<span style="color: rgb(1, 0, 1);">sigabrt_act</span> != <span style="color: rgb(1, 0, 1);">SIG_DFL</span>)<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: rgb(1, 0, 1);">raise</span>(<span style="color: rgb(1, 0, 1);">SIGABRT</span>);<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span><span style="color: rgb(1, 0, 1);">_exit</span>(3);<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US">}<o:p></o:p></span></p>
<p class="MsoNormal"><span style="" lang="EN-US"><o:p>&nbsp;</o:p></span></p>
<p class="MsoNormal"><span style="font-family: 宋体;">先调用</span><span style="line-height: 115%; font-family: 新宋体; color: rgb(1, 0, 1);" lang="EN-US">_NMSG_WRITE</span><span style="line-height: 115%; font-family: 新宋体; color: rgb(1, 0, 1);">函数输出<span lang="EN-US">abort</span>的错误信息，此时即弹出了对话框，无论你怎么设置忽略或者响应函数都没有用。</span><span style="" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal"><span style="font-family: 宋体;">当没有忽略此消息时调用</span><span style="line-height: 115%; font-family: 新宋体; color: rgb(1, 0, 1);" lang="EN-US">raise</span><span style="line-height: 115%; font-family: 新宋体;" lang="EN-US">(<span style="color: rgb(1, 0, 1);">SIGABRT</span>)</span><span style="line-height: 115%; font-family: 新宋体;">产生消息。<span lang="EN-US"><o:p></o:p></span></span></p>
<p class="MsoNormal"><span style="line-height: 115%; font-family: 新宋体; color: red;">最后调用<span lang="EN-US">_exit</span>返回错误代码<span lang="EN-US">3</span>作为返回值。这里明明返回了<span lang="EN-US">3</span>，但是我怎么得到程序的返回值总是<span lang="EN-US">0</span>？奇了怪了。</span><span style="color: red;" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal"><span style="" lang="EN-US">gcc:<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体; color: green;" lang="EN-US">/* We must<br />
avoid to run in circles.<span style="">&nbsp; </span>Therefore we<br />
remember how far we<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体; color: green;" lang="EN-US">already<br />
got.<span style="">&nbsp; </span>*/<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体; color: blue;" lang="EN-US">static</span><span style="font-family: 新宋体;" lang="EN-US"> <span style="color: blue;">int</span> <span style="color: rgb(1, 0, 1);">stage</span>;<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><o:p>&nbsp;</o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体; color: green;" lang="EN-US">/* We<br />
should be prepared for multiple threads trying to run abort.<span style="">&nbsp; </span>*/<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体; color: rgb(1, 0, 1);" lang="EN-US">__libc_lock_define_initialized_recursive</span><span style="font-family: 新宋体;" lang="EN-US"> (<span style="color: blue;">static</span>,<br />
<span style="color: rgb(1, 0, 1);">lock</span>);<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><o:p>&nbsp;</o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><o:p>&nbsp;</o:p></span></p>
<p class="MsoNormal"><span style="line-height: 115%; font-family: 新宋体; color: green;" lang="EN-US">/* Cause an abnormal program<br />
termination with core-dump.<span style="">&nbsp; </span>*/</span><span style="" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体; color: blue;" lang="EN-US">void </span><span style="font-family: 新宋体; color: rgb(1, 0, 1);" lang="EN-US">abort</span><span style="font-family: 新宋体;" lang="EN-US"> (<span style="color: blue;">void</span>)<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US">{<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">struct</span> <span style="color: rgb(1, 0, 1);">sigaction</span><br />
<span style="color: rgb(1, 0, 1);">act</span>;<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span><span style="color: rgb(1, 0, 1);">sigset_t</span> <span style="color: rgb(1, 0, 1);">sigs</span>;<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><o:p>&nbsp;</o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span><span style="color: green;">/* First acquire the lock.<span style="">&nbsp; </span>*/<o:p></o:p></span></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span><span style="color: rgb(1, 0, 1);">__libc_lock_lock_recursive</span> (<span style="color: rgb(1, 0, 1);">lock</span>);<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><o:p>&nbsp;</o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span><span style="color: green;">/* Now it's for sure we are alone.<span style="">&nbsp; </span>But recursive calls are possible.<span style="">&nbsp; </span>*/<o:p></o:p></span></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体; color: green;" lang="EN-US"><o:p>&nbsp;</o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span><span style="color: green;">/* Unlock SIGABRT.<span style="">&nbsp; </span>*/<o:p></o:p></span></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">if</span> (<span style="color: rgb(1, 0, 1);">stage</span><br />
== 0)<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>++<span style="color: rgb(1, 0, 1);">stage</span>;<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">if</span> (<span style="color: rgb(1, 0, 1);">__sigemptyset</span><br />
(&amp;<span style="color: rgb(1, 0, 1);">sigs</span>) == 0 &amp;&amp;<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: rgb(1, 0, 1);">__sigaddset</span> (&amp;<span style="color: rgb(1, 0, 1);">sigs</span>, <span style="color: rgb(1, 0, 1);">SIGABRT</span>)<br />
== 0)<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: rgb(1, 0, 1);">__sigprocmask</span> (<span style="color: rgb(1, 0, 1);">SIG_UNBLOCK</span>, &amp;<span style="color: rgb(1, 0, 1);">sigs</span>,<br />
(<span style="color: rgb(1, 0, 1);">sigset_t</span> *) <span style="color: rgb(1, 0, 1);">NULL</span>);<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><o:p>&nbsp;</o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span><span style="color: green;">/* Flush all streams.<span style="">&nbsp; </span>We cannot close them now because the user<o:p></o:p></span></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体; color: green;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span>might have registered a handler for<br />
SIGABRT.<span style="">&nbsp; </span>*/<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">if</span> (<span style="color: rgb(1, 0, 1);">stage</span><br />
== 1)<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>++<span style="color: rgb(1, 0, 1);">stage</span>;<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: rgb(1, 0, 1);">fflush</span> (<span style="color: rgb(1, 0, 1);">NULL</span>);<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><o:p>&nbsp;</o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span><span style="color: green;">/* Send signal which possibly calls a<br />
user handler.<span style="">&nbsp; </span>*/<o:p></o:p></span></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">if</span> (<span style="color: rgb(1, 0, 1);">stage</span><br />
== 2)<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span><span style="">&nbsp;&nbsp;&nbsp; </span><span style="color: green;">/*<br />
This stage is special: we must allow repeated calls of<o:p></o:p></span></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体; color: green;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>`abort' when a user defined handler for<br />
SIGABRT is installed.<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体; color: green;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>This is risky since the `raise'<br />
implementation might also<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体; color: green;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>fail but I don't see another<br />
possibility.<span style="">&nbsp; </span>*/<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">int</span> <span style="color: rgb(1, 0, 1);">save_stage</span><br />
= <span style="color: rgb(1, 0, 1);">stage</span>;<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><o:p>&nbsp;</o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: rgb(1, 0, 1);">stage</span> = 0;<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: rgb(1, 0, 1);">__libc_lock_unlock_recursive</span><br />
(<span style="color: rgb(1, 0, 1);">lock</span>);<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><o:p>&nbsp;</o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: rgb(1, 0, 1);">raise</span> (<span style="color: rgb(1, 0, 1);">SIGABRT</span>);<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><o:p>&nbsp;</o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: rgb(1, 0, 1);">__libc_lock_lock_recursive</span><br />
(<span style="color: rgb(1, 0, 1);">lock</span>);<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: rgb(1, 0, 1);">stage</span> = <span style="color: rgb(1, 0, 1);">save_stage</span> + 1;<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><o:p>&nbsp;</o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span><span style="color: green;">/* There was a handler installed.<span style="">&nbsp; </span>Now remove it.<span style="">&nbsp; </span>*/<o:p></o:p></span></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">if</span> (<span style="color: rgb(1, 0, 1);">stage</span><br />
== 3)<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>++<span style="color: rgb(1, 0, 1);">stage</span>;<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: rgb(1, 0, 1);">memset</span> (&amp;<span style="color: rgb(1, 0, 1);">act</span>, <span style="color: rgb(163, 21, 21);">'/0'</span>, <span style="color: blue;">sizeof</span> (<span style="color: blue;">struct</span> <span style="color: rgb(1, 0, 1);">sigaction</span>));<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: rgb(1, 0, 1);">act</span>.<span style="color: rgb(1, 0, 1);">sa_handler</span> = <span style="color: rgb(1, 0, 1);">SIG_DFL</span>;<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: rgb(1, 0, 1);">__sigfillset</span> (&amp;<span style="color: rgb(1, 0, 1);">act</span>.<span style="color: rgb(1, 0, 1);">sa_mask</span>);<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: rgb(1, 0, 1);">act</span>.<span style="color: rgb(1, 0, 1);">sa_flags</span> = 0;<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: rgb(1, 0, 1);">__sigaction</span> (<span style="color: rgb(1, 0, 1);">SIGABRT</span>, &amp;<span style="color: rgb(1, 0, 1);">act</span>,<br />
<span style="color: rgb(1, 0, 1);">NULL</span>);<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><o:p>&nbsp;</o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span><span style="color: green;">/* Now close the streams which also<br />
flushes the output the user<o:p></o:p></span></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体; color: green;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span>defined handler might has produced.<span style="">&nbsp; </span>*/<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">if</span> (<span style="color: rgb(1, 0, 1);">stage</span><br />
== 4)<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>++<span style="color: rgb(1, 0, 1);">stage</span>;<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: rgb(1, 0, 1);">__fcloseall</span> ();<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><o:p>&nbsp;</o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span><span style="color: green;">/* Try again.<span style="">&nbsp; </span>*/<o:p></o:p></span></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">if</span> (<span style="color: rgb(1, 0, 1);">stage</span><br />
== 5)<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>++<span style="color: rgb(1, 0, 1);">stage</span>;<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: rgb(1, 0, 1);">raise</span> (<span style="color: rgb(1, 0, 1);">SIGABRT</span>);<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><o:p>&nbsp;</o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span><span style="color: green;">/* Now try to abort using the system<br />
specific command.<span style="">&nbsp; </span>*/<o:p></o:p></span></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">if</span> (<span style="color: rgb(1, 0, 1);">stage</span><br />
== 6)<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>++<span style="color: rgb(1, 0, 1);">stage</span>;<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: rgb(1, 0, 1);">ABORT_INSTRUCTION</span>;<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><o:p>&nbsp;</o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span><span style="color: green;">/* If we can't signal ourselves and the<br />
abort instruction failed, exit.<span style="">&nbsp; </span>*/<o:p></o:p></span></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">if</span> (<span style="color: rgb(1, 0, 1);">stage</span><br />
== 7)<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span>{<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>++<span style="color: rgb(1, 0, 1);">stage</span>;<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: rgb(1, 0, 1);">_exit</span> (127);<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span>}<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><o:p>&nbsp;</o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span><span style="color: green;">/* If even this fails try to use the<br />
provided instruction to crash<o:p></o:p></span></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体; color: green;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span>or otherwise make sure we never return.<span style="">&nbsp; </span>*/<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span><span style="color: blue;">while</span> (1)<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: green;">/* Try for ever and ever.<span style="">&nbsp; </span>*/<o:p></o:p></span></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="color: rgb(1, 0, 1);">ABORT_INSTRUCTION</span>;<o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 新宋体;" lang="EN-US">}<o:p></o:p></span></p>
<p class="MsoNormal"><span style="" lang="EN-US"><o:p>&nbsp;</o:p></span></p>
<p class="MsoNormal"><span style="font-family: 宋体;">做的工作差不多，实现手段差好远啊，</span><span style="" lang="EN-US">linux</span><span style="font-family: 宋体;">下多的就是一个文件的</span><span style="" lang="EN-US">flush</span><span style="font-family: 宋体;">和</span><span style="" lang="EN-US">close</span><span style="font-family: 宋体;">还有用</span><span style="" lang="EN-US">static stage</span><span style="font-family: 宋体;">的方式来允许递归的</span><span style="" lang="EN-US">abort</span><span style="font-family: 宋体;">调用。</span><span style="" lang="EN-US">glibc</span><span style="font-family: 宋体;">中详尽的注释可帮了我不少忙。以前还真没有见到过类似的用法，今天算是长见识了。说实话，这样一个简单的函数，我并没有完全看懂，可能需要有时间一步一步跟，并创造递归</span><span style="" lang="EN-US">abort</span><span style="font-family: 宋体;">调用的情况才能很好的理解。</span><span style="" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal"><span style="" lang="EN-US">windows</span><span style="font-family: 宋体;">这点可能是由操作系统自己做了，所以没有在</span><span style="" lang="EN-US">abort</span><span style="font-family: 宋体;">函数中有体现。</span><span style="" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal"><span style="font-family: 宋体; color: red;">另外，我怎么测试返回值都是</span><span style="color: red;" lang="EN-US">134......</span><span style="font-family: 宋体; color: red;">但是很明显调用的是</span><span style="color: red;" lang="EN-US">_exit(127)</span><span style="font-family: 宋体; color: red;">，原因和</span><span style="color: red;" lang="EN-US">windows</span><span style="font-family: 宋体; color: red;">老是返回</span><span style="color: red;" lang="EN-US">0</span><span style="font-family: 宋体; color: red;">一样不明。</span><span style="color: red;" lang="EN-US"><o:p></o:p></span></p>
<h2><span style="font-family: 宋体;">效率测试：</span><span style="" lang="EN-US"><o:p></o:p></span></h2>
<p class="MsoNormal"><span style="font-family: 宋体;">略</span><span style="" lang="EN-US"><o:p></o:p></span></p>
<h2><span style="font-family: 宋体;">相关函数：</span><span style="" lang="EN-US"><o:p></o:p></span></h2>
<p class="MsoNormal"><span style="line-height: 115%; font-family: 新宋体;" lang="EN-US">raise</span><span style="line-height: 115%; font-family: 新宋体;">，<span lang="EN-US">signal<o:p></o:p></span></span></p>
<p class="MsoNormal"><span style="line-height: 115%; font-family: 新宋体;" lang="EN-US"><o:p>&nbsp;</o:p></span></p>
<h2><span style="font-family: 宋体;">个人想法：</span><span style="" lang="EN-US"><o:p></o:p></span></h2>
<p class="MsoNormal"><span style="font-family: 宋体;">虽然</span><span style="" lang="EN-US">windows</span><span style="font-family: 宋体;">也包含消息，虽然那</span><span style="" lang="EN-US">6</span><span style="font-family: 宋体;">个消息是</span><span style="" lang="EN-US">ANSI</span><span style="font-family: 宋体;">的标准，但是个人推荐，对于可移植的东西来说，最好是不要用消息了，除非你确定只用</span><span style="" lang="EN-US">windows</span><span style="font-family: 宋体;">的那</span><span style="" lang="EN-US">6</span><span style="font-family: 宋体;">个消息。即使你只用这六个消息，你都会发现</span><span style="" lang="EN-US">windows</span><span style="font-family: 宋体;">运行的特性与</span><span style="" lang="EN-US">linux</span><span style="font-family: 宋体;">不同。不然，对于消息系统来说，要实现</span><span style="" lang="EN-US">windows</span><span style="font-family: 宋体;">中没有实现的消息不是太容易的事情。。。。。所以，强大的消息系统只能在</span><span style="" lang="EN-US">windows</span><span style="font-family: 宋体;">中找替代方案了。对于</span><span style="" lang="EN-US">windows/linux</span><span style="font-family: 宋体;">可移植的东西来说，这也是最大最大的一个缺憾，那就是你不能用太多平台相关的东西，而偏偏很多这样的东西就是这个平台中最好的东西。比如</span><span style="" lang="EN-US">Windows</span><span style="font-family: 宋体;">的核心对象系统，</span><span style="" lang="EN-US">linux</span><span style="font-family: 宋体;">下的消息系统等等等等，真是缺憾啊。。。</span><span style="" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal"><span style="font-family: 宋体;">本来因为有宏嘛，可以在所有类似的系统上再封一层，以达到虽然使用不同的东西也可以保持很好的移植性。但是对于消息系统或者</span><span style="" lang="EN-US">Windows SEH</span><span style="font-family: 宋体;">这样彻底的破坏程序流程的东西，根本是没有办法通过宏来做到的。宏毕竟不是万能的。</span><span style="" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal"><span style="font-family: 宋体;">在实在没有办法的时候，只能把你所封的那一层尽量的调高了（可以到类）。那样，代码量的增加几乎是一倍，除非必要，并不是太值得。（在封装网络模块的时候只能用到）</span><span style="" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal"><span style="font-family: 宋体;">在非必要的时候，尽量做到最简单的封装（在简单的函数这一层），这样统一的程序流程和逻辑，也更加容易理解，代码量也小。</span><span style="" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal"><span style="font-family: 宋体;">而对于消息系统这样破坏程序流程的东西，甚至想封在一个子类里面，然后使用共同的接口都不是太容易。</span><span style="" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal"><span style="font-family: 宋体;">总而言之，非必要，个人认为，可移植程序，少用消息系统。</span><span style="" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal"><span style="" lang="EN-US"><o:p>&nbsp;</o:p></span></p>
<p class="MsoNormal"><span style="" lang="EN-US"><o:p>&nbsp;</o:p></span></p>
<p class="MsoNormal" style="text-align: right;" align="right"><span class="MsoIntenseReference"><span style="" lang="EN-US">write<br />
by </span></span><span class="MsoIntenseReference"><span style="font-family: 宋体;">九天雁翎</span></span><span class="MsoIntenseReference"><span style="" lang="EN-US">(JTianLing)<br />
-- www.jtianling.com<o:p></o:p></span></span></p>
