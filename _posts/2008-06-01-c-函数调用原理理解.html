---
layout: post
title: C++函数调用原理理解
categories:
- C++
tags:
- C++
status: publish
type: post
published: true
meta:
  ratings_users: '0'
  ratings_score: '0'
  ratings_average: '0'
  views: '8'
author:
  login: jtianling
  email: jtianling@gmail.com
  display_name: jtianling
  first_name: ''
  last_name: ''
---

<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">空程序<span lang="en-us">:<?xml version='1.0' encoding='utf-8'?><o:p></o:p></span></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">int main()<o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">{<o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00411360<span style="mso-spacerun: yes">&nbsp; </span>push<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>ebp<span style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>;</span><span style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">压入<span lang="en-us">ebp<o:p></o:p></span></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt 204pt; text-indent: -204pt; text-align: left; mso-layout-grid-align: none; mso-char-indent-count: -17.0" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00411361<span style="mso-spacerun: yes">&nbsp; </span>mov<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>ebp,esp<span style="mso-tab-count: 1">&nbsp;&nbsp;&nbsp;&nbsp; </span>;ebp = esp,</span><span style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">保留<span lang="en-us">esp,</span>待函数调用完再恢复<span lang="en-us">,</span>因为函数调用中肯定会用到<span lang="en-us">esp.<o:p></o:p></span></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00411363<span style="mso-spacerun: yes">&nbsp; </span>sub<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>esp,<?xml version='1.0' encoding='utf-8'?><st1:chmetcnv w:st="on" tcsc="0" numbertype="1" negative="false" hasspace="false" sourcevalue="0" unitname="c">0C</st1:chmetcnv>0h ;esp-=<st1:chmetcnv w:st="on" tcsc="0" numbertype="1" negative="false" hasspace="false" sourcevalue="0" unitname="c">0C</st1:chmetcnv>0h(192);</span><span style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">为该函数留出临时存储区<span lang="en-us"><o:p></o:p></span></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">;</span><span style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">将其他指针或寄存器中的值入栈，以便在函数中使用这些寄存器。<span lang="en-us"><o:p></o:p></span></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00411369<span style="mso-spacerun: yes">&nbsp; </span>push<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>ebx<span style="mso-spacerun: yes">&nbsp; </span><span style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </span>;</span><span style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">压入<span lang="en-us">ebx<o:p></o:p></span></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><st1:chmetcnv w:st="on" tcsc="0" numbertype="1" negative="false" hasspace="false" sourcevalue="41136" unitname="a"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">0041136A</span></st1:chmetcnv><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes"><span style="mso-spacerun: yes">&nbsp; </span>push<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>esi<span style="mso-spacerun: yes">&nbsp; </span><span style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </span>;</span><span style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">压入<span lang="en-us">esi<o:p></o:p></span></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">0041136B<span style="mso-spacerun: yes">&nbsp; </span>push<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>edi<span style="mso-spacerun: yes">&nbsp; </span><span style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </span>;</span><span style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">压入<span lang="en-us">edi<o:p></o:p></span></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><st1:chmetcnv w:st="on" tcsc="0" numbertype="1" negative="false" hasspace="false" sourcevalue="41136" unitname="c"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">0041136C</span></st1:chmetcnv><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes"><span style="mso-spacerun: yes">&nbsp; </span>lea<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>edi,[ebp<st1:chmetcnv w:st="on" tcsc="0" numbertype="1" negative="true" hasspace="false" sourcevalue="0" unitname="c">-0C</st1:chmetcnv>0h] ;</span><span style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">读入<span lang="en-us">[ebp<st1:chmetcnv w:st="on" tcsc="0" numbertype="1" negative="true" hasspace="false" sourcevalue="0" unitname="c">-0C</st1:chmetcnv>0h]</span>有效地址<span lang="en-us">,</span>即原<span lang="en-us">esp<st1:chmetcnv w:st="on" tcsc="0" numbertype="1" negative="true" hasspace="false" sourcevalue="0" unitname="c">-0C</st1:chmetcnv>0h,</span>正好是为该函数留出的临时存储区的最低位<span lang="en-us"><o:p></o:p></span></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00411372<span style="mso-spacerun: yes">&nbsp; </span>mov<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>ecx,30h <span style="mso-tab-count: 1">&nbsp; </span>;ecx = 30h(48),30h*4 = <st1:chmetcnv w:st="on" tcsc="0" numbertype="1" negative="false" hasspace="false" sourcevalue="0" unitname="c">0C</st1:chmetcnv>0h<o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00411377<span style="mso-spacerun: yes">&nbsp; </span>mov<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>eax,0CCCCCCCCh ;eax = 0CCCCCCCCh;<o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt 258pt; text-indent: -258pt; text-align: left; mso-layout-grid-align: none; mso-char-indent-count: -21.5" align="left"><st1:chmetcnv w:st="on" tcsc="0" numbertype="1" negative="false" hasspace="false" sourcevalue="41137" unitname="c"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">0041137C</span></st1:chmetcnv><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes"><span style="mso-spacerun: yes">&nbsp; </span>rep stos<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>dword ptr es:[edi] ;</span><span style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">重复在<span lang="en-us">es:[edi]</span>存入<span lang="en-us">30</span>个<span lang="en-us">;0CCCCCCCCh? Debug</span>模式下把<span lang="en-us">Stack</span>上的变量初始化为<span lang="en-us">0xcc</span>，检查未初始化的问题</span><b><span lang="en-us" style="font-size: 9pt; font-family: arial; mso-bidi-font-family: 'times new roman'"><o:p></o:p></span></b></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt 258pt; text-indent: -258pt; text-align: left; mso-layout-grid-align: none; mso-char-indent-count: -21.5" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">return 0;<o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">0041137E<span style="mso-spacerun: yes">&nbsp; </span>xor<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>eax,eax <span style="mso-tab-count: 1">&nbsp; </span>;</span><span style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">将<span lang="en-us">eax</span>清零<span lang="en-us">,</span>作为返回值<span lang="en-us"><o:p></o:p></span></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">}<o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">;</span><span style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">各指针出栈<span lang="en-us"><o:p></o:p></span></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00411380<span style="mso-spacerun: yes">&nbsp; </span>pop<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>edi<span style="mso-spacerun: yes">&nbsp; </span><span style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>;</span><span style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">弹出<span lang="en-us">edi<o:p></o:p></span></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00411381<span style="mso-spacerun: yes">&nbsp; </span>pop<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;</span>esi<span style="mso-spacerun: yes">&nbsp; </span><span style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>;</span><span style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">弹出<span lang="en-us">esi<o:p></o:p></span></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00411382<span style="mso-spacerun: yes">&nbsp; </span>pop<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>ebx<span style="mso-spacerun: yes">&nbsp; </span><span style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>;</span><span style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">弹出<span lang="en-us">ebx<o:p></o:p></span></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00411383<span style="mso-spacerun: yes">&nbsp; </span>mov<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>esp,ebp <span style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </span>;esp</span><span style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">复原<span lang="en-us"><o:p></o:p></span></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00411385<span style="mso-spacerun: yes">&nbsp; </span>pop<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>ebp<span style="mso-spacerun: yes">&nbsp; </span><span style="mso-tab-count: 3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>;</span><span style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">弹出<span lang="en-us">ebp,</span>也复原<span lang="en-us"><o:p></o:p></span></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00411386<span style="mso-spacerun: yes">&nbsp; </span>ret<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="mso-tab-count: 4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>;</span><span style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">返回<span lang="en-us"><o:p></o:p></span></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes"><o:p>&nbsp;</o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes"><o:p>&nbsp;</o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt"><span style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">函数调用<span lang="en-us">:<o:p></o:p></span></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes"><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">int _tmain(int argc, _TCHAR* argv[])<o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">{<o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">同上理解<span lang="en-us">, </span>保存现场<span lang="en-us"><o:p></o:p></span></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">004113D0<span style="mso-spacerun: yes">&nbsp; </span>push<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>ebp<span style="mso-spacerun: yes">&nbsp; </span><o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">004113D1<span style="mso-spacerun: yes">&nbsp; </span>mov<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>ebp,esp <o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">004113D3<span style="mso-spacerun: yes">&nbsp; </span>sub<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>esp,<st1:chmetcnv w:st="on" tcsc="0" numbertype="1" negative="false" hasspace="false" sourcevalue="0" unitname="f">0F</st1:chmetcnv>0h ;</span><span style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">一共留了<st1:chmetcnv w:st="on" tcsc="0" numbertype="1" negative="false" hasspace="false" sourcevalue="0" unitname="f"><span lang="en-us">0F</span></st1:chmetcnv><span lang="en-us">0h(240)</span>空间<span lang="en-us"><o:p></o:p></span></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">004113D9<span style="mso-spacerun: yes">&nbsp; </span>push<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>ebx<span style="mso-spacerun: yes">&nbsp; </span><o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">004113DA<span style="mso-spacerun: yes">&nbsp; </span>push<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>esi<span style="mso-spacerun: yes">&nbsp; </span><o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">004113DB<span style="mso-spacerun: yes">&nbsp; </span>push<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>edi<span style="mso-spacerun: yes">&nbsp; </span><o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">004113DC<span style="mso-spacerun: yes">&nbsp; </span>lea<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>edi,[ebp<st1:chmetcnv w:st="on" tcsc="0" numbertype="1" negative="true" hasspace="false" sourcevalue="0" unitname="f">-0F</st1:chmetcnv>0h] <o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">004113E2<span style="mso-spacerun: yes">&nbsp; </span>mov<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>ecx,3Ch ; ecx = <st1:chmetcnv w:st="on" tcsc="0" numbertype="1" negative="false" hasspace="false" sourcevalue="3" unitname="c">3C</st1:chmetcnv>(60),<st1:chmetcnv w:st="on" tcsc="0" numbertype="1" negative="false" hasspace="false" sourcevalue="3" unitname="c">3C</st1:chmetcnv>*4 = <st1:chmetcnv w:st="on" tcsc="0" numbertype="1" negative="false" hasspace="false" sourcevalue="0" unitname="f">0F</st1:chmetcnv>0h,<o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">004113E7<span style="mso-spacerun: yes">&nbsp; </span>mov<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>eax,0CCCCCCCCh <o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">004113EC<span style="mso-spacerun: yes">&nbsp; </span>rep stos<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>dword ptr es:[edi] <o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">同上理解<span lang="en-us">.<o:p></o:p></span></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes"><span style="mso-tab-count: 1">&nbsp;&nbsp;&nbsp; </span>int a = 1, b = 2, c = 3;<o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">定义<span lang="en-us">a,b,c</span>并存储在为函数留出的临时存储空间中<span lang="en-us">.<o:p></o:p></span></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">004113EE<span style="mso-spacerun: yes">&nbsp; </span>mov<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>dword ptr [a],1 <o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><st1:chmetcnv w:st="on" tcsc="0" numbertype="1" negative="false" hasspace="false" sourcevalue="4113" unitname="f"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">004113F</span></st1:chmetcnv><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">5<span style="mso-spacerun: yes">&nbsp; </span>mov<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>dword ptr [b],2 <o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">004113FC<span style="mso-spacerun: yes">&nbsp; </span>mov<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>dword ptr [c],3 <o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes"><span style="mso-tab-count: 1">&nbsp;&nbsp;&nbsp; </span>int d = Fun1(a, b, c);<o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">参数反向入栈<span lang="en-us"><o:p></o:p></span></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00411403<span style="mso-spacerun: yes">&nbsp; </span>mov<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>eax,dword ptr [c] <o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00411406<span style="mso-spacerun: yes">&nbsp; </span>push<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>eax<span style="mso-spacerun: yes">&nbsp; </span><o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00411407<span style="mso-spacerun: yes">&nbsp; </span>mov<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>ecx,dword ptr [b] <o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><st1:chmetcnv w:st="on" tcsc="0" numbertype="1" negative="false" hasspace="false" sourcevalue="41140" unitname="a"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">0041140A</span></st1:chmetcnv><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes"><span style="mso-spacerun: yes">&nbsp; </span>push<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>ecx<span style="mso-spacerun: yes">&nbsp; </span><o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">0041140B<span style="mso-spacerun: yes">&nbsp; </span>mov<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>edx,dword ptr [a] <o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">0041140E<span style="mso-spacerun: yes">&nbsp; </span>push<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>edx<span style="mso-spacerun: yes">&nbsp; </span><o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes"><a href="http://writeblog.csdn.net/posteditplain.aspx#fun1"><span lang="en-us" style="color: windowtext"><span lang="en-us">调用Fun1</span></span></a><o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><st1:chmetcnv w:st="on" tcsc="0" numbertype="1" negative="false" hasspace="false" sourcevalue="41140" unitname="f"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">0041140F</span></st1:chmetcnv><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes"><span style="mso-spacerun: yes">&nbsp; </span>call<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Fun1 (4111DBh) ;Call</span><span style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">调用时将下一行命令的ＥＩＰ压入堆栈<span lang="en-us"><o:p></o:p></span></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt 90pt; text-indent: -90pt; text-align: left; mso-layout-grid-align: none; mso-char-indent-count: -7.5" align="left"><span style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">恢复因为<span lang="en-us">Fun1</span>参数入栈改变的栈指针<span lang="en-us">,</span>因为<span lang="en-us">Fun1</span>有<span lang="en-us">3</span>个参数<span lang="en-us">,</span>一个整数<span lang="en-us">4</span>个字节<span lang="en-us">,</span>共<span lang="en-us">0Ch(12)</span>个字节<span lang="en-us"><o:p></o:p></span></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><a name="ret00411414"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00411414<span style="mso-spacerun: yes">&nbsp; </span></span></a><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">add<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>esp,0Ch <o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00411417<span style="mso-spacerun: yes">&nbsp; </span>mov<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>dword ptr [d],eax <o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">将返回值保存在<span lang="en-us">d</span>中<span lang="en-us">.<o:p></o:p></span></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes"><span style="mso-tab-count: 1">&nbsp;&nbsp;&nbsp; </span>return 0;<o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">返回值为<span lang="en-us">0,</span>让<span lang="en-us">eax</span>清零<span lang="en-us"><o:p></o:p></span></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><st1:chmetcnv w:st="on" tcsc="0" numbertype="1" negative="false" hasspace="false" sourcevalue="41141" unitname="a"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">0041141A</span></st1:chmetcnv><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes"><span style="mso-spacerun: yes">&nbsp; </span>xor <span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>eax,eax <o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes"><o:p>&nbsp;</o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">}<o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes"><o:p>&nbsp;</o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">恢复现场<span lang="en-us"><o:p></o:p></span></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><st1:chmetcnv w:st="on" tcsc="0" numbertype="1" negative="false" hasspace="false" sourcevalue="41141" unitname="c"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">0041141C</span></st1:chmetcnv><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes"><span style="mso-spacerun: yes">&nbsp; </span>pop<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>edi<span style="mso-spacerun: yes">&nbsp; </span><o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">0041141D<span style="mso-spacerun: yes">&nbsp; </span>pop<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>esi<span style="mso-spacerun: yes">&nbsp; </span><o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">0041141E<span style="mso-spacerun: yes">&nbsp; </span>pop<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>ebx<span style="mso-spacerun: yes">&nbsp; </span><o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">以下全为运行时<span lang="en-us">ESP</span>检查<span lang="en-us">:<o:p></o:p></span></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">先恢复因为为<span lang="en-us">main</span>预留空间而改变的栈指针<span lang="en-us"><o:p></o:p></span></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><st1:chmetcnv w:st="on" tcsc="0" numbertype="1" negative="false" hasspace="false" sourcevalue="41141" unitname="f"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">0041141F</span></st1:chmetcnv><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes"><span style="mso-spacerun: yes">&nbsp; </span>add<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>esp,<st1:chmetcnv w:st="on" tcsc="0" numbertype="1" negative="false" hasspace="false" sourcevalue="0" unitname="f">0F</st1:chmetcnv>0h <o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00411425<span style="mso-spacerun: yes">&nbsp; </span>cmp<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>ebp,esp <o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00411427<span style="mso-spacerun: yes">&nbsp; </span>call<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>@ILT+320(__RTC_CheckEsp) (411145h) <o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">正常时只需要以下两句就可以正常恢复<span lang="en-us">esp,</span>再出栈<span lang="en-us">,</span>又可以恢复<span lang="en-us">ebp.<o:p></o:p></span></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><st1:chmetcnv w:st="on" tcsc="0" numbertype="1" negative="false" hasspace="false" sourcevalue="41142" unitname="c"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">0041142C</span></st1:chmetcnv><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes"><span style="mso-spacerun: yes">&nbsp; </span>mov<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>esp,ebp <o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">0041142E<span style="mso-spacerun: yes">&nbsp; </span>pop<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>ebp<span style="mso-spacerun: yes">&nbsp; </span><o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt"><st1:chmetcnv w:st="on" tcsc="0" numbertype="1" negative="false" hasspace="false" sourcevalue="41142" unitname="f"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">0041142F</span></st1:chmetcnv><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes"><span style="mso-spacerun: yes">&nbsp; </span>ret<span style="mso-tab-count: 2">&nbsp;&nbsp;&nbsp;&nbsp; </span>;main</span><span style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">返回<span lang="en-us"><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><o:p></o:p></span></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes"><o:p>&nbsp;</o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes"><o:p>&nbsp;</o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">int <a name="fun1">Fun1</a>(int a, int b, int c)<o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">{<o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">同上理解<span lang="en-us">, </span>保存现场<span lang="en-us"><o:p></o:p></span></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><st1:chmetcnv w:st="on" tcsc="0" numbertype="1" negative="false" hasspace="false" sourcevalue="411" unitname="a"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00411A</span></st1:chmetcnv><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">70<span style="mso-spacerun: yes">&nbsp; </span>push<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>ebp<span style="mso-spacerun: yes">&nbsp; </span><o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><st1:chmetcnv w:st="on" tcsc="0" numbertype="1" negative="false" hasspace="false" sourcevalue="411" unitname="a"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00411A</span></st1:chmetcnv><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">71<span style="mso-spacerun: yes">&nbsp; </span>mov<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>ebp,esp <o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><st1:chmetcnv w:st="on" tcsc="0" numbertype="1" negative="false" hasspace="false" sourcevalue="411" unitname="a"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00411A</span></st1:chmetcnv><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">73<span style="mso-spacerun: yes">&nbsp; </span>sub<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>esp,0E4h ;</span><span style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">留了<span lang="en-us">0E4H(228)</span>空间<span lang="en-us">,<o:p></o:p></span></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><st1:chmetcnv w:st="on" tcsc="0" numbertype="1" negative="false" hasspace="false" sourcevalue="411" unitname="a"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00411A</span></st1:chmetcnv><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">79<span style="mso-spacerun: yes">&nbsp; </span>push<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>ebx<span style="mso-spacerun: yes">&nbsp; </span><o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><st1:chmetcnv w:st="on" tcsc="0" numbertype="1" negative="false" hasspace="false" sourcevalue="411" unitname="a"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00411A</span></st1:chmetcnv><st1:chmetcnv w:st="on" tcsc="0" numbertype="1" negative="false" hasspace="false" sourcevalue="7" unitname="a"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">7A</span></st1:chmetcnv><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes"><span style="mso-spacerun: yes">&nbsp; </span>push<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>esi<span style="mso-spacerun: yes">&nbsp; </span><o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><st1:chmetcnv w:st="on" tcsc="0" numbertype="1" negative="false" hasspace="false" sourcevalue="411" unitname="a"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00411A</span></st1:chmetcnv><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">7B<span style="mso-spacerun: yes">&nbsp; </span>push<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>edi<span style="mso-spacerun: yes">&nbsp; </span><o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><st1:chmetcnv w:st="on" tcsc="0" numbertype="1" negative="false" hasspace="false" sourcevalue="411" unitname="a"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00411A</span></st1:chmetcnv><st1:chmetcnv w:st="on" tcsc="0" numbertype="1" negative="false" hasspace="false" sourcevalue="7" unitname="c"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">7C</span></st1:chmetcnv><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes"><span style="mso-spacerun: yes">&nbsp; </span>lea<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>edi,[ebp-0E4h] <o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><st1:chmetcnv w:st="on" tcsc="0" numbertype="1" negative="false" hasspace="false" sourcevalue="411" unitname="a"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00411A</span></st1:chmetcnv><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">82<span style="mso-spacerun: yes">&nbsp; </span>mov<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>ecx,39h ; 39H(57)*4 = 0E4H(228)<o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><st1:chmetcnv w:st="on" tcsc="0" numbertype="1" negative="false" hasspace="false" sourcevalue="411" unitname="a"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00411A</span></st1:chmetcnv><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">87<span style="mso-spacerun: yes">&nbsp; </span>mov<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>eax,0CCCCCCCCh <o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><st1:chmetcnv w:st="on" tcsc="0" numbertype="1" negative="false" hasspace="false" sourcevalue="411" unitname="a"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00411A</span></st1:chmetcnv><st1:chmetcnv w:st="on" tcsc="0" numbertype="1" negative="false" hasspace="false" sourcevalue="8" unitname="c"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">8C</span></st1:chmetcnv><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes"><span style="mso-spacerun: yes">&nbsp; </span>rep stos<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>dword ptr es:[edi] <o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes"><span style="mso-tab-count: 1">&nbsp;&nbsp;&nbsp; </span>int d = 4, e = 5;<o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">定义变量<span lang="en-us"><o:p></o:p></span></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><st1:chmetcnv w:st="on" tcsc="0" numbertype="1" negative="false" hasspace="false" sourcevalue="411" unitname="a"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00411A</span></st1:chmetcnv><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">8E<span style="mso-spacerun: yes">&nbsp; </span>mov<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>dword ptr [d],4 <o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><st1:chmetcnv w:st="on" tcsc="0" numbertype="1" negative="false" hasspace="false" sourcevalue="411" unitname="a"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00411A</span></st1:chmetcnv><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">95<span style="mso-spacerun: yes">&nbsp; </span>mov<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>dword ptr [e],5 <o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes"><o:p>&nbsp;</o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes"><span style="mso-tab-count: 1">&nbsp;&nbsp;&nbsp; </span>int f = Fun2(a, b, c, d, e);<o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">再次参数反向入栈<span lang="en-us"><o:p></o:p></span></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><st1:chmetcnv w:st="on" tcsc="0" numbertype="1" negative="false" hasspace="false" sourcevalue="411" unitname="a"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00411A</span></st1:chmetcnv><st1:chmetcnv w:st="on" tcsc="0" numbertype="1" negative="false" hasspace="false" sourcevalue="9" unitname="c"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">9C</span></st1:chmetcnv><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes"><span style="mso-spacerun: yes">&nbsp; </span>mov<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>eax,dword ptr [e] <o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><st1:chmetcnv w:st="on" tcsc="0" numbertype="1" negative="false" hasspace="false" sourcevalue="411" unitname="a"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00411A</span></st1:chmetcnv><st1:chmetcnv w:st="on" tcsc="0" numbertype="1" negative="false" hasspace="false" sourcevalue="9" unitname="f"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">9F</span></st1:chmetcnv><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes"><span style="mso-spacerun: yes">&nbsp; </span>push<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>eax<span style="mso-spacerun: yes">&nbsp; </span><o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00411AA0<span style="mso-spacerun: yes">&nbsp; </span>mov<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>ecx,dword ptr [d] <o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00411AA3<span style="mso-spacerun: yes">&nbsp; </span>push<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>ecx<span style="mso-spacerun: yes">&nbsp; </span><o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00411AA4<span style="mso-spacerun: yes">&nbsp; </span>mov<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>edx,dword ptr [c] <o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00411AA7<span style="mso-spacerun: yes">&nbsp; </span>push<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>edx<span style="mso-spacerun: yes">&nbsp; </span><o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00411AA8<span style="mso-spacerun: yes">&nbsp; </span>mov<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>eax,dword ptr [b] <o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00411AAB<span style="mso-spacerun: yes">&nbsp; </span>push<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>eax<span style="mso-spacerun: yes">&nbsp; </span><o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00411AAC<span style="mso-spacerun: yes">&nbsp; </span>mov<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>ecx,dword ptr [a] <o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00411AAF<span style="mso-spacerun: yes">&nbsp; </span>push<span style="mso-spacerun: yes">&nbsp; </span><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ecx<span style="mso-spacerun: yes">&nbsp; </span><o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes"><o:p>&nbsp;</o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes"><a href="http://writeblog.csdn.net/posteditplain.aspx#fun2"><span lang="en-us" style="color: windowtext"><span lang="en-us">调<span lang="en-us">用Fun2</span></span></span></a><o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00411AB0<span style="mso-spacerun: yes">&nbsp; </span>call<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Fun2 (4111D6h) ;Call</span><span style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">调用时将下一行命令的ＥＩＰ压入堆栈<span lang="en-us"><o:p></o:p></span></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes"><o:p>&nbsp;</o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt 90pt; text-indent: -90pt; text-align: left; mso-layout-grid-align: none; mso-char-indent-count: -7.5" align="left"><a name="ret00411ab5"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00411AB5<span style="mso-spacerun: yes">&nbsp; </span>add<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>esp,14h ;</span></a><span style="mso-bookmark: ret00411ab5"><span style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">恢复因为参数入栈改变的栈指针<span lang="en-us">,</span>因为<span lang="en-us">Fun2</span>有<span lang="en-us">5</span>个参数<span lang="en-us">,</span>一个整数<span lang="en-us">4</span>个字节<span lang="en-us">,</span>共<span lang="en-us">14h(20)</span>个字节<span lang="en-us"><o:p></o:p></span></span></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt 90pt; text-indent: -90pt; text-align: left; mso-layout-grid-align: none; mso-char-indent-count: -7.5" align="left"><span style="mso-bookmark: ret00411ab5"><span style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">将<span lang="en-us">Fun2</span>函数的返回值<span lang="en-us">(</span>保存在<span lang="en-us">eax</span>中<span lang="en-us">),</span>赋值给<span lang="en-us">f;<o:p></o:p></span></span></span></p>
<p><span style="mso-bookmark: ret00411ab5"></span>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00411AB8<span style="mso-spacerun: yes">&nbsp; </span>mov<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>dword ptr [f],eax <o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes"><o:p>&nbsp;</o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes"><span style="mso-tab-count: 1">&nbsp;&nbsp;&nbsp; </span>return f;<o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">将保留在<span lang="en-us">f</span>中的<span lang="en-us">Fun1</span>的返回值保存在<span lang="en-us">eax</span>中返回<span lang="en-us"><o:p></o:p></span></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00411ABB<span style="mso-spacerun: yes">&nbsp; </span>mov<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>eax,dword ptr [f] <o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">}<o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">恢复现场<span lang="en-us"><o:p></o:p></span></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00411ABE<span style="mso-spacerun: yes">&nbsp; </span>pop<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>edi<span style="mso-spacerun: yes">&nbsp; </span><o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00411ABF<span style="mso-spacerun: yes">&nbsp; </span>pop<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>esi<span style="mso-spacerun: yes">&nbsp; </span><o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><st1:chmetcnv w:st="on" tcsc="0" numbertype="1" negative="false" hasspace="false" sourcevalue="411" unitname="ac"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00411AC</span></st1:chmetcnv><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">0<span style="mso-spacerun: yes">&nbsp; </span>pop<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>ebx<span style="mso-spacerun: yes">&nbsp; </span><o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes"><o:p>&nbsp;</o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">以下全为运行时<span lang="en-us">ESP</span>检查<span lang="en-us">:<o:p></o:p></span></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">先恢复因为预留函数存储控件而改变的栈指针<span lang="en-us">,<o:p></o:p></span></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><st1:chmetcnv w:st="on" tcsc="0" numbertype="1" negative="false" hasspace="false" sourcevalue="411" unitname="ac"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00411AC</span></st1:chmetcnv><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">1<span style="mso-spacerun: yes">&nbsp; </span>add<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>esp,0E4h<o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">再比较<span lang="en-us">ebp,esp,</span>假如程序运行正确<span lang="en-us">,</span>两个值应该相等<span lang="en-us">. <o:p></o:p></span></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><st1:chmetcnv w:st="on" tcsc="0" numbertype="1" negative="false" hasspace="false" sourcevalue="411" unitname="ac"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00411AC</span></st1:chmetcnv><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">7<span style="mso-spacerun: yes">&nbsp; </span>cmp<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>ebp,esp <o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><st1:chmetcnv w:st="on" tcsc="0" numbertype="1" negative="false" hasspace="false" sourcevalue="411" unitname="ac"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00411AC</span></st1:chmetcnv><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">9<span style="mso-spacerun: yes">&nbsp; </span>call<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>@ILT+320(__RTC_CheckEsp) (411145h) <o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">正常时只需要以下两句就可以正常恢复<span lang="en-us">esp,</span>再出栈<span lang="en-us">,</span>又可以恢复<span lang="en-us">ebp.<o:p></o:p></span></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00411ACE<span style="mso-spacerun: yes">&nbsp; </span>mov<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>esp,ebp <o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00411AD0<span style="mso-spacerun: yes">&nbsp; </span>pop<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>ebp<span style="mso-spacerun: yes">&nbsp; </span><o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes"><a href="http://writeblog.csdn.net/posteditplain.aspx#ret00411414"><span lang="en-us" style="color: windowtext"><span lang="en-us">返回main</span></span></a></span><span style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">从<span lang="en-us">pop</span>堆栈中的<span lang="en-us">EIP</span>开始执行<span lang="en-us"><o:p></o:p></span></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00411AD1 <span style="mso-spacerun: yes">&nbsp;</span>ret<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes"><o:p>&nbsp;</o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">int <a name="fun2">Fun2</a>(int a, int b, int c, int d, int e)<o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">{<o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">同上理解<span lang="en-us">, </span>保存现场<span lang="en-us"><o:p></o:p></span></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00412050<span style="mso-spacerun: yes">&nbsp; </span>push<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>ebp<span style="mso-spacerun: yes">&nbsp; </span><o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00412051<span style="mso-spacerun: yes">&nbsp; </span>mov<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>ebp,esp <o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00412053<span style="mso-spacerun: yes">&nbsp; </span>sub<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>esp,0E4h ;</span><span style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">保留<span lang="en-us">0E4H(228)<o:p></o:p></span></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00412059<span style="mso-spacerun: yes">&nbsp; </span>push<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>ebx<span style="mso-spacerun: yes">&nbsp; </span><o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><st1:chmetcnv w:st="on" tcsc="0" numbertype="1" negative="false" hasspace="false" sourcevalue="41205" unitname="a"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">0041205A</span></st1:chmetcnv><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes"><span style="mso-spacerun: yes">&nbsp; </span>push<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>esi<span style="mso-spacerun: yes">&nbsp; </span><o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">0041205B<span style="mso-spacerun: yes">&nbsp; </span>push<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>edi<span style="mso-spacerun: yes">&nbsp; </span><o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><st1:chmetcnv w:st="on" tcsc="0" numbertype="1" negative="false" hasspace="false" sourcevalue="41205" unitname="c"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">0041205C</span></st1:chmetcnv><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes"><span style="mso-spacerun: yes">&nbsp; </span>lea<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>edi,[ebp-0E4h] <o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00412062<span style="mso-spacerun: yes">&nbsp; </span>mov<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>ecx,39h ; 39H(57)*4 = 0E4H(228)<o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00412067<span style="mso-spacerun: yes">&nbsp; </span>mov<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>eax,0CCCCCCCCh <o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><st1:chmetcnv w:st="on" tcsc="0" numbertype="1" negative="false" hasspace="false" sourcevalue="41206" unitname="c"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">0041206C</span></st1:chmetcnv><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes"><span style="mso-spacerun: yes">&nbsp; </span>rep stos<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>dword ptr es:[edi] <o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes"><o:p>&nbsp;</o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes"><span style="mso-tab-count: 1">&nbsp;&nbsp;&nbsp; </span>int f<span style="mso-spacerun: yes">&nbsp; </span>= 6, g = 7;<o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">定义变量<span lang="en-us"><o:p></o:p></span></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">0041206E<span style="mso-spacerun: yes">&nbsp; </span>mov<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>dword ptr [f],6 <o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00412075<span style="mso-spacerun: yes">&nbsp; </span>mov<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="mso-spacerun: yes">&nbsp;</span>dword ptr [g],7 <o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes"><o:p>&nbsp;</o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes"><span style="mso-tab-count: 1">&nbsp;&nbsp;&nbsp; </span>int h = a + b + c + d + e + f + g;<o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">相加<span lang="en-us">,</span>存入<span lang="en-us">a,</span>再保存在<span lang="en-us">h<o:p></o:p></span></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><st1:chmetcnv w:st="on" tcsc="0" numbertype="1" negative="false" hasspace="false" sourcevalue="41207" unitname="c"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">0041207C</span></st1:chmetcnv><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes"><span style="mso-spacerun: yes">&nbsp; </span>mov<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>eax,dword ptr [a] <o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><st1:chmetcnv w:st="on" tcsc="0" numbertype="1" negative="false" hasspace="false" sourcevalue="41207" unitname="f"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">0041207F</span></st1:chmetcnv><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes"><span style="mso-spacerun: yes">&nbsp; </span>add<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>eax,dword ptr [b] <o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00412082<span style="mso-spacerun: yes">&nbsp; </span>add<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>eax,dword ptr [c] <o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00412085<span style="mso-spacerun: yes">&nbsp; </span>add<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>eax,dword ptr [d] <o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00412088<span style="mso-spacerun: yes">&nbsp; </span>add<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>eax,dword ptr [e] <o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">0041208B<span style="mso-spacerun: yes">&nbsp; </span>add<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>eax,dword ptr [f] <o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">0041208E<span style="mso-spacerun: yes">&nbsp; </span>add<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>eax,dword ptr [g] <o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00412091<span style="mso-spacerun: yes">&nbsp; </span>mov<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>dword ptr [h],eax <o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes"><o:p>&nbsp;</o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes"><span style="mso-tab-count: 1">&nbsp;&nbsp;&nbsp; </span>return<span style="mso-spacerun: yes">&nbsp; </span>h;<o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">将返回值<span lang="en-us">h</span>的值保存在<span lang="en-us">eax</span>中<span lang="en-us"><o:p></o:p></span></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00412094<span style="mso-spacerun: yes">&nbsp; </span>mov<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>eax,dword ptr [h] <o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes"><o:p>&nbsp;</o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">}<o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">恢复现场<span lang="en-us"><o:p></o:p></span></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00412097<span style="mso-spacerun: yes">&nbsp; </span>pop<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>edi<span style="mso-spacerun: yes">&nbsp; </span><o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00412098<span style="mso-spacerun: yes">&nbsp; </span>pop<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>esi<span style="mso-spacerun: yes">&nbsp; </span><o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">00412099<span style="mso-spacerun: yes">&nbsp; </span>pop<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>ebx<span style="mso-spacerun: yes">&nbsp; </span><o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><st1:chmetcnv w:st="on" tcsc="0" numbertype="1" negative="false" hasspace="false" sourcevalue="41209" unitname="a"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">0041209A</span></st1:chmetcnv><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes"><span style="mso-spacerun: yes">&nbsp; </span>mov<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>esp,ebp <o:p></o:p></span></p>
<p class="msonormal" style="margin: 0cm 0cm 0pt; text-align: left; mso-layout-grid-align: none" align="left"><st1:chmetcnv w:st="on" tcsc="0" numbertype="1" negative="false" hasspace="false" sourcevalue="41209" unitname="c"><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes">0041209C</span></st1:chmetcnv><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-font-kerning: 0pt; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes"><span style="mso-spacerun: yes">&nbsp; </span>pop<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>ebp<span style="mso-spacerun: yes">&nbsp; </span><o:p></o:p></span></p>
<p><span lang="en-us" style="font-size: 12pt; font-family: 新宋体; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes; mso-bidi-font-family: 'times new roman'; mso-ansi-language: en-us; mso-fareast-language: zh-cn; mso-bidi-language: ar-sa">0041209D<span style="mso-spacerun: yes">&nbsp; </span>ret<span style="mso-tab-count: 1"> </span>;<a href="http://writeblog.csdn.net/posteditplain.aspx#ret00411ab5"><span lang="en-us" style="color: windowtext"><span lang="en-us">返<span lang="en-us">回fun1 </span></span></span></a>,</span><span style="font-size: 12pt; font-family: 新宋体; mso-hansi-font-family: 'times new roman'; mso-no-proof: yes; mso-bidi-font-family: 'times new roman'; mso-ansi-language: en-us; mso-fareast-language: zh-cn; mso-bidi-language: ar-sa">从<span lang="en-us">pop</span>堆栈中的<span lang="en-us">EIP</span>开始执行</span></p>
