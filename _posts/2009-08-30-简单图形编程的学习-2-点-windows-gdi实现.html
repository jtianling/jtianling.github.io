---
layout: post
title: "简单图形编程的学习（2）---点 (Windows GDI实现)"
categories:
- "游戏开发"
tags:
- Windows GDI
status: publish
type: post
published: true
meta:
  ratings_users: '0'
  ratings_score: '0'
  ratings_average: '0'
  views: '7'
author:
  login: jtianling
  email: jtianling@gmail.com
  display_name: jtianling
  first_name: ''
  last_name: ''
---

<p style="text-align: center">
<p><span style="color:#548dd4; font-size:22pt"><strong><br />
</strong></span></p>
<p class="MsoTitle" style="margin: 12pt 0cm 3pt;"><span style="font-family: 宋体; mso-ascii-font-family: Cambria; mso-ascii-theme-font: major-latin; mso-hansi-font-family: Cambria; mso-hansi-theme-font: major-latin; mso-fareast-language: ZH-CN;">简单图形编程的学习（</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Cambria;">2</span></span><span style="font-family: 宋体; mso-ascii-font-family: Cambria; mso-ascii-theme-font: major-latin; mso-hansi-font-family: Cambria; mso-hansi-theme-font: major-latin; mso-fareast-language: ZH-CN;">）</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Cambria;">---</span></span><span style="font-family: 宋体; mso-ascii-font-family: Cambria; mso-ascii-theme-font: major-latin; mso-hansi-font-family: Cambria; mso-hansi-theme-font: major-latin; mso-fareast-language: ZH-CN;">点</span><span style="mso-fareast-language: ZH-CN;"><span style="font-family: Cambria;"> <span lang="EN-US">(Windows GDI</span></span></span><span style="font-family: 宋体; mso-ascii-font-family: Cambria; mso-ascii-theme-font: major-latin; mso-hansi-font-family: Cambria; mso-hansi-theme-font: major-latin; mso-fareast-language: ZH-CN;">实现</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Cambria;">)</span></span></p>
<p class="MsoNormal" style="text-align: right; margin: 0cm 0cm 10pt;" align="right"><span lang="EN-US"><a href="http://www.jtianling.com"><span style="color: #800080;"><span style="font-size: large;"><strong><span style="font-variant: small-caps; letter-spacing: 0.25pt;"><span style="font-family: Calibri;">write by </span></span></strong><strong><span style="font-variant: small-caps; font-family: 宋体; letter-spacing: 0.25pt;">九天雁翎</span><span style="font-variant: small-caps; letter-spacing: 0.25pt;"><span style="font-family: Calibri;">(JTianLing) -- www.jtianling.com</span></span></strong></span></span></a></span><strong><span style="text-decoration: underline;"><span style="font-variant: small-caps; letter-spacing: 0.25pt; color: #c0504d; mso-fareast-language: ZH-CN; mso-themecolor: accent2;" lang="EN-US"></span></span></strong></p>
<p class="MsoNormal" style="text-align: right; margin: 0cm 0cm 10pt;" align="right"><span lang="EN-US"><a href="http://groups.google.com/group/jiutianfile/"><strong><span style="font-variant: small-caps; font-family: 宋体; letter-spacing: 0.25pt; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;" lang="EN-US"><span lang="EN-US"><span style="font-size: large;">讨论新闻组及文件</span></span></span></strong></a></span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"></span></p>
<h1 style="text-indent: 0cm; margin: 24pt 0cm 0pt;"><span style="color: #365f91;"><span style="mso-bidi-font-family: 宋体; mso-bidi-theme-font: major-fareast;" lang="EN-US"><span style="mso-list: Ignore;"><span style="font-family: Cambria; font-size: large;">一、</span><span style='font: 7pt "Times New Roman";'>&nbsp;&nbsp; </span></span></span><span style="font-family: 宋体; mso-ascii-font-family: Cambria; mso-ascii-theme-font: major-latin; mso-hansi-font-family: Cambria; mso-hansi-theme-font: major-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: major-fareast;"><span style="font-size: large;">又一顿牢骚</span></span></span></h1>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 10pt;"><span style="color: #000000;"><span style="font-size: large;"><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">虽然知道不应该老是说些与技术无关的话。。。。但是有的时候又总是想说。。。。难怪有同事说我最近已经有点像唐僧了</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">-_-!</span></span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">总而言之，因为相对来说书看的太快，（现在租的房子离公司太远，老是坐地铁，导致有了非常固定的看书时间），而因为工作一直太忙，一直加班回家太晚的原因，所以实际的实践太慢（基本上现在就是以写博客的形式），所以</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">Qt</span></span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">与</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">Android</span></span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">的部分要是同步跟上我</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">DirectX</span></span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">的书都要看好几本了，这样的方式好像不太好，所以目前暂时还是以</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">Windows</span></span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">的为主了。。。。这也体现了一点理想与现实的差距</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">-_-!</span></span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">虽然初期项目目标过大，项目中即时调整起码还能保证项目完成吧。。。。。（扯的远了）。</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"></span></span></span></p>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 10pt;"><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri; color: #000000; font-size: large;">&nbsp;</span></span></p>
<h1 style="text-indent: 0cm; margin: 24pt 0cm 0pt;"><span style="color: #365f91;"><span style="mso-bidi-font-family: 宋体; mso-bidi-theme-font: major-fareast;" lang="EN-US"><span style="mso-list: Ignore;"><span style="font-family: Cambria; font-size: large;">二、</span><span style='font: 7pt "Times New Roman";'>&nbsp;&nbsp; </span></span></span><span style="font-family: 宋体; mso-ascii-font-family: Cambria; mso-ascii-theme-font: major-latin; mso-hansi-font-family: Cambria; mso-hansi-theme-font: major-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: major-fareast;"><span style="font-size: large;">画点</span></span></span></h1>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt 21pt;"><span style="font-size: large;"><span style="color: #000000;"><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-language: AR-SA;">很简单的一个</span><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"><span style="font-family: Calibri;">Windows GDI</span></span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-language: AR-SA;">函数</span><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"><span style="font-family: Calibri;">,SetPixel</span></span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-language: AR-SA;">，原型如下：</span><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"></span></span></span></p>
<pre><span style="color: black;" lang="EN-US"><span style="font-size: small;"><span style="font-family: 宋体;">COLORREF SetPixel(</span></span></span></pre>
<pre><span style="font-size: small;"><span style="font-family: 宋体;"><span style="color: black;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp; </span>HDC</span><em><span style="color: black;" lang="EN-US"> <span style="mso-field-code: ' HYPERLINK ''';"><span class="MsoHyperlink"><span style="text-decoration: underline;"><span style="color: #0000ff;">hdc</span></span></span></span></span></em><span>,<span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>// handle to DC</span></span></span></pre>
<pre><span style="font-size: small;"><span style="font-family: 宋体;"><span style="color: black;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp; </span>int</span><em><span style="color: black;" lang="EN-US"> <span style="mso-field-code: ' HYPERLINK ''';"><span class="MsoHyperlink"><span style="text-decoration: underline;"><span style="color: #0000ff;">X</span></span></span></span></span></em><span>,<span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>// x-coordinate of pixel</span></span></span></pre>
<pre><span style="font-size: small;"><span style="font-family: 宋体;"><span style="color: black;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp; </span>int</span><em><span style="color: black;" lang="EN-US"> <span style="mso-field-code: ' HYPERLINK ''';"><span class="MsoHyperlink"><span style="text-decoration: underline;"><span style="color: #0000ff;">Y</span></span></span></span></span></em><span>,<span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>// y-coordinate of pixel</span></span></span></pre>
<pre><span style="font-size: small;"><span style="font-family: 宋体;"><span style="color: black;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp; </span>COLORREF</span><em><span style="color: black;" lang="EN-US"> <span style="mso-field-code: ' HYPERLINK ''';"><span class="MsoHyperlink"><span style="text-decoration: underline;"><span style="color: #0000ff;">crColor</span></span></span></span></span></em><span style="color: black;" lang="EN-US"><span style="mso-spacerun: yes;">&nbsp;&nbsp; </span>// pixel color</span></span></span></pre>
<pre><span><span style="font-size: small;"><span style="font-family: 宋体;">);</span></span></span></pre>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"><span style="font-family: Calibri; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="color: #000000;"><span style="font-size: large;"><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-language: AR-SA;">也许属于最最简单的</span><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"><span style="font-family: Calibri;">Windows GDI </span></span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-language: AR-SA;">之一了，但是如同在</span><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"><span style="font-family: Calibri;">Small Basic</span></span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-language: AR-SA;">画点中所讲解的一样，画点这样简单的函数可以实现无限的效果。还是那句话，能够设置一个像素点，就能够描绘一个世界。。。。。。唯一限制程序实现的就是编写程序人的思维。</span><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"></span></span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="color: #000000;"><span style="font-size: large;"><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-language: AR-SA;">因为</span><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"><span style="font-family: Calibri;">Windows</span></span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-language: AR-SA;">代码本身的复杂性，不能如</span><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"><span style="font-family: Calibri;">Small Basic</span></span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-language: AR-SA;">那样直击要害，要是每次给出完整代码太占用空间，这里给出《</span><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"><span style="font-family: Calibri;">Tricks Of the Windows Game Programming GURUS</span></span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-language: AR-SA;">》一书中的框架代码，方便以后代码的添加。</span><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">// T3D Game Console, creates a game console application</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">// INCLUDES ///////////////////////////////////////////////</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="color: blue;" lang="EN-US">#define</span><span lang="EN-US"><span style="color: #000000;"> </span><span style="color: #010001;">WIN32_LEAN_AND_MEAN</span><span style="color: #000000;"><span style="mso-spacerun: yes;">&nbsp; </span>// just say no to MFC</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="color: blue;" lang="EN-US">#include</span><span lang="EN-US"><span style="color: #000000;"> </span><span style="color: #a31515;">&lt;tchar.h&gt;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="color: blue;" lang="EN-US">#include</span><span lang="EN-US"><span style="color: #000000;"> </span><span style="color: #a31515;">&lt;windows.h&gt;</span><span style="color: #000000;"><span style="mso-spacerun: yes;">&nbsp;&nbsp; </span>// include important windows stuff</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="color: blue;" lang="EN-US">#include</span><span lang="EN-US"><span style="color: #000000;"> </span><span style="color: #a31515;">&lt;windowsx.h&gt;</span><span style="color: #000000;"> </span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="color: blue;" lang="EN-US">#include</span><span lang="EN-US"><span style="color: #000000;"> </span><span style="color: #a31515;">&lt;mmsystem.h&gt;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="color: blue;" lang="EN-US">#include</span><span lang="EN-US"><span style="color: #000000;"> </span><span style="color: #a31515;">&lt;iostream&gt;</span><span style="color: #000000;"> // include important C/C++ stuff</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="color: blue;" lang="EN-US">#include</span><span lang="EN-US"><span style="color: #000000;"> </span><span style="color: #a31515;">&lt;conio.h&gt;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="color: blue;" lang="EN-US">#include</span><span lang="EN-US"><span style="color: #000000;"> </span><span style="color: #a31515;">&lt;stdlib.h&gt;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="color: blue;" lang="EN-US">#include</span><span lang="EN-US"><span style="color: #000000;"> </span><span style="color: #a31515;">&lt;malloc.h&gt;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="color: blue;" lang="EN-US">#include</span><span lang="EN-US"><span style="color: #000000;"> </span><span style="color: #a31515;">&lt;memory.h&gt;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="color: blue;" lang="EN-US">#include</span><span lang="EN-US"><span style="color: #000000;"> </span><span style="color: #a31515;">&lt;string.h&gt;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="color: blue;" lang="EN-US">#include</span><span lang="EN-US"><span style="color: #000000;"> </span><span style="color: #a31515;">&lt;stdarg.h&gt;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="color: blue;" lang="EN-US">#include</span><span lang="EN-US"><span style="color: #000000;"> </span><span style="color: #a31515;">&lt;stdio.h&gt;</span><span style="color: #000000;"> </span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="color: blue;" lang="EN-US">#include</span><span lang="EN-US"><span style="color: #000000;"> </span><span style="color: #a31515;">&lt;math.h&gt;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="color: blue;" lang="EN-US">#include</span><span lang="EN-US"><span style="color: #000000;"> </span><span style="color: #a31515;">&lt;io.h&gt;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="color: blue;" lang="EN-US">#include</span><span lang="EN-US"><span style="color: #000000;"> </span><span style="color: #a31515;">&lt;fcntl.h&gt;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="color: #a31515;" lang="EN-US"><span style="font-family: 新宋体; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">// DEFINES ////////////////////////////////////////////////</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">// defines for windows </span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="color: blue;" lang="EN-US">#define</span><span lang="EN-US"><span style="color: #000000;"> </span><span style="color: #010001;">WINDOW_CLASS_NAME</span><span style="color: #000000;"> </span><span style="color: #010001;">_T</span><span style="color: #000000;">(</span><span style="color: #a31515;">"WINCLASS1"</span><span style="color: #000000;">)</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">// MACROS /////////////////////////////////////////////////</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="color: blue;" lang="EN-US">#define</span><span lang="EN-US"><span style="color: #000000;"> </span><span style="color: #010001;">KEYDOWN</span><span style="color: #000000;">(</span><span style="color: #010001;">vk_code</span><span style="color: #000000;">) ((</span><span style="color: #010001;">GetAsyncKeyState</span><span style="color: #000000;">(</span><span style="color: #010001;">vk_code</span><span style="color: #000000;">) &amp; 0x8000) ? 1 : 0)</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="color: blue;" lang="EN-US">#define</span><span lang="EN-US"><span style="color: #000000;"> </span><span style="color: #010001;">KEYUP</span><span style="color: #000000;">(</span><span style="color: #010001;">vk_code</span><span style="color: #000000;">)<span style="mso-spacerun: yes;">&nbsp;&nbsp; </span>((</span><span style="color: #010001;">GetAsyncKeyState</span><span style="color: #000000;">(</span><span style="color: #010001;">vk_code</span><span style="color: #000000;">) &amp; 0x8000) ? 0 : 1)</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">// GLOBALS ////////////////////////////////////////////////</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="color: #010001;" lang="EN-US">HWND</span><span lang="EN-US"><span style="mso-spacerun: yes;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">main_window_handle</span><span style="color: #000000;"> = </span><span style="color: #010001;">NULL</span><span style="color: #000000;">; // globally track main window</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="color: #010001;" lang="EN-US">HINSTANCE</span><span lang="EN-US"><span style="color: #000000;"> </span><span style="color: #010001;">hinstance_app</span><span style="color: #000000;"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>= </span><span style="color: #010001;">NULL</span><span style="color: #000000;">; // globally track hinstance</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="color: blue;" lang="EN-US">char</span><span lang="EN-US"><span style="color: #000000;"> </span><span style="color: #010001;">buffer</span><span style="color: #000000;">[80];<span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>// general printing buffer</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="color: blue;" lang="EN-US">#define</span><span lang="EN-US"><span style="color: #000000;"> </span><span style="color: #010001;">FRAME_PER_SECOND</span><span style="color: #000000;"> (20)</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="color: blue;" lang="EN-US">#define</span><span lang="EN-US"><span style="color: #000000;"> </span><span style="color: #010001;">TIME_IN_FRAME</span><span style="color: #000000;"> (1000/</span><span style="color: #010001;">FRAME_PER_SECOND</span><span style="color: #000000;">)</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="color: blue;" lang="EN-US">#define</span><span lang="EN-US"><span style="color: #000000;"> </span><span style="color: #010001;">WIDTH</span><span style="color: #000000;"> 800</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="color: blue;" lang="EN-US">#define</span><span lang="EN-US"><span style="color: #000000;"> </span><span style="color: #010001;">HEIGHT</span><span style="color: #000000;"> 600</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">// FUNCTIONS //////////////////////////////////////////////</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="color: #010001;" lang="EN-US">LRESULT</span><span lang="EN-US"><span style="color: #000000;"> </span><span style="color: #010001;">CALLBACK</span><span style="color: #000000;"> </span><span style="color: #010001;">WindowProc</span><span style="color: #000000;">(</span><span style="color: #010001;">HWND</span><span style="color: #000000;"> </span><span style="color: #010001;">hwnd</span><span style="color: #000000;">, </span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 7;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">UINT</span><span style="color: #000000;"> </span><span style="color: #010001;">msg</span><span style="color: #000000;">, </span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 7;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">WPARAM</span><span style="color: #000000;"> </span><span style="color: #010001;">wparam</span><span style="color: #000000;">, </span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 7;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">LPARAM</span><span style="color: #000000;"> </span><span style="color: #010001;">lparam</span><span style="color: #000000;">)</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">{</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// this is the main message handler of the system</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">PAINTSTRUCT</span><span style="mso-tab-count: 2;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">ps</span><span style="color: #000000;">;<span style="mso-tab-count: 2;">&nbsp;&nbsp;&nbsp;&nbsp; </span>// used in WM_PAINT</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">HDC</span><span style="mso-tab-count: 4;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">hdc</span><span style="color: #000000;">;<span style="mso-tab-count: 1;">&nbsp; </span>// handle to a device context</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: blue;">char</span><span style="color: #000000;"> </span><span style="color: #010001;">buffer</span><span style="color: #000000;">[80] = {0};<span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>// used to print strings</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// what is the message </span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: blue;">switch</span><span style="color: #000000;">(</span><span style="color: #010001;">msg</span><span style="color: #000000;">)</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>{<span style="mso-tab-count: 1;">&nbsp; </span></span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: blue;">case</span><span style="color: #000000;"> </span><span style="color: #010001;">WM_CREATE</span><span style="color: #000000;">: </span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 2;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 3;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>// do initialization stuff here</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 3;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>// return success</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 3;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: blue;">return</span><span style="color: #000000;">(0);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="color: #000000;"><span style="mso-tab-count: 2;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>} </span><span style="color: blue;">break</span><span style="color: #000000;">;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: blue;">case</span><span style="color: #000000;"> </span><span style="color: #010001;">WM_PAINT</span><span style="color: #000000;">: </span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 2;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 3;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>// simply validate the window </span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 3;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">hdc</span><span style="color: #000000;"> = </span><span style="color: #010001;">BeginPaint</span><span style="color: #000000;">(</span><span style="color: #010001;">hwnd</span><span style="color: #000000;">,&amp;</span><span style="color: #010001;">ps</span><span style="color: #000000;">);<span style="mso-tab-count: 1;"> </span></span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 3;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>// end painting</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 3;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">EndPaint</span><span style="color: #000000;">(</span><span style="color: #010001;">hwnd</span><span style="color: #000000;">,&amp;</span><span style="color: #010001;">ps</span><span style="color: #000000;">);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 3;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>// return success</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 3;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: blue;">return</span><span style="color: #000000;">(0);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="color: #000000;"><span style="mso-tab-count: 2;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>} </span><span style="color: blue;">break</span><span style="color: #000000;">;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: blue;">case</span><span style="color: #000000;"> </span><span style="color: #010001;">WM_DESTROY</span><span style="color: #000000;">: </span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 2;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 3;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>// kill the application, this sends a WM_QUIT message </span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 3;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">PostQuitMessage</span><span style="color: #000000;">(0);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 3;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>// return success</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 3;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: blue;">return</span><span style="color: #000000;">(0);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="color: #000000;"><span style="mso-tab-count: 2;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>} </span><span style="color: blue;">break</span><span style="color: #000000;">;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: blue;">default</span><span style="color: #000000;">:</span><span style="color: blue;">break</span><span style="color: #000000;">;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>} // end switch</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// process any messages that we didn't take care of </span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: blue;">return</span><span style="color: #000000;"> (</span><span style="color: #010001;">DefWindowProc</span><span style="color: #000000;">(</span><span style="color: #010001;">hwnd</span><span style="color: #000000;">, </span><span style="color: #010001;">msg</span><span style="color: #000000;">, </span><span style="color: #010001;">wparam</span><span style="color: #000000;">, </span><span style="color: #010001;">lparam</span><span style="color: #000000;">));</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">} // end WinProc</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">///////////////////////////////////////////////////////////</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="color: blue;" lang="EN-US">int</span><span lang="EN-US"><span style="color: #000000;"> </span><span style="color: #010001;">Game_Main</span><span style="color: #000000;">(</span><span style="color: blue;">void</span><span style="color: #000000;"> *</span><span style="color: #010001;">parms</span><span style="color: #000000;"> = </span><span style="color: #010001;">NULL</span><span style="color: #000000;">, </span><span style="color: blue;">int</span><span style="color: #000000;"> </span><span style="color: #010001;">num_parms</span><span style="color: #000000;"> = 0)</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">{</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">DWORD</span><span style="color: #000000;"> </span><span style="color: #010001;">dwStartTime</span><span style="color: #000000;">;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">dwStartTime</span><span style="color: #000000;"> = </span><span style="color: #010001;">GetTickCount</span><span style="color: #000000;">();</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// this is the main loop of the game, do all your processing</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// here</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// for now test if user is hitting ESC and send WM_CLOSE</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: blue;">if</span><span style="color: #000000;"> (</span><span style="color: #010001;">KEYDOWN</span><span style="color: #000000;">(</span><span style="color: #010001;">VK_ESCAPE</span><span style="color: #000000;">))</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 2;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">SendMessage</span><span style="color: #000000;">(</span><span style="color: #010001;">main_window_handle</span><span style="color: #000000;">,</span><span style="color: #010001;">WM_CLOSE</span><span style="color: #000000;">,0,0);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: blue;">while</span><span style="color: #000000;">(</span><span style="color: #010001;">GetTickCount</span><span style="color: #000000;">() - </span><span style="color: #010001;">dwStartTime</span><span style="color: #000000;"> &lt; </span><span style="color: #010001;">TIME_IN_FRAME</span><span style="color: #000000;">)</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>{</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 2;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">Sleep</span><span style="color: #000000;">(1);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>}</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// return success or failure or your own return code here</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: blue;">return</span><span style="color: #000000;">(1);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">} // end Game_Main</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">////////////////////////////////////////////////////////////</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="color: blue;" lang="EN-US">int</span><span lang="EN-US"><span style="color: #000000;"> </span><span style="color: #010001;">Game_Init</span><span style="color: #000000;">(</span><span style="color: blue;">void</span><span style="color: #000000;"> *</span><span style="color: #010001;">parms</span><span style="color: #000000;"> = </span><span style="color: #010001;">NULL</span><span style="color: #000000;">, </span><span style="color: blue;">int</span><span style="color: #000000;"> </span><span style="color: #010001;">num_parms</span><span style="color: #000000;"> = 0)</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">{</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// this is called once after the initial window is created and</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// before the main event loop is entered, do all your initialization</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// here</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// return success or failure or your own return code here</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: blue;">return</span><span style="color: #000000;">(1);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">} // end Game_Init</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">/////////////////////////////////////////////////////////////</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="color: blue;" lang="EN-US">int</span><span lang="EN-US"><span style="color: #000000;"> </span><span style="color: #010001;">Game_Shutdown</span><span style="color: #000000;">(</span><span style="color: blue;">void</span><span style="color: #000000;"> *</span><span style="color: #010001;">parms</span><span style="color: #000000;"> = </span><span style="color: #010001;">NULL</span><span style="color: #000000;">, </span><span style="color: blue;">int</span><span style="color: #000000;"> </span><span style="color: #010001;">num_parms</span><span style="color: #000000;"> = 0)</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">{</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// this is called after the game is exited and the main event</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// loop while is exited, do all you cleanup and shutdown here</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// return success or failure or your own return code here</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: blue;">return</span><span style="color: #000000;">(1);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">} // end Game_Shutdown</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">// WINMAIN ////////////////////////////////////////////////</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="color: blue;" lang="EN-US">int</span><span lang="EN-US"><span style="color: #000000;"> </span><span style="color: #010001;">WINAPI</span><span style="color: #000000;"> </span><span style="color: #010001;">WinMain</span><span style="color: #000000;">(<span style="mso-tab-count: 1;"> </span></span><span style="color: #010001;">HINSTANCE</span><span style="color: #000000;"> </span><span style="color: #010001;">hinstance</span><span style="color: #000000;">,</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="color: #000000;"><span style="mso-tab-count: 4;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="mso-spacerun: yes;">&nbsp;&nbsp; </span></span><span style="color: #010001;">HINSTANCE</span><span style="color: #000000;"> </span><span style="color: #010001;">hprevinstance</span><span style="color: #000000;">,</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="color: #000000;"><span style="mso-tab-count: 4;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="mso-spacerun: yes;">&nbsp;&nbsp; </span></span><span style="color: #010001;">LPSTR</span><span style="color: #000000;"> </span><span style="color: #010001;">lpcmdline</span><span style="color: #000000;">,</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="color: #000000;"><span style="mso-tab-count: 4;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="mso-spacerun: yes;">&nbsp;&nbsp; </span></span><span style="color: blue;">int</span><span style="color: #000000;"> </span><span style="color: #010001;">ncmdshow</span><span style="color: #000000;">)</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">{</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">WNDCLASSEX</span><span style="color: #000000;"> </span><span style="color: #010001;">winclass</span><span style="color: #000000;">; // this will hold the class we create</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">HWND</span><span style="color: #000000;"><span style="mso-tab-count: 1;">&nbsp; </span><span style="mso-spacerun: yes;">&nbsp;&nbsp; </span></span><span style="color: #010001;">hwnd</span><span style="color: #000000;">;<span style="mso-tab-count: 1;"> </span>// generic window handle</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">MSG</span><span style="color: #000000;"><span style="mso-tab-count: 2;">&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="mso-spacerun: yes;">&nbsp;&nbsp; </span></span><span style="color: #010001;">msg</span><span style="color: #000000;">;<span style="mso-tab-count: 2;">&nbsp;&nbsp;&nbsp; </span>// generic message</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">HDC</span><span style="mso-spacerun: yes;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">hdc</span><span style="color: #000000;">;<span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>// graphics device context</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// first fill in the window class stucture</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">winclass</span><span style="color: #000000;">.</span><span style="color: #010001;">cbSize</span><span style="color: #000000;"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>= </span><span style="color: blue;">sizeof</span><span style="color: #000000;">(</span><span style="color: #010001;">WNDCLASSEX</span><span style="color: #000000;">);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">winclass</span><span style="color: #000000;">.</span><span style="color: #010001;">style</span><span style="color: #000000;"><span style="mso-tab-count: 3;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>= </span><span style="color: #010001;">CS_DBLCLKS</span><span style="color: #000000;"> | </span><span style="color: #010001;">CS_OWNDC</span><span style="color: #000000;"> | </span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 2;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">CS_HREDRAW</span><span style="color: #000000;"> | </span><span style="color: #010001;">CS_VREDRAW</span><span style="color: #000000;">;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">winclass</span><span style="color: #000000;">.</span><span style="color: #010001;">lpfnWndProc</span><span style="color: #000000;"><span style="mso-tab-count: 1;">&nbsp; </span>= </span><span style="color: #010001;">WindowProc</span><span style="color: #000000;">;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">winclass</span><span style="color: #000000;">.</span><span style="color: #010001;">cbClsExtra</span><span style="color: #000000;"><span style="mso-tab-count: 2;">&nbsp;&nbsp; </span>= 0;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">winclass</span><span style="color: #000000;">.</span><span style="color: #010001;">cbWndExtra</span><span style="color: #000000;"><span style="mso-tab-count: 2;">&nbsp;&nbsp; </span>= 0;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">winclass</span><span style="color: #000000;">.</span><span style="color: #010001;">hInstance</span><span style="color: #000000;"><span style="mso-tab-count: 2;">&nbsp;&nbsp;&nbsp; </span>= </span><span style="color: #010001;">hinstance</span><span style="color: #000000;">;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">winclass</span><span style="color: #000000;">.</span><span style="color: #010001;">hIcon</span><span style="color: #000000;"><span style="mso-tab-count: 3;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>= </span><span style="color: #010001;">LoadIcon</span><span style="color: #000000;">(</span><span style="color: #010001;">NULL</span><span style="color: #000000;">, </span><span style="color: #010001;">IDI_APPLICATION</span><span style="color: #000000;">);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">winclass</span><span style="color: #000000;">.</span><span style="color: #010001;">hCursor</span><span style="color: #000000;"><span style="mso-tab-count: 2;">&nbsp;&nbsp;&nbsp; </span>= </span><span style="color: #010001;">LoadCursor</span><span style="color: #000000;">(</span><span style="color: #010001;">NULL</span><span style="color: #000000;">, </span><span style="color: #010001;">IDC_ARROW</span><span style="color: #000000;">); </span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">winclass</span><span style="color: #000000;">.</span><span style="color: #010001;">hbrBackground</span><span style="color: #000000;"><span style="mso-tab-count: 1;"> </span>= (</span><span style="color: #010001;">HBRUSH</span><span style="color: #000000;">)</span><span style="color: #010001;">GetStockObject</span><span style="color: #000000;">(</span><span style="color: #010001;">BLACK_BRUSH</span><span style="color: #000000;">);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">winclass</span><span style="color: #000000;">.</span><span style="color: #010001;">lpszMenuName</span><span style="color: #000000;"><span style="mso-tab-count: 1;"> </span>= </span><span style="color: #010001;">NULL</span><span style="color: #000000;">;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">winclass</span><span style="color: #000000;">.</span><span style="color: #010001;">lpszClassName</span><span style="color: #000000;"><span style="mso-tab-count: 1;"> </span>= </span><span style="color: #010001;">WINDOW_CLASS_NAME</span><span style="color: #000000;">;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">winclass</span><span style="color: #000000;">.</span><span style="color: #010001;">hIconSm</span><span style="color: #000000;"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>= </span><span style="color: #010001;">LoadIcon</span><span style="color: #000000;">(</span><span style="color: #010001;">NULL</span><span style="color: #000000;">, </span><span style="color: #010001;">IDI_APPLICATION</span><span style="color: #000000;">);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// save hinstance in global</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">hinstance_app</span><span style="color: #000000;"> = </span><span style="color: #010001;">hinstance</span><span style="color: #000000;">;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// register the window class</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: blue;">if</span><span style="color: #000000;"> (!</span><span style="color: #010001;">RegisterClassEx</span><span style="color: #000000;">(&amp;</span><span style="color: #010001;">winclass</span><span style="color: #000000;">))</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 2;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: blue;">return</span><span style="color: #000000;">(0);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// create the window</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: blue;">if</span><span style="color: #000000;"> (!(</span><span style="color: #010001;">hwnd</span><span style="color: #000000;"> = </span><span style="color: #010001;">CreateWindowEx</span><span style="color: #000000;">(</span><span style="color: #010001;">NULL</span><span style="color: #000000;">,<span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>// extended style</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 2;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">WINDOW_CLASS_NAME</span><span style="color: #000000;">,<span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp;&nbsp; </span>// class</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 2;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">_T</span><span style="color: #000000;">(</span><span style="color: #a31515;">"Show Point 0.1"</span><span style="color: #000000;">), // title</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 2;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">WS_OVERLAPPEDWINDOW</span><span style="color: #000000;"> | </span><span style="color: #010001;">WS_VISIBLE</span><span style="color: #000000;">,</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 2;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>0,0,<span style="mso-tab-count: 1;">&nbsp; </span><span style="mso-spacerun: yes;">&nbsp; </span>// initial x,y</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 2;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">WIDTH</span><span style="color: #000000;">,</span><span style="color: #010001;">HEIGHT</span><span style="color: #000000;">,<span style="mso-spacerun: yes;">&nbsp; </span>// initial width, height</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 2;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">NULL</span><span style="color: #000000;">,<span style="mso-tab-count: 1;"> </span><span style="mso-spacerun: yes;">&nbsp; </span>// handle to parent </span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 2;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">NULL</span><span style="color: #000000;">,<span style="mso-tab-count: 1;"> </span><span style="mso-spacerun: yes;">&nbsp; </span>// handle to menu</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 2;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">hinstance</span><span style="color: #000000;">,// instance of this application</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 2;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">NULL</span><span style="color: #000000;">)))<span style="mso-tab-count: 1;"> </span>// extra creation parms</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 2;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: blue;">return</span><span style="color: #000000;">(0);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// save main window handle</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">main_window_handle</span><span style="color: #000000;"> = </span><span style="color: #010001;">hwnd</span><span style="color: #000000;">;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// initialize game here</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">Game_Init</span><span style="color: #000000;">();</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// enter main event loop</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: blue;">while</span><span style="color: #000000;">(</span><span style="color: #010001;">TRUE</span><span style="color: #000000;">)</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>{</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 2;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>// test if there is a message in queue, if so get it</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 2;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: blue;">if</span><span style="color: #000000;"> (</span><span style="color: #010001;">PeekMessage</span><span style="color: #000000;">(&amp;</span><span style="color: #010001;">msg</span><span style="color: #000000;">,</span><span style="color: #010001;">NULL</span><span style="color: #000000;">,0,0,</span><span style="color: #010001;">PM_REMOVE</span><span style="color: #000000;">))</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 2;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>{ </span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 3;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>// test if this is a quit</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 3;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: blue;">if</span><span style="color: #000000;"> (</span><span style="color: #010001;">msg</span><span style="color: #000000;">.</span><span style="color: #010001;">message</span><span style="color: #000000;"> == </span><span style="color: #010001;">WM_QUIT</span><span style="color: #000000;">)</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 4;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: blue;">break</span><span style="color: #000000;">;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 3;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>// translate any accelerator keys</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 3;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">TranslateMessage</span><span style="color: #000000;">(&amp;</span><span style="color: #010001;">msg</span><span style="color: #000000;">);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 3;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>// send the message to the window proc</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 3;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">DispatchMessage</span><span style="color: #000000;">(&amp;</span><span style="color: #010001;">msg</span><span style="color: #000000;">);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 2;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>} // end if</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 2;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>// main game processing goes here</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 2;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">Game_Main</span><span style="color: #000000;">();</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>} // end while</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// closedown game here</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">Game_Shutdown</span><span style="color: #000000;">();</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// return to Windows like this</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-size: large;"><span style="font-family: 新宋体;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: blue;">return</span><span style="color: #000000;">(</span><span style="color: #010001;">msg</span><span style="color: #000000;">.</span><span style="color: #010001;">wParam</span><span style="color: #000000;">);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">} // end WinMain</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">///////////////////////////////////////////////////////////</span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0cm 0cm 0pt; mso-pagination: none; mso-layout-grid-align: none;"><span style="font-family: Fixedsys; color: green; font-size: 12pt; mso-hansi-font-family: 'Times New Roman'; mso-fareast-language: ZH-CN; mso-bidi-font-family: 'Times New Roman'; mso-bidi-language: AR-SA; mso-no-proof: yes;" lang="EN-US">&nbsp;</span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"><span style="font-family: Calibri; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"><span style="font-family: Calibri; color: #000000; font-size: large;">&nbsp;</span></span></p>
<h2 style="text-indent: 0cm; margin: 13pt 0cm;"><span style="color: #000000;"><span style="mso-fareast-language: ZH-CN; mso-fareast-font-family: Cambria; mso-fareast-theme-font: major-latin; mso-bidi-font-family: Cambria; mso-bidi-theme-font: major-latin;" lang="EN-US"><span style="mso-list: Ignore;"><span style="font-family: Cambria; font-size: large;">1.</span><span style='font: 7pt "Times New Roman";'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-size: large;"><span style="font-family: 宋体; mso-ascii-font-family: Cambria; mso-ascii-theme-font: major-latin; mso-hansi-font-family: Cambria; mso-hansi-theme-font: major-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: major-fareast;">随机在屏幕上画随机颜色点</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"></span></span></span></h2>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="color: blue;" lang="EN-US">int</span><span lang="EN-US"><span style="color: #000000;"> </span><span style="color: #010001;">Game_Main</span><span style="color: #000000;">(</span><span style="color: blue;">void</span><span style="color: #000000;"> *</span><span style="color: #010001;">parms</span><span style="color: #000000;"> = </span><span style="color: #010001;">NULL</span><span style="color: #000000;">, </span><span style="color: blue;">int</span><span style="color: #000000;"> </span><span style="color: #010001;">num_parms</span><span style="color: #000000;"> = 0)</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">{</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">DWORD</span><span style="color: #000000;"> </span><span style="color: #010001;">dwStartTime</span><span style="color: #000000;">;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">HDC</span><span style="color: #000000;"> </span><span style="color: #010001;">hdc</span><span style="color: #000000;">;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">dwStartTime</span><span style="color: #000000;"> = </span><span style="color: #010001;">GetTickCount</span><span style="color: #000000;">();</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: green;">// this is the main loop of the game, do all your processing</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: green;">// here</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="color: green;" lang="EN-US"><span style="font-family: 新宋体; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: green;">// for now test if user is hitting ESC and send WM_CLOSE</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: blue;">if</span><span style="color: #000000;"> (</span><span style="color: #010001;">KEYDOWN</span><span style="color: #000000;">(</span><span style="color: #010001;">VK_ESCAPE</span><span style="color: #000000;">))</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 2;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">SendMessage</span><span style="color: #000000;">(</span><span style="color: #010001;">main_window_handle</span><span style="color: #000000;">,</span><span style="color: #010001;">WM_CLOSE</span><span style="color: #000000;">,0,0);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="mso-tab-count: 1;"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;&nbsp; </span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">hdc</span><span style="color: #000000;"> = </span><span style="color: #010001;">GetDC</span><span style="color: #000000;">(</span><span style="color: #010001;">main_window_handle</span><span style="color: #000000;">);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: green;">// draw 1000 pixels</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: blue;">for</span><span style="color: #000000;"> (</span><span style="color: blue;">int</span><span style="color: #000000;"> </span><span style="color: #010001;">index</span><span style="color: #000000;">=0; </span><span style="color: #010001;">index</span><span style="color: #000000;"> &lt; 1000; </span><span style="color: #010001;">index</span><span style="color: #000000;">++)</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>{</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 2;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: green;">// get random position</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 2;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: blue;">int</span><span style="color: #000000;"> </span><span style="color: #010001;">x</span><span style="color: #000000;"> = </span><span style="color: #010001;">rand</span><span style="color: #000000;">()%</span><span style="color: #010001;">WIDTH</span><span style="color: #000000;">;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 2;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: blue;">int</span><span style="color: #000000;"> </span><span style="color: #010001;">y</span><span style="color: #000000;"> = </span><span style="color: #010001;">rand</span><span style="color: #000000;">()%</span><span style="color: #010001;">HEIGHT</span><span style="color: #000000;">;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 2;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">COLORREF</span><span style="color: #000000;"> </span><span style="color: #010001;">color</span><span style="color: #000000;"> = </span><span style="color: #010001;">RGB</span><span style="color: #000000;">(</span><span style="color: #010001;">rand</span><span style="color: #000000;">()%255,</span><span style="color: #010001;">rand</span><span style="color: #000000;">()%255,</span><span style="color: #010001;">rand</span><span style="color: #000000;">()%255);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 2;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">SetPixel</span><span style="color: #000000;">(</span><span style="color: #010001;">hdc</span><span style="color: #000000;">, </span><span style="color: #010001;">x</span><span style="color: #000000;">,</span><span style="color: #010001;">y</span><span style="color: #000000;">, </span><span style="color: #010001;">color</span><span style="color: #000000;">);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="color: #000000;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>} </span><span style="color: green;">// end for index</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="color: green;" lang="EN-US"><span style="font-family: 新宋体; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: green;">// release the dc</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">ReleaseDC</span><span style="color: #000000;">(</span><span style="color: #010001;">main_window_handle</span><span style="color: #000000;">, </span><span style="color: #010001;">hdc</span><span style="color: #000000;">);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: blue;">while</span><span style="color: #000000;">(</span><span style="color: #010001;">GetTickCount</span><span style="color: #000000;">() - </span><span style="color: #010001;">dwStartTime</span><span style="color: #000000;"> &lt; </span><span style="color: #010001;">TIME_IN_FRAME</span><span style="color: #000000;">)</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>{</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 2;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">Sleep</span><span style="color: #000000;">(1);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>}</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: green;">// return success or failure or your own return code here</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: blue;">return</span><span style="color: #000000;">(1);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="color: #000000;">} </span><span style="color: green;">// end Game_Main</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-family: 新宋体; color: #000000; font-size: large;">同样还是简单，当然，前提是框架存在并且熟悉了一大堆<span lang="EN-US">Windows</span>的特性以后，说实话，<span lang="EN-US">Windows</span>的死消息机制也不是一天两天就熟悉的了的，我当年学<span lang="EN-US">MFC</span>的时候那是一愣一愣的，用了较旧以后才能大概知道怎么回事儿。知道这些以后，剩下的也就是一个<span lang="EN-US">Rand</span>函数<span lang="EN-US">+SetPixel</span>函数的理解量了。这里不放截图了，这么简单的东西放个截图我都觉得没有意思。</span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri; color: #000000; font-size: large;">&nbsp;</span></span></p>
<h2 style="text-indent: 0cm; margin: 13pt 0cm;"><span style="color: #000000;"><span style="mso-fareast-language: ZH-CN; mso-fareast-font-family: Cambria; mso-fareast-theme-font: major-latin; mso-bidi-font-family: Cambria; mso-bidi-theme-font: major-latin;" lang="EN-US"><span style="mso-list: Ignore;"><span style="font-family: Cambria; font-size: large;">2.</span><span style='font: 7pt "Times New Roman";'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-size: large;"><span style="font-family: 宋体; mso-ascii-font-family: Cambria; mso-ascii-theme-font: major-latin; mso-hansi-font-family: Cambria; mso-hansi-theme-font: major-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: major-fareast;">老电视机雪花点的效果：</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"></span></span></span></h2>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="color: blue;" lang="EN-US">int</span><span lang="EN-US"><span style="color: #000000;"> </span><span style="color: #010001;">Game_Main</span><span style="color: #000000;">(</span><span style="color: blue;">void</span><span style="color: #000000;"> *</span><span style="color: #010001;">parms</span><span style="color: #000000;"> = </span><span style="color: #010001;">NULL</span><span style="color: #000000;">, </span><span style="color: blue;">int</span><span style="color: #000000;"> </span><span style="color: #010001;">num_parms</span><span style="color: #000000;"> = 0)</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">{</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">DWORD</span><span style="color: #000000;"> </span><span style="color: #010001;">dwStartTime</span><span style="color: #000000;">;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">HDC</span><span style="color: #000000;"> </span><span style="color: #010001;">hdc</span><span style="color: #000000;">;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">dwStartTime</span><span style="color: #000000;"> = </span><span style="color: #010001;">GetTickCount</span><span style="color: #000000;">();</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: green;">// this is the main loop of the game, do all your processing</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: green;">// here</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="color: green;" lang="EN-US"><span style="font-family: 新宋体; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: green;">// for now test if user is hitting ESC and send WM_CLOSE</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: blue;">if</span><span style="color: #000000;"> (</span><span style="color: #010001;">KEYDOWN</span><span style="color: #000000;">(</span><span style="color: #010001;">VK_ESCAPE</span><span style="color: #000000;">))</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 2;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">SendMessage</span><span style="color: #000000;">(</span><span style="color: #010001;">main_window_handle</span><span style="color: #000000;">,</span><span style="color: #010001;">WM_CLOSE</span><span style="color: #000000;">,0,0);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="mso-tab-count: 1;"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;&nbsp; </span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">hdc</span><span style="color: #000000;"> = </span><span style="color: #010001;">GetDC</span><span style="color: #000000;">(</span><span style="color: #010001;">main_window_handle</span><span style="color: #000000;">);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: green;">// draw 1000 pixels</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: blue;">for</span><span style="color: #000000;"> (</span><span style="color: blue;">int</span><span style="color: #000000;"> </span><span style="color: #010001;">index</span><span style="color: #000000;">=0; </span><span style="color: #010001;">index</span><span style="color: #000000;"> &lt; 500; </span><span style="color: #010001;">index</span><span style="color: #000000;">++)</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>{</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 2;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: green;">// get random position</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 2;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: blue;">int</span><span style="color: #000000;"> </span><span style="color: #010001;">x</span><span style="color: #000000;"> = </span><span style="color: #010001;">rand</span><span style="color: #000000;">()%</span><span style="color: #010001;">WIDTH</span><span style="color: #000000;">;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 2;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: blue;">int</span><span style="color: #000000;"> </span><span style="color: #010001;">y</span><span style="color: #000000;"> = </span><span style="color: #010001;">rand</span><span style="color: #000000;">()%</span><span style="color: #010001;">HEIGHT</span><span style="color: #000000;">;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 2;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">COLORREF</span><span style="color: #000000;"> </span><span style="color: #010001;">color</span><span style="color: #000000;"> = </span><span style="color: #010001;">RGB</span><span style="color: #000000;">(255,255,255);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 2;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">SetPixel</span><span style="color: #000000;">(</span><span style="color: #010001;">hdc</span><span style="color: #000000;">, </span><span style="color: #010001;">x</span><span style="color: #000000;">,</span><span style="color: #010001;">y</span><span style="color: #000000;">, </span><span style="color: #010001;">color</span><span style="color: #000000;">);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="color: #000000;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>} </span><span style="color: green;">// end for index</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="color: green;" lang="EN-US"><span style="font-family: 新宋体; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: green;">// release the dc</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">ReleaseDC</span><span style="color: #000000;">(</span><span style="color: #010001;">main_window_handle</span><span style="color: #000000;">, </span><span style="color: #010001;">hdc</span><span style="color: #000000;">);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">Sleep</span><span style="color: #000000;">(10);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">InvalidateRect</span><span style="color: #000000;">(</span><span style="color: #010001;">main_window_handle</span><span style="color: #000000;">, </span><span style="color: #010001;">NULL</span><span style="color: #000000;">, </span><span style="color: #010001;">TRUE</span><span style="color: #000000;">);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: green;">//while(GetTickCount() - dwStartTime &lt; TIME_IN_FRAME)</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: green;">//{</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: green;">//<span style="mso-tab-count: 1;"> </span>Sleep(1);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: green;">//}</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="color: green;" lang="EN-US"><span style="font-family: 新宋体; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="color: green;" lang="EN-US"><span style="font-family: 新宋体; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: green;">// return success or failure or your own return code here</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: blue;">return</span><span style="color: #000000;">(1);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="color: #000000;">} </span><span style="color: green;">// end Game_Main</span></span></span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="font-size: large;"><span style="color: #000000;"><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">这样基本能够达到效果，但是实际上还有点问题，为了统一程序的架构方便讲解才这样写代码，这里因为利用</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">Windows</span></span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">原有消息去擦除原有点，放在</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">WM_DRAW</span></span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">中去做画点效果会更好一点。</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"></span></span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri; color: #000000; font-size: large;">&nbsp;</span></span></p>
<h2 style="text-indent: 0cm; margin: 13pt 0cm;"><span style="color: #000000;"><span style="mso-fareast-language: ZH-CN; mso-fareast-font-family: Cambria; mso-fareast-theme-font: major-latin; mso-bidi-font-family: Cambria; mso-bidi-theme-font: major-latin;" lang="EN-US"><span style="mso-list: Ignore;"><span style="font-family: Cambria; font-size: large;">3.</span><span style='font: 7pt "Times New Roman";'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-size: large;"><span style="font-family: 宋体; mso-ascii-font-family: Cambria; mso-ascii-theme-font: major-latin; mso-hansi-font-family: Cambria; mso-hansi-theme-font: major-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: major-fareast;">闪烁的星空：</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"></span></span></span></h2>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="color: blue;" lang="EN-US">#define</span><span lang="EN-US"><span style="color: #000000;"> </span><span style="color: #010001;">POSITION_COUNT</span><span style="color: #000000;"> (500)</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="color: blue;" lang="EN-US">int</span><span lang="EN-US"><span style="color: #000000;"> </span><span style="color: #010001;">gaWidth</span><span style="color: #000000;">[</span><span style="color: #010001;">POSITION_COUNT</span><span style="color: #000000;">];</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="color: blue;" lang="EN-US">int</span><span lang="EN-US"><span style="color: #000000;"> </span><span style="color: #010001;">gaHeight</span><span style="color: #000000;">[</span><span style="color: #010001;">POSITION_COUNT</span><span style="color: #000000;">];</span></span></span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">///////////////////////////////////////////////////////////</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="color: blue;" lang="EN-US">int</span><span lang="EN-US"><span style="color: #000000;"> </span><span style="color: #010001;">Game_Main</span><span style="color: #000000;">(</span><span style="color: blue;">void</span><span style="color: #000000;"> *</span><span style="color: #010001;">parms</span><span style="color: #000000;"> = </span><span style="color: #010001;">NULL</span><span style="color: #000000;">, </span><span style="color: blue;">int</span><span style="color: #000000;"> </span><span style="color: #010001;">num_parms</span><span style="color: #000000;"> = 0)</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">{</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">DWORD</span><span style="color: #000000;"> </span><span style="color: #010001;">dwStartTime</span><span style="color: #000000;">;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">HDC</span><span style="color: #000000;"> </span><span style="color: #010001;">hdc</span><span style="color: #000000;">;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">dwStartTime</span><span style="color: #000000;"> = </span><span style="color: #010001;">GetTickCount</span><span style="color: #000000;">();</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// this is the main loop of the game, do all your processing</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// here</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// for now test if user is hitting ESC and send WM_CLOSE</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: blue;">if</span><span style="color: #000000;"> (</span><span style="color: #010001;">KEYDOWN</span><span style="color: #000000;">(</span><span style="color: #010001;">VK_ESCAPE</span><span style="color: #000000;">))</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 2;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">SendMessage</span><span style="color: #000000;">(</span><span style="color: #010001;">main_window_handle</span><span style="color: #000000;">,</span><span style="color: #010001;">WM_CLOSE</span><span style="color: #000000;">,0,0);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="mso-tab-count: 1;"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;&nbsp; </span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">hdc</span><span style="color: #000000;"> = </span><span style="color: #010001;">GetDC</span><span style="color: #000000;">(</span><span style="color: #010001;">main_window_handle</span><span style="color: #000000;">);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: blue;">for</span><span style="color: #000000;"> (</span><span style="color: blue;">int</span><span style="color: #000000;"> </span><span style="color: #010001;">index</span><span style="color: #000000;">=0; </span><span style="color: #010001;">index</span><span style="color: #000000;"> &lt; </span><span style="color: #010001;">POSITION_COUNT</span><span style="color: #000000;">; </span><span style="color: #010001;">index</span><span style="color: #000000;">++)</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>{</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 2;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">SetPixel</span><span style="color: #000000;">(</span><span style="color: #010001;">hdc</span><span style="color: #000000;">, </span><span style="color: #010001;">gaWidth</span><span style="color: #000000;">[</span><span style="color: #010001;">index</span><span style="color: #000000;">], </span><span style="color: #010001;">gaHeight</span><span style="color: #000000;">[</span><span style="color: #010001;">index</span><span style="color: #000000;">], </span><span style="color: #010001;">RGB</span><span style="color: #000000;">(255,255,255));</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 2;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">gaWidth</span><span style="color: #000000;">[</span><span style="color: #010001;">index</span><span style="color: #000000;">] += 1;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 2;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">gaHeight</span><span style="color: #000000;">[</span><span style="color: #010001;">index</span><span style="color: #000000;">] += 1;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>} // end for index</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">Sleep</span><span style="color: #000000;">(1000);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">Sleep</span><span style="color: #000000;">(10);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// release the dc</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">ReleaseDC</span><span style="color: #000000;">(</span><span style="color: #010001;">main_window_handle</span><span style="color: #000000;">, </span><span style="color: #010001;">hdc</span><span style="color: #000000;">);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>//while(GetTickCount() - dwStartTime &lt; TIME_IN_FRAME)</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>//{</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>//<span style="mso-tab-count: 1;"> </span>Sleep(1);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>//}</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// return success or failure or your own return code here</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: blue;">return</span><span style="color: #000000;">(1);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">} // end Game_Main</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">////////////////////////////////////////////////////////////</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="color: blue;" lang="EN-US">int</span><span lang="EN-US"><span style="color: #000000;"> </span><span style="color: #010001;">Game_Init</span><span style="color: #000000;">(</span><span style="color: blue;">void</span><span style="color: #000000;"> *</span><span style="color: #010001;">parms</span><span style="color: #000000;"> = </span><span style="color: #010001;">NULL</span><span style="color: #000000;">, </span><span style="color: blue;">int</span><span style="color: #000000;"> </span><span style="color: #010001;">num_parms</span><span style="color: #000000;"> = 0)</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">{</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// this is called once after the initial window is created and</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// before the main event loop is entered, do all your initialization</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// here</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span lang="EN-US"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// </span>一次初始化一个随机<span lang="EN-US">POSITION_COUNT</span>大小的数组用于固定位置</span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: blue;">for</span><span style="color: #000000;"> (</span><span style="color: blue;">int</span><span style="color: #000000;"> </span><span style="color: #010001;">index</span><span style="color: #000000;">=0; </span><span style="color: #010001;">index</span><span style="color: #000000;"> &lt; </span><span style="color: #010001;">POSITION_COUNT</span><span style="color: #000000;">; </span><span style="color: #010001;">index</span><span style="color: #000000;">++)</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>{</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 2;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>// get random position</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 2;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">gaWidth</span><span style="color: #000000;">[</span><span style="color: #010001;">index</span><span style="color: #000000;">] = </span><span style="color: #010001;">rand</span><span style="color: #000000;">()%</span><span style="color: #010001;">WIDTH</span><span style="color: #000000;">;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 2;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">gaHeight</span><span style="color: #000000;">[</span><span style="color: #010001;">index</span><span style="color: #000000;">] = </span><span style="color: #010001;">rand</span><span style="color: #000000;">()%</span><span style="color: #010001;">HEIGHT</span><span style="color: #000000;">;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>} // end for index</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// return success or failure or your own return code here</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: blue;">return</span><span style="color: #000000;">(1);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">} // end Game_Init</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="font-size: large;"><span style="color: #000000;"><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">按</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">Small Basic</span></span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">实现的方式我发现闪烁效果没有</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">Small Basic</span></span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">好，原因可能是</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">C</span></span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">的</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">Win32</span></span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">程序速度比</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">Small Basic</span></span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">快太多了，以至于几乎看不到闪烁，于是，按上面这样将闪烁实际的用</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">Sleep</span></span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">停留一下才能看到较好的效果。也算是不同语言实现同一个算法（大概这么称呼实现这个效果的方法吧）需要注意的不同之处。</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"></span></span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri; color: #000000; font-size: large;">&nbsp;</span></span></p>
<h2 style="text-indent: 0cm; margin: 13pt 0cm;"><span style="color: #000000;"><span style="mso-fareast-language: ZH-CN; mso-fareast-font-family: Cambria; mso-fareast-theme-font: major-latin; mso-bidi-font-family: Cambria; mso-bidi-theme-font: major-latin;" lang="EN-US"><span style="mso-list: Ignore;"><span style="font-family: Cambria; font-size: large;">4.</span><span style='font: 7pt "Times New Roman";'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-size: large;"><span style="font-family: 宋体; mso-ascii-font-family: Cambria; mso-ascii-theme-font: major-latin; mso-hansi-font-family: Cambria; mso-hansi-theme-font: major-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: major-fareast;">屏幕刮花效果</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"></span></span></span></h2>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">///////////////////////////////////////////////////////////</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="color: blue;" lang="EN-US">int</span><span lang="EN-US"><span style="color: #000000;"> </span><span style="color: #010001;">Game_Main</span><span style="color: #000000;">(</span><span style="color: blue;">void</span><span style="color: #000000;"> *</span><span style="color: #010001;">parms</span><span style="color: #000000;"> = </span><span style="color: #010001;">NULL</span><span style="color: #000000;">, </span><span style="color: blue;">int</span><span style="color: #000000;"> </span><span style="color: #010001;">num_parms</span><span style="color: #000000;"> = 0)</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">{</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">DWORD</span><span style="color: #000000;"> </span><span style="color: #010001;">dwStartTime</span><span style="color: #000000;">;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">HDC</span><span style="color: #000000;"> </span><span style="color: #010001;">hdc</span><span style="color: #000000;">;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">dwStartTime</span><span style="color: #000000;"> = </span><span style="color: #010001;">GetTickCount</span><span style="color: #000000;">();</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// this is the main loop of the game, do all your processing</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// here</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// for now test if user is hitting ESC and send WM_CLOSE</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: blue;">if</span><span style="color: #000000;"> (</span><span style="color: #010001;">KEYDOWN</span><span style="color: #000000;">(</span><span style="color: #010001;">VK_ESCAPE</span><span style="color: #000000;">))</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 2;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">SendMessage</span><span style="color: #000000;">(</span><span style="color: #010001;">main_window_handle</span><span style="color: #000000;">,</span><span style="color: #010001;">WM_CLOSE</span><span style="color: #000000;">,0,0);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="mso-tab-count: 1;"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;&nbsp; </span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">hdc</span><span style="color: #000000;"> = </span><span style="color: #010001;">GetDC</span><span style="color: #000000;">(</span><span style="color: #010001;">main_window_handle</span><span style="color: #000000;">);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: blue;">for</span><span style="color: #000000;"> (</span><span style="color: blue;">int</span><span style="color: #000000;"> </span><span style="color: #010001;">index</span><span style="color: #000000;">=0; </span><span style="color: #010001;">index</span><span style="color: #000000;"> &lt; </span><span style="color: #010001;">POSITION_COUNT</span><span style="color: #000000;">; </span><span style="color: #010001;">index</span><span style="color: #000000;">++)</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>{</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 2;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">SetPixel</span><span style="color: #000000;">(</span><span style="color: #010001;">hdc</span><span style="color: #000000;">, </span><span style="color: #010001;">gaWidth</span><span style="color: #000000;">[</span><span style="color: #010001;">index</span><span style="color: #000000;">], </span><span style="color: #010001;">gaHeight</span><span style="color: #000000;">[</span><span style="color: #010001;">index</span><span style="color: #000000;">], </span><span style="color: #010001;">RGB</span><span style="color: #000000;">(255,255,255));</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span lang="EN-US"><span style="mso-tab-count: 2;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>// </span>这算是实现的一种，横向刮花</span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 2;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">gaWidth</span><span style="color: #000000;">[</span><span style="color: #010001;">index</span><span style="color: #000000;">] += 1;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span lang="EN-US"><span style="mso-tab-count: 2;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>// </span>这算是实现的另一种，斜向刮花</span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 2;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//gaWidth[index] += 1;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 2;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//gaHeight[index] += 1;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span lang="EN-US"><span style="mso-tab-count: 2;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>// </span>这算是实现的又一种，纵向刮花<span lang="EN-US">,</span>纵向刮花建议配合血红色颜色观看效果。。。。。。</span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 2;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>//gaHeight[index] += 1;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>} // end for index</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// release the dc</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">ReleaseDC</span><span style="color: #000000;">(</span><span style="color: #010001;">main_window_handle</span><span style="color: #000000;">, </span><span style="color: #010001;">hdc</span><span style="color: #000000;">);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: blue;">while</span><span style="color: #000000;">(</span><span style="color: #010001;">GetTickCount</span><span style="color: #000000;">() - </span><span style="color: #010001;">dwStartTime</span><span style="color: #000000;"> &lt; </span><span style="color: #010001;">TIME_IN_FRAME</span><span style="color: #000000;">)</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>{</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 2;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">Sleep</span><span style="color: #000000;">(1);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>}</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// return success or failure or your own return code here</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: blue;">return</span><span style="color: #000000;">(1);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">} // end Game_Main</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">////////////////////////////////////////////////////////////</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="color: blue;" lang="EN-US">int</span><span lang="EN-US"><span style="color: #000000;"> </span><span style="color: #010001;">Game_Init</span><span style="color: #000000;">(</span><span style="color: blue;">void</span><span style="color: #000000;"> *</span><span style="color: #010001;">parms</span><span style="color: #000000;"> = </span><span style="color: #010001;">NULL</span><span style="color: #000000;">, </span><span style="color: blue;">int</span><span style="color: #000000;"> </span><span style="color: #010001;">num_parms</span><span style="color: #000000;"> = 0)</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">{</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// this is called once after the initial window is created and</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// before the main event loop is entered, do all your initialization</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// here</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span lang="EN-US"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// </span>一次初始化一个随机<span lang="EN-US">POSITION_COUNT</span>大小的数组用于固定位置</span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: blue;">for</span><span style="color: #000000;"> (</span><span style="color: blue;">int</span><span style="color: #000000;"> </span><span style="color: #010001;">index</span><span style="color: #000000;">=0; </span><span style="color: #010001;">index</span><span style="color: #000000;"> &lt; </span><span style="color: #010001;">POSITION_COUNT</span><span style="color: #000000;">; </span><span style="color: #010001;">index</span><span style="color: #000000;">++)</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>{</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 2;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>// get random position</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 2;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">gaWidth</span><span style="color: #000000;">[</span><span style="color: #010001;">index</span><span style="color: #000000;">] = </span><span style="color: #010001;">rand</span><span style="color: #000000;">()%</span><span style="color: #010001;">WIDTH</span><span style="color: #000000;">;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 2;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">gaHeight</span><span style="color: #000000;">[</span><span style="color: #010001;">index</span><span style="color: #000000;">] = </span><span style="color: #010001;">rand</span><span style="color: #000000;">()%</span><span style="color: #010001;">HEIGHT</span><span style="color: #000000;">;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>} // end for index</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// return success or failure or your own return code here</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: blue;">return</span><span style="color: #000000;">(1);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">} // end Game_Init</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="font-size: large;"><span style="color: #000000;"><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">一个屏幕刮花效果，不同的方向给人感受完全不同，最有意思的是纵向向下的红色效果，如插图</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">1.</span></span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">让我想起某游戏死亡时的结束画面，满眼都是向下流动的血液。。。。。。。。</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"></span></span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri; color: #000000; font-size: large;">&nbsp;</span></span></p>
<h2 style="text-indent: 0cm; margin: 13pt 0cm;"><span style="color: #000000;"><span style="mso-fareast-language: ZH-CN; mso-fareast-font-family: Cambria; mso-fareast-theme-font: major-latin; mso-bidi-font-family: Cambria; mso-bidi-theme-font: major-latin;" lang="EN-US"><span style="mso-list: Ignore;"><span style="font-family: Cambria; font-size: large;">5.</span><span style='font: 7pt "Times New Roman";'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-size: large;"><span style="font-family: 宋体; mso-ascii-font-family: Cambria; mso-ascii-theme-font: major-latin; mso-hansi-font-family: Cambria; mso-hansi-theme-font: major-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: major-fareast;">移动的星空：</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"></span></span></span></h2>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="color: #000000;"><span style="font-size: large;"><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">本来用我在</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">Small Basic</span></span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">中的方法实现也可以出现移动的星空的，但是我发现《</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">Tricks of the Windows Game Programming GURUS</span></span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">》一书中的例子更加有趣，这里引用一下了。</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">///////////////////////////////////////////////////////////</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="color: blue;" lang="EN-US">void</span><span lang="EN-US"><span style="color: #000000;"> </span><span style="color: #010001;">Init_Stars</span><span style="color: #000000;">(</span><span style="color: blue;">void</span><span style="color: #000000;">)</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">{</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">// this function initializes all the stars</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="color: blue;" lang="EN-US">for</span><span lang="EN-US"><span style="color: #000000;"> (</span><span style="color: blue;">int</span><span style="color: #000000;"> </span><span style="color: #010001;">index</span><span style="color: #000000;">=0; </span><span style="color: #010001;">index</span><span style="color: #000000;"> &lt; </span><span style="color: #010001;">NUM_STARS</span><span style="color: #000000;">; </span><span style="color: #010001;">index</span><span style="color: #000000;">++)</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp; </span>{</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp; </span>// select random position</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-spacerun: yes;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">stars</span><span style="color: #000000;">[</span><span style="color: #010001;">index</span><span style="color: #000000;">].</span><span style="color: #010001;">x</span><span style="color: #000000;"> = </span><span style="color: #010001;">rand</span><span style="color: #000000;">()%</span><span style="color: #010001;">WINDOW_WIDTH</span><span style="color: #000000;">;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-spacerun: yes;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">stars</span><span style="color: #000000;">[</span><span style="color: #010001;">index</span><span style="color: #000000;">].</span><span style="color: #010001;">y</span><span style="color: #000000;"> = </span><span style="color: #010001;">rand</span><span style="color: #000000;">()%</span><span style="color: #010001;">WINDOW_HEIGHT</span><span style="color: #000000;">;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp; </span>// set random velocity<span style="mso-spacerun: yes;">&nbsp;&nbsp; </span></span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-spacerun: yes;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">stars</span><span style="color: #000000;">[</span><span style="color: #010001;">index</span><span style="color: #000000;">].</span><span style="color: #010001;">vel</span><span style="color: #000000;"> = 1 + </span><span style="color: #010001;">rand</span><span style="color: #000000;">()%16;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp; </span>// set intensity which is inversely prop to velocity for 3D effect</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp; </span>// note, I am mixing equal amounts of RGB to make black -&gt; bright white<span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp; </span></span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-spacerun: yes;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp; </span></span><span style="color: blue;">int</span><span style="color: #000000;"> </span><span style="color: #010001;">intensity</span><span style="color: #000000;"> = 15*(17 - </span><span style="color: #010001;">stars</span><span style="color: #000000;">[</span><span style="color: #010001;">index</span><span style="color: #000000;">].</span><span style="color: #010001;">vel</span><span style="color: #000000;">);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-spacerun: yes;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">stars</span><span style="color: #000000;">[</span><span style="color: #010001;">index</span><span style="color: #000000;">].</span><span style="color: #010001;">col</span><span style="color: #000000;"> = </span><span style="color: #010001;">RGB</span><span style="color: #000000;">(</span><span style="color: #010001;">intensity</span><span style="color: #000000;">, </span><span style="color: #010001;">intensity</span><span style="color: #000000;">, </span><span style="color: #010001;">intensity</span><span style="color: #000000;">); </span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp; </span>} // end for index</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">} // end Init_Stars</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">////////////////////////////////////////////////////////////</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="color: blue;" lang="EN-US">void</span><span lang="EN-US"><span style="color: #000000;"> </span><span style="color: #010001;">Erase_Stars</span><span style="color: #000000;">(</span><span style="color: blue;">void</span><span style="color: #000000;">)</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">{</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">// this function erases all the stars</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="color: blue;" lang="EN-US">for</span><span lang="EN-US"><span style="color: #000000;"> (</span><span style="color: blue;">int</span><span style="color: #000000;"> </span><span style="color: #010001;">index</span><span style="color: #000000;">=0; </span><span style="color: #010001;">index</span><span style="color: #000000;"> &lt; </span><span style="color: #010001;">NUM_STARS</span><span style="color: #000000;">; </span><span style="color: #010001;">index</span><span style="color: #000000;">++)</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-spacerun: yes;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">SetPixel</span><span style="color: #000000;">(</span><span style="color: #010001;">global_dc</span><span style="color: #000000;">, </span><span style="color: #010001;">stars</span><span style="color: #000000;">[</span><span style="color: #010001;">index</span><span style="color: #000000;">].</span><span style="color: #010001;">x</span><span style="color: #000000;">, </span><span style="color: #010001;">stars</span><span style="color: #000000;">[</span><span style="color: #010001;">index</span><span style="color: #000000;">].</span><span style="color: #010001;">y</span><span style="color: #000000;">, </span><span style="color: #010001;">RGB</span><span style="color: #000000;">(0,0,0));</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">} // end Erase_Stars</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">////////////////////////////////////////////////////////////</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="color: blue;" lang="EN-US">void</span><span lang="EN-US"><span style="color: #000000;"> </span><span style="color: #010001;">Draw_Stars</span><span style="color: #000000;">()</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">{</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">// this function draws all the stars</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="color: blue;" lang="EN-US">for</span><span lang="EN-US"><span style="color: #000000;"> (</span><span style="color: blue;">int</span><span style="color: #000000;"> </span><span style="color: #010001;">index</span><span style="color: #000000;">=0; </span><span style="color: #010001;">index</span><span style="color: #000000;"> &lt; </span><span style="color: #010001;">NUM_STARS</span><span style="color: #000000;">; </span><span style="color: #010001;">index</span><span style="color: #000000;">++)</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-spacerun: yes;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">SetPixel</span><span style="color: #000000;">(</span><span style="color: #010001;">global_dc</span><span style="color: #000000;">, </span><span style="color: #010001;">stars</span><span style="color: #000000;">[</span><span style="color: #010001;">index</span><span style="color: #000000;">].</span><span style="color: #010001;">x</span><span style="color: #000000;">, </span><span style="color: #010001;">stars</span><span style="color: #000000;">[</span><span style="color: #010001;">index</span><span style="color: #000000;">].</span><span style="color: #010001;">y</span><span style="color: #000000;">, </span><span style="color: #010001;">stars</span><span style="color: #000000;">[</span><span style="color: #010001;">index</span><span style="color: #000000;">].</span><span style="color: #010001;">col</span><span style="color: #000000;">);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">} // end Draw_Stars</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">////////////////////////////////////////////////////////////</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="color: blue;" lang="EN-US">void</span><span lang="EN-US"><span style="color: #000000;"> </span><span style="color: #010001;">Move_Stars</span><span style="color: #000000;">(</span><span style="color: blue;">void</span><span style="color: #000000;">)</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">{</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">// this function moves all the stars and wraps them around the </span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">// screen boundaries</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="color: blue;" lang="EN-US">for</span><span lang="EN-US"><span style="color: #000000;"> (</span><span style="color: blue;">int</span><span style="color: #000000;"> </span><span style="color: #010001;">index</span><span style="color: #000000;">=0; </span><span style="color: #010001;">index</span><span style="color: #000000;"> &lt; </span><span style="color: #010001;">NUM_STARS</span><span style="color: #000000;">; </span><span style="color: #010001;">index</span><span style="color: #000000;">++)</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp; </span>{</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp; </span>// move the star and test for edge</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-spacerun: yes;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">stars</span><span style="color: #000000;">[</span><span style="color: #010001;">index</span><span style="color: #000000;">].</span><span style="color: #010001;">x</span><span style="color: #000000;">+=</span><span style="color: #010001;">stars</span><span style="color: #000000;">[</span><span style="color: #010001;">index</span><span style="color: #000000;">].</span><span style="color: #010001;">vel</span><span style="color: #000000;">;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-spacerun: yes;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp; </span></span><span style="color: blue;">if</span><span style="color: #000000;"> (</span><span style="color: #010001;">stars</span><span style="color: #000000;">[</span><span style="color: #010001;">index</span><span style="color: #000000;">].</span><span style="color: #010001;">x</span><span style="color: #000000;"> &gt;= </span><span style="color: #010001;">WINDOW_WIDTH</span><span style="color: #000000;">)</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-spacerun: yes;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">stars</span><span style="color: #000000;">[</span><span style="color: #010001;">index</span><span style="color: #000000;">].</span><span style="color: #010001;">x</span><span style="color: #000000;"> -= </span><span style="color: #010001;">WINDOW_WIDTH</span><span style="color: #000000;">;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="mso-spacerun: yes;"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;&nbsp;&nbsp; </span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-spacerun: yes;">&nbsp;&nbsp;&nbsp; </span>} // end for index</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">} // end Move_Stars</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">////////////////////////////////////////////////////////////</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="color: blue;" lang="EN-US">int</span><span lang="EN-US"><span style="color: #000000;"> </span><span style="color: #010001;">Game_Main</span><span style="color: #000000;">(</span><span style="color: blue;">void</span><span style="color: #000000;"> *</span><span style="color: #010001;">parms</span><span style="color: #000000;"> = </span><span style="color: #010001;">NULL</span><span style="color: #000000;">, </span><span style="color: blue;">int</span><span style="color: #000000;"> </span><span style="color: #010001;">num_parms</span><span style="color: #000000;"> = 0)</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">{</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">// this is the main loop of the game, do all your processing</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">// here</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">// get the time</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="color: #010001;" lang="EN-US">DWORD</span><span lang="EN-US"><span style="color: #000000;"> </span><span style="color: #010001;">start_time</span><span style="color: #000000;"> = </span><span style="color: #010001;">GetTickCount</span><span style="color: #000000;">();</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">// erase the stars</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="color: #010001;" lang="EN-US">Erase_Stars</span><span lang="EN-US"><span style="color: #000000;">();</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">// move the stars</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="color: #010001;" lang="EN-US">Move_Stars</span><span lang="EN-US"><span style="color: #000000;">();</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">// draw the stars</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="color: #010001;" lang="EN-US">Draw_Stars</span><span lang="EN-US"><span style="color: #000000;">();</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">// lock to 30 fps</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="color: blue;" lang="EN-US">while</span><span lang="EN-US"><span style="color: #000000;">((</span><span style="color: #010001;">start_time</span><span style="color: #000000;"> - </span><span style="color: #010001;">GetTickCount</span><span style="color: #000000;">() &lt; 33));</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">// for now test if user is hitting ESC and send WM_CLOSE</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="color: blue;" lang="EN-US">if</span><span lang="EN-US"><span style="color: #000000;"> (</span><span style="color: #010001;">KEYDOWN</span><span style="color: #000000;">(</span><span style="color: #010001;">VK_ESCAPE</span><span style="color: #000000;">))</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-spacerun: yes;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">SendMessage</span><span style="color: #000000;">(</span><span style="color: #010001;">main_window_handle</span><span style="color: #000000;">,</span><span style="color: #010001;">WM_CLOSE</span><span style="color: #000000;">,0,0);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">// return success or failure or your own return code here</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="color: blue;" lang="EN-US">return</span><span lang="EN-US"><span style="color: #000000;">(1);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">} // end Game_Main</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">////////////////////////////////////////////////////////////</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="color: blue;" lang="EN-US">int</span><span lang="EN-US"><span style="color: #000000;"> </span><span style="color: #010001;">Game_Init</span><span style="color: #000000;">(</span><span style="color: blue;">void</span><span style="color: #000000;"> *</span><span style="color: #010001;">parms</span><span style="color: #000000;"> = </span><span style="color: #010001;">NULL</span><span style="color: #000000;">, </span><span style="color: blue;">int</span><span style="color: #000000;"> </span><span style="color: #010001;">num_parms</span><span style="color: #000000;"> = 0)</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">{</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">// this is called once after the initial window is created and</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">// before the main event loop is entered, do all your initialization</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">// here</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">// first get the dc to the window</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="color: #010001;" lang="EN-US">global_dc</span><span lang="EN-US"><span style="color: #000000;"> = </span><span style="color: #010001;">GetDC</span><span style="color: #000000;">(</span><span style="color: #010001;">main_window_handle</span><span style="color: #000000;">);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">// initialize the star field here</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="color: #010001;" lang="EN-US">Init_Stars</span><span lang="EN-US"><span style="color: #000000;">();</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">// return success or failure or your own return code here</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="color: blue;" lang="EN-US">return</span><span lang="EN-US"><span style="color: #000000;">(1);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">} // end Game_Init</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">/////////////////////////////////////////////////////////////</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="color: blue;" lang="EN-US">int</span><span lang="EN-US"><span style="color: #000000;"> </span><span style="color: #010001;">Game_Shutdown</span><span style="color: #000000;">(</span><span style="color: blue;">void</span><span style="color: #000000;"> *</span><span style="color: #010001;">parms</span><span style="color: #000000;"> = </span><span style="color: #010001;">NULL</span><span style="color: #000000;">, </span><span style="color: blue;">int</span><span style="color: #000000;"> </span><span style="color: #010001;">num_parms</span><span style="color: #000000;"> = 0)</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">{</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">// this is called after the game is exited and the main event</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">// loop while is exited, do all you cleanup and shutdown here</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">// release the global dc</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="color: #010001;" lang="EN-US">ReleaseDC</span><span lang="EN-US"><span style="color: #000000;">(</span><span style="color: #010001;">main_window_handle</span><span style="color: #000000;">, </span><span style="color: #010001;">global_dc</span><span style="color: #000000;">);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">// return success or failure or your own return code here</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="color: blue;" lang="EN-US">return</span><span lang="EN-US"><span style="color: #000000;">(1);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">} // end Game_Shutdown</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="font-size: large;"><span style="color: #000000;"><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">书中例子利用不同的亮度，及不同的移动速度来模拟一种类</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">3D</span></span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">的效果。。。。。。。。。。。。估计不是一般的人能想到的，呵呵，要知道，仅仅利用了一个</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">SetPixel</span></span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">函数。。。。。。。</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"></span></span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="font-size: large;"><span style="color: #000000;"><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">Have Fun</span></span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">，</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">aha?</span></span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">在有了一个大概的思路以后，其实</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">Window</span></span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">下面的</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">GDI</span></span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">编程也没有那么难吧，的确是没有那么难吧？毕竟我们专注的也就一个</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">SetPixel</span></span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">函数而已了</span><span style="mso-fareast-language: ZH-CN;"><span style="font-family: Calibri;"> </span></span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">，越专注反而能让我们有更多新的想法。</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"></span></span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="font-size: large;"><span style="color: #000000;"><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">这里用</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">Windows GDI</span></span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">来实现我从</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">Small Basic</span></span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">学到的一招显示文字的华丽技巧，你以前要是从来没有看过类似例子（也不是个在图形编程领域混过很多年的骨灰级程序员）你别说看了没有感觉惊艳，要知道其实仅仅是利用了画点和文字输出两个如此平常而简单的特性。</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"></span></span></span></p>
<h2 style="text-indent: 0cm; margin: 13pt 0cm;"><span style="color: #000000;"><span style="mso-fareast-language: ZH-CN; mso-fareast-font-family: Cambria; mso-fareast-theme-font: major-latin; mso-bidi-font-family: Cambria; mso-bidi-theme-font: major-latin;" lang="EN-US"><span style="mso-list: Ignore;"><span style="font-family: Cambria; font-size: large;">6.</span><span style='font: 7pt "Times New Roman";'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span><span style="font-size: large;"><span style="font-family: 宋体; mso-ascii-font-family: Cambria; mso-ascii-theme-font: major-latin; mso-hansi-font-family: Cambria; mso-hansi-theme-font: major-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: major-fareast;">星空中的文字</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"></span></span></span></h2>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">///////////////////////////////////////////////////////////</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="color: blue;" lang="EN-US">int</span><span lang="EN-US"><span style="color: #000000;"> </span><span style="color: #010001;">Game_Main</span><span style="color: #000000;">(</span><span style="color: blue;">void</span><span style="color: #000000;"> *</span><span style="color: #010001;">parms</span><span style="color: #000000;"> = </span><span style="color: #010001;">NULL</span><span style="color: #000000;">, </span><span style="color: blue;">int</span><span style="color: #000000;"> </span><span style="color: #010001;">num_parms</span><span style="color: #000000;"> = 0)</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">{</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">DWORD</span><span style="color: #000000;"> </span><span style="color: #010001;">dwStartTime</span><span style="color: #000000;">;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">dwStartTime</span><span style="color: #000000;"> = </span><span style="color: #010001;">GetTickCount</span><span style="color: #000000;">();</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// this is the main loop of the game, do all your processing</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// here</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// for now test if user is hitting ESC and send WM_CLOSE</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: blue;">if</span><span style="color: #000000;"> (</span><span style="color: #010001;">KEYDOWN</span><span style="color: #000000;">(</span><span style="color: #010001;">VK_ESCAPE</span><span style="color: #000000;">))</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 2;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">SendMessage</span><span style="color: #000000;">(</span><span style="color: #010001;">main_window_handle</span><span style="color: #000000;">,</span><span style="color: #010001;">WM_CLOSE</span><span style="color: #000000;">,0,0);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="mso-tab-count: 1;"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;&nbsp; </span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: blue;">for</span><span style="color: #000000;"> (</span><span style="color: blue;">int</span><span style="color: #000000;"> </span><span style="color: #010001;">index</span><span style="color: #000000;">=0; </span><span style="color: #010001;">index</span><span style="color: #000000;"> &lt; 1000; </span><span style="color: #010001;">index</span><span style="color: #000000;">++)</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>{</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 2;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>// get random position</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 2;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: blue;">int</span><span style="color: #000000;"> </span><span style="color: #010001;">x</span><span style="color: #000000;"> = </span><span style="color: #010001;">rand</span><span style="color: #000000;">()%</span><span style="color: #010001;">WIDTH</span><span style="color: #000000;">;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 2;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: blue;">int</span><span style="color: #000000;"> </span><span style="color: #010001;">y</span><span style="color: #000000;"> = </span><span style="color: #010001;">rand</span><span style="color: #000000;">()%</span><span style="color: #010001;">HEIGHT</span><span style="color: #000000;">;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 2;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">COLORREF</span><span style="color: #000000;"> </span><span style="color: #010001;">color</span><span style="color: #000000;"> = </span><span style="color: #010001;">RGB</span><span style="color: #000000;">(</span><span style="color: #010001;">rand</span><span style="color: #000000;">()%255,</span><span style="color: #010001;">rand</span><span style="color: #000000;">()%255,</span><span style="color: #010001;">rand</span><span style="color: #000000;">()%255);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 2;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">SetPixel</span><span style="color: #000000;">(</span><span style="color: #010001;">ghDC</span><span style="color: #000000;">, </span><span style="color: #010001;">x</span><span style="color: #000000;">,</span><span style="color: #010001;">y</span><span style="color: #000000;">, </span><span style="color: #010001;">color</span><span style="color: #000000;">);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>} // end for index</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">TextOut</span><span style="color: #000000;">(</span><span style="color: #010001;">ghDC</span><span style="color: #000000;">, 100, 100, </span><span style="color: #010001;">CHAR_OUT</span><span style="color: #000000;">, </span><span style="color: #010001;">_tcslen</span><span style="color: #000000;">(</span><span style="color: #010001;">CHAR_OUT</span><span style="color: #000000;">));</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// release the dc</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: blue;">while</span><span style="color: #000000;">(</span><span style="color: #010001;">GetTickCount</span><span style="color: #000000;">() - </span><span style="color: #010001;">dwStartTime</span><span style="color: #000000;"> &lt; </span><span style="color: #010001;">TIME_IN_FRAME</span><span style="color: #000000;">)</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>{</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 2;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">Sleep</span><span style="color: #000000;">(1);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>}</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// return success or failure or your own return code here</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: blue;">return</span><span style="color: #000000;">(1);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">} // end Game_Main</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">////////////////////////////////////////////////////////////</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="color: blue;" lang="EN-US">int</span><span lang="EN-US"><span style="color: #000000;"> </span><span style="color: #010001;">Game_Init</span><span style="color: #000000;">(</span><span style="color: blue;">void</span><span style="color: #000000;"> *</span><span style="color: #010001;">parms</span><span style="color: #000000;"> = </span><span style="color: #010001;">NULL</span><span style="color: #000000;">, </span><span style="color: blue;">int</span><span style="color: #000000;"> </span><span style="color: #010001;">num_parms</span><span style="color: #000000;"> = 0)</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">{</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// this is called once after the initial window is created and</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// before the main event loop is entered, do all your initialization</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// here</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">HFONT</span><span style="color: #000000;"> </span><span style="color: #010001;">hfont</span><span style="color: #000000;">;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">ghDC</span><span style="color: #000000;"> = </span><span style="color: #010001;">GetDC</span><span style="color: #000000;">(</span><span style="color: #010001;">main_window_handle</span><span style="color: #000000;">);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span lang="EN-US"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">hfont</span><span style="color: #000000;"> = </span><span style="color: #010001;">CreateFont</span><span style="color: #000000;">( 100, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, </span><span style="color: #010001;">_T</span><span style="color: #000000;">(</span><span style="color: #a31515;">"</span></span><span style="color: #a31515;">新宋体<span lang="EN-US">"</span></span><span lang="EN-US"><span style="color: #000000;">));</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">SelectObject</span><span style="color: #000000;">(</span><span style="color: #010001;">ghDC</span><span style="color: #000000;">, </span><span style="color: #010001;">hfont</span><span style="color: #000000;">);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">SetTextColor</span><span style="color: #000000;">(</span><span style="color: #010001;">ghDC</span><span style="color: #000000;">, </span><span style="color: #010001;">RGB</span><span style="color: #000000;">(0,0,0));</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">SetBkColor</span><span style="color: #000000;">(</span><span style="color: #010001;">ghDC</span><span style="color: #000000;">, </span><span style="color: #010001;">RGB</span><span style="color: #000000;">(0,0,0));</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">DeleteObject</span><span style="color: #000000;">(</span><span style="color: #010001;">hfont</span><span style="color: #000000;">);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// return success or failure or your own return code here</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: blue;">return</span><span style="color: #000000;">(1);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">} // end Game_Init</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">/////////////////////////////////////////////////////////////</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="color: blue;" lang="EN-US">int</span><span lang="EN-US"><span style="color: #000000;"> </span><span style="color: #010001;">Game_Shutdown</span><span style="color: #000000;">(</span><span style="color: blue;">void</span><span style="color: #000000;"> *</span><span style="color: #010001;">parms</span><span style="color: #000000;"> = </span><span style="color: #010001;">NULL</span><span style="color: #000000;">, </span><span style="color: blue;">int</span><span style="color: #000000;"> </span><span style="color: #010001;">num_parms</span><span style="color: #000000;"> = 0)</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">{</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// this is called after the game is exited and the main event</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// loop while is exited, do all you cleanup and shutdown here</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">ReleaseDC</span><span style="color: #000000;">(</span><span style="color: #010001;">main_window_handle</span><span style="color: #000000;">, </span><span style="color: #010001;">ghDC</span><span style="color: #000000;">);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// return success or failure or your own return code here</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: blue;">return</span><span style="color: #000000;">(1);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">} // end Game_Shutdown</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="color: #000000;"><span style="font-size: large;"><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">按照以前的实现思想，我很快写出了上述程序，结果效果和我想象的不太一样，反而有点像个面具。。。。。留出了眼睛的观察窗口。。。</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">-_-!</span></span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">见插图</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">2</span></span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">。实际的原因想了一下才知道，背景前景都是黑的，当时的第一想法是不能让星空给盖了，但是这样不都黑了啊？。。。。呵呵，改成下面这个样子，效果就出来了，多的行用红色标明，看了就明白了，让背景透明，能够被星空给盖了，这样才能显示出文字。</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">///////////////////////////////////////////////////////////</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="color: blue;" lang="EN-US">int</span><span lang="EN-US"><span style="color: #000000;"> </span><span style="color: #010001;">Game_Main</span><span style="color: #000000;">(</span><span style="color: blue;">void</span><span style="color: #000000;"> *</span><span style="color: #010001;">parms</span><span style="color: #000000;"> = </span><span style="color: #010001;">NULL</span><span style="color: #000000;">, </span><span style="color: blue;">int</span><span style="color: #000000;"> </span><span style="color: #010001;">num_parms</span><span style="color: #000000;"> = 0)</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">{</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">DWORD</span><span style="color: #000000;"> </span><span style="color: #010001;">dwStartTime</span><span style="color: #000000;">;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">dwStartTime</span><span style="color: #000000;"> = </span><span style="color: #010001;">GetTickCount</span><span style="color: #000000;">();</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// this is the main loop of the game, do all your processing</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// here</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// for now test if user is hitting ESC and send WM_CLOSE</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: blue;">if</span><span style="color: #000000;"> (</span><span style="color: #010001;">KEYDOWN</span><span style="color: #000000;">(</span><span style="color: #010001;">VK_ESCAPE</span><span style="color: #000000;">))</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 2;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">SendMessage</span><span style="color: #000000;">(</span><span style="color: #010001;">main_window_handle</span><span style="color: #000000;">,</span><span style="color: #010001;">WM_CLOSE</span><span style="color: #000000;">,0,0);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="mso-tab-count: 1;"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;&nbsp; </span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: blue;">for</span><span style="color: #000000;"> (</span><span style="color: blue;">int</span><span style="color: #000000;"> </span><span style="color: #010001;">index</span><span style="color: #000000;">=0; </span><span style="color: #010001;">index</span><span style="color: #000000;"> &lt; 300; </span><span style="color: #010001;">index</span><span style="color: #000000;">++)</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>{</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 2;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>// get random position</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 2;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: blue;">int</span><span style="color: #000000;"> </span><span style="color: #010001;">x</span><span style="color: #000000;"> = </span><span style="color: #010001;">rand</span><span style="color: #000000;">()%</span><span style="color: #010001;">WIDTH</span><span style="color: #000000;">;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 2;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: blue;">int</span><span style="color: #000000;"> </span><span style="color: #010001;">y</span><span style="color: #000000;"> = </span><span style="color: #010001;">rand</span><span style="color: #000000;">()%</span><span style="color: #010001;">HEIGHT</span><span style="color: #000000;">;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 2;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">COLORREF</span><span style="color: #000000;"> </span><span style="color: #010001;">color</span><span style="color: #000000;"> = </span><span style="color: #010001;">RGB</span><span style="color: #000000;">(</span><span style="color: #010001;">rand</span><span style="color: #000000;">()%255,</span><span style="color: #010001;">rand</span><span style="color: #000000;">()%255,</span><span style="color: #010001;">rand</span><span style="color: #000000;">()%255);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 2;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">SetPixel</span><span style="color: #000000;">(</span><span style="color: #010001;">ghDC</span><span style="color: #000000;">, </span><span style="color: #010001;">x</span><span style="color: #000000;">,</span><span style="color: #010001;">y</span><span style="color: #000000;">, </span><span style="color: #010001;">color</span><span style="color: #000000;">);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>} // end for index</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">TextOut</span><span style="color: #000000;">(</span><span style="color: #010001;">ghDC</span><span style="color: #000000;">, 100, 100, </span><span style="color: #010001;">CHAR_OUT</span><span style="color: #000000;">, </span><span style="color: #010001;">_tcslen</span><span style="color: #000000;">(</span><span style="color: #010001;">CHAR_OUT</span><span style="color: #000000;">));</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// release the dc</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: blue;">while</span><span style="color: #000000;">(</span><span style="color: #010001;">GetTickCount</span><span style="color: #000000;">() - </span><span style="color: #010001;">dwStartTime</span><span style="color: #000000;"> &lt; </span><span style="color: #010001;">TIME_IN_FRAME</span><span style="color: #000000;">)</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>{</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 2;"><span style="color: #000000;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span style="color: #010001;">Sleep</span><span style="color: #000000;">(1);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>}</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// return success or failure or your own return code here</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: blue;">return</span><span style="color: #000000;">(1);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">} // end Game_Main</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">////////////////////////////////////////////////////////////</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="color: blue;" lang="EN-US">int</span><span lang="EN-US"><span style="color: #000000;"> </span><span style="color: #010001;">Game_Init</span><span style="color: #000000;">(</span><span style="color: blue;">void</span><span style="color: #000000;"> *</span><span style="color: #010001;">parms</span><span style="color: #000000;"> = </span><span style="color: #010001;">NULL</span><span style="color: #000000;">, </span><span style="color: blue;">int</span><span style="color: #000000;"> </span><span style="color: #010001;">num_parms</span><span style="color: #000000;"> = 0)</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">{</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// this is called once after the initial window is created and</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// before the main event loop is entered, do all your initialization</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// here</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">HFONT</span><span style="color: #000000;"> </span><span style="color: #010001;">hfont</span><span style="color: #000000;">;</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">ghDC</span><span style="color: #000000;"> = </span><span style="color: #010001;">GetDC</span><span style="color: #000000;">(</span><span style="color: #010001;">main_window_handle</span><span style="color: #000000;">);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span lang="EN-US"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">hfont</span><span style="color: #000000;"> = </span><span style="color: #010001;">CreateFont</span><span style="color: #000000;">( 100, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, </span><span style="color: #010001;">_T</span><span style="color: #000000;">(</span><span style="color: #a31515;">"</span></span><span style="color: #a31515;">新宋体<span lang="EN-US">"</span></span><span lang="EN-US"><span style="color: #000000;">));</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">SelectObject</span><span style="color: #000000;">(</span><span style="color: #010001;">ghDC</span><span style="color: #000000;">, </span><span style="color: #010001;">hfont</span><span style="color: #000000;">);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">SetTextColor</span><span style="color: #000000;">(</span><span style="color: #010001;">ghDC</span><span style="color: #000000;">, </span><span style="color: #010001;">RGB</span><span style="color: #000000;">(0,0,0));</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: red;">SetBkMode (ghDC, TRANSPARENT);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">DeleteObject</span><span style="color: #000000;">(</span><span style="color: #010001;">hfont</span><span style="color: #000000;">);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// return success or failure or your own return code here</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: blue;">return</span><span style="color: #000000;">(1);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">} // end Game_Init</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">/////////////////////////////////////////////////////////////</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="color: blue;" lang="EN-US">int</span><span lang="EN-US"><span style="color: #000000;"> </span><span style="color: #010001;">Game_Shutdown</span><span style="color: #000000;">(</span><span style="color: blue;">void</span><span style="color: #000000;"> *</span><span style="color: #010001;">parms</span><span style="color: #000000;"> = </span><span style="color: #010001;">NULL</span><span style="color: #000000;">, </span><span style="color: blue;">int</span><span style="color: #000000;"> </span><span style="color: #010001;">num_parms</span><span style="color: #000000;"> = 0)</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">{</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// this is called after the game is exited and the main event</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// loop while is exited, do all you cleanup and shutdown here</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: #010001;">ReleaseDC</span><span style="color: #000000;">(</span><span style="color: #010001;">main_window_handle</span><span style="color: #000000;">, </span><span style="color: #010001;">ghDC</span><span style="color: #000000;">);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="color: #000000;"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp; </span>// return success or failure or your own return code here</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体;"><span style="font-size: large;"><span style="mso-tab-count: 1;"><span style="color: #000000;">&nbsp;&nbsp; </span></span><span style="color: blue;">return</span><span style="color: #000000;">(1);</span></span></span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="C" style="margin: 0cm 0cm 0pt;"><span lang="EN-US"><span style="font-family: 新宋体; color: #000000; font-size: large;">} // end Game_Shutdown</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri; color: #000000; font-size: large;">&nbsp;</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="font-size: large;"><span style="color: #000000;"><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">我第一次看到这个例子的时候真的感叹作者是个天才</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">-_-!</span></span></span></span><span><span style="color: #000000; font-size: large;">也许是自己太笨了所以想不到用这样的方式去显示文字吧。这次来个系列效果，可以参考《</span><a href="http://www.jtianling.com/archive/2009/08/29/4495105.aspx"><span style="font-family: 宋体; color: #770000; text-decoration: none; mso-ascii-font-family: Verdana; mso-hansi-font-family: Verdana; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; text-underline: none;" lang="EN-US"><span lang="EN-US">简单图形编程的学习（</span></span><span style="color: #770000; text-decoration: none; mso-fareast-language: ZH-CN; text-underline: none;">2</span><span style="font-family: 宋体; color: #770000; text-decoration: none; mso-ascii-font-family: Verdana; mso-hansi-font-family: Verdana; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; text-underline: none;" lang="EN-US"><span lang="EN-US">）</span></span><span style="color: #770000; text-decoration: none; mso-fareast-language: ZH-CN; text-underline: none;">---</span><span style="font-family: 宋体; color: #770000; text-decoration: none; mso-ascii-font-family: Verdana; mso-hansi-font-family: Verdana; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; text-underline: none;" lang="EN-US"><span lang="EN-US">点</span></span><span style="color: #770000; text-decoration: none; mso-fareast-language: ZH-CN; text-underline: none;"> (small basic</span><span style="font-family: 宋体; color: #770000; text-decoration: none; mso-ascii-font-family: Verdana; mso-hansi-font-family: Verdana; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; text-underline: none;" lang="EN-US"><span lang="EN-US">实现</span></span><span style="color: #770000; text-decoration: none; mso-fareast-language: ZH-CN; text-underline: none;">)</span></a></span><span style="color: #000000;"><span style="font-size: large;"><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">》文中的插图效果，或者简单的自己运行一下就好了。</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"></span></span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri; color: #000000; font-size: large;">&nbsp;</span></span></p>
<h1 style="text-indent: 0cm; margin: 24pt 0cm 0pt;"><span style="color: #365f91;"><span style="mso-bidi-font-family: 宋体; mso-bidi-theme-font: major-fareast;" lang="EN-US"><span style="mso-list: Ignore;"><span style="font-family: Cambria; font-size: large;">三、</span><span style='font: 7pt "Times New Roman";'>&nbsp;&nbsp; </span></span></span><span style="font-family: 宋体; mso-ascii-font-family: Cambria; mso-ascii-theme-font: major-latin; mso-hansi-font-family: Cambria; mso-hansi-theme-font: major-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: major-fareast;"><span style="font-size: large;">小结</span></span></span></h1>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 10pt;"><span style="font-size: large;"><span style="color: #000000;"><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">一个个简单的点就能够构成如此繁多的效果，简直有点不可思议，但是其实，能够绘制一个点，就能够绘制整个世界，要知道，整个屏幕不过也就是一个一个像素构成的，呵呵。其实，从另外的角度来说，一连串连续的点就能构成一条直线，一排排直线就能构成一个面，有了点，线，面，还有什么不够构成的？你可以表达整个世界。另外，就我看的老的游戏编程书籍介绍，</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">DirectDraw</span></span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">的原始接口也仅仅是能画点</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">/</span></span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">位图而已，游戏的开发的先驱们还不是用这样简单的接口实现了那么多画面丰富，效果华丽的</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">2D</span></span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-language: ZH-CN; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">游戏啊？</span></span></span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"></span></p>
<p style="text-align: center">&nbsp;</p>
<p>插图 </p>
<p>插图一： </p>
<p><img src="http://p.blog.csdn.net/images/p_blog_csdn_net/vagrxie/555576/o_082909_1730_21.png" alt="" /> </p>
<p>插图2： </p>
<p><img src="http://p.blog.csdn.net/images/p_blog_csdn_net/vagrxie/555576/o_082909_1730_22.png" alt="" /> </p>
<p>&nbsp;</p>
<p style="text-align: right"><a href="http://www.jtianling.com">write by <span style="font-family:宋体">九天雁翎</span>(JTianLing) -- www.jtianling.com</a> </p>
