---
layout: post
title: "《数据结构与算法分析-C++描述》List实现的问题，g++太符合标准，以至于有的时候虽然正确，但是却会让你吃惊"
categories:
- "算法"
tags:
- C++
- g++
- List
- "《数据结构与算法分析-C++描述》"
status: publish
type: post
published: true
meta:
  ratings_users: '0'
  ratings_score: '0'
  ratings_average: '0'
  views: '10'
author:
  login: jtianling
  email: jtianling@gmail.com
  display_name: jtianling
  first_name: ''
  last_name: ''
---
<p>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="ProgId" content="Word.Document" /><meta name="Generator" content="Microsoft Word 12" /><meta name="Originator" content="Microsoft Word 12" />
<link rel="File-List" href="file:///C:%5CDOCUME%7E1%5CADMINI%7E1%5CLOCALS%7E1%5CTemp%5Cmsohtmlclip1%5C01%5Cclip_filelist.xml" /><!--[if gte mso 9]&gt;&lt;xml&gt;<br />
 &lt;o:OfficeDocumentSettings&gt;<br />
  &lt;o:RelyOnVML /&gt;<br />
  &lt;o:AllowPNG /&gt;<br />
 &lt;/o:OfficeDocumentSettings&gt;<br />
&lt;/xml&gt;&lt;![endif]-->
<link rel="themeData" href="file:///C:%5CDOCUME%7E1%5CADMINI%7E1%5CLOCALS%7E1%5CTemp%5Cmsohtmlclip1%5C01%5Cclip_themedata.thmx" />
<link rel="colorSchemeMapping" href="file:///C:%5CDOCUME%7E1%5CADMINI%7E1%5CLOCALS%7E1%5CTemp%5Cmsohtmlclip1%5C01%5Cclip_colorschememapping.xml" /><!--[if gte mso 9]&gt;&lt;xml&gt;<br />
 &lt;w:WordDocument&gt;<br />
  &lt;w:View&gt;Normal&lt;/w:View&gt;<br />
  &lt;w:Zoom&gt;0&lt;/w:Zoom&gt;<br />
  &lt;w:TrackMoves /&gt;<br />
  &lt;w:TrackFormatting /&gt;<br />
  &lt;w:PunctuationKerning /&gt;<br />
  &lt;w:DrawingGridVerticalSpacing&gt;7.8 磅&lt;/w:DrawingGridVerticalSpacing&gt;<br />
  &lt;w:DisplayHorizontalDrawingGridEvery&gt;0&lt;/w:DisplayHorizontalDrawingGridEvery&gt;<br />
  &lt;w:DisplayVerticalDrawingGridEvery&gt;2&lt;/w:DisplayVerticalDrawingGridEvery&gt;<br />
  &lt;w:ValidateAgainstSchemas /&gt;<br />
  &lt;w:SaveIfXMLInvalid&gt;false&lt;/w:SaveIfXMLInvalid&gt;<br />
  &lt;w:IgnoreMixedContent&gt;false&lt;/w:IgnoreMixedContent&gt;<br />
  &lt;w:AlwaysShowPlaceholderText&gt;false&lt;/w:AlwaysShowPlaceholderText&gt;<br />
  &lt;w:DoNotPromoteQF /&gt;<br />
  &lt;w:LidThemeOther&gt;EN-US&lt;/w:LidThemeOther&gt;<br />
  &lt;w:LidThemeAsian&gt;ZH-CN&lt;/w:LidThemeAsian&gt;<br />
  &lt;w:LidThemeComplexScript&gt;X-NONE&lt;/w:LidThemeComplexScript&gt;<br />
  &lt;w:Compatibility&gt;<br />
   &lt;w:SpaceForUL /&gt;<br />
   &lt;w:BalanceSingleByteDoubleByteWidth /&gt;<br />
   &lt;w:DoNotLeaveBackslashAlone /&gt;<br />
   &lt;w:ULTrailSpace /&gt;<br />
   &lt;w:DoNotExpandShiftReturn /&gt;<br />
   &lt;w:AdjustLineHeightInTable /&gt;<br />
   &lt;w:BreakWrappedTables /&gt;<br />
   &lt;w:SnapToGridInCell /&gt;<br />
   &lt;w:WrapTextWithPunct /&gt;<br />
   &lt;w:UseAsianBreakRules /&gt;<br />
   &lt;w:DontGrowAutofit /&gt;<br />
   &lt;w:SplitPgBreakAndParaMark /&gt;<br />
   &lt;w:DontVertAlignCellWithSp /&gt;<br />
   &lt;w:DontBreakConstrainedForcedTables /&gt;<br />
   &lt;w:DontVertAlignInTxbx /&gt;<br />
   &lt;w:Word11KerningPairs /&gt;<br />
   &lt;w:CachedColBalance /&gt;<br />
   &lt;w:UseFELayout /&gt;<br />
  &lt;/w:Compatibility&gt;<br />
  &lt;m:mathPr&gt;<br />
   &lt;m:mathFont m:val="Cambria Math" /&gt;<br />
   &lt;m:brkBin m:val="before" /&gt;<br />
   &lt;m:brkBinSub m:val="&#45;-" /&gt;<br />
   &lt;m:smallFrac m:val="off" /&gt;<br />
   &lt;m:dispDef /&gt;<br />
   &lt;m:lMargin m:val="0" /&gt;<br />
   &lt;m:rMargin m:val="0" /&gt;<br />
   &lt;m:defJc m:val="centerGroup" /&gt;<br />
   &lt;m:wrapIndent m:val="1440" /&gt;<br />
   &lt;m:intLim m:val="subSup" /&gt;<br />
   &lt;m:naryLim m:val="undOvr" /&gt;<br />
  &lt;/m:mathPr&gt;&lt;/w:WordDocument&gt;<br />
&lt;/xml&gt;&lt;![endif]--><!--[if gte mso 9]&gt;&lt;xml&gt;<br />
 &lt;w:LatentStyles DefLockedState="false" DefUnhideWhenUsed="true"<br />
  DefSemiHidden="true" DefQFormat="false" DefPriority="99"<br />
  LatentStyleCount="267"&gt;<br />
  &lt;w:LsdException Locked="false" Priority="0" SemiHidden="false"<br />
   UnhideWhenUsed="false" QFormat="true" Name="Normal" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="9" SemiHidden="false"<br />
   UnhideWhenUsed="false" QFormat="true" Name="heading 1" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 2" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 3" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 4" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 5" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 6" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 7" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 8" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 9" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="39" Name="toc 1" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="39" Name="toc 2" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="39" Name="toc 3" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="39" Name="toc 4" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="39" Name="toc 5" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="39" Name="toc 6" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="39" Name="toc 7" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="39" Name="toc 8" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="39" Name="toc 9" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="35" QFormat="true" Name="caption" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="10" SemiHidden="false"<br />
   UnhideWhenUsed="false" QFormat="true" Name="Title" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="1" Name="Default Paragraph Font" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="11" SemiHidden="false"<br />
   UnhideWhenUsed="false" QFormat="true" Name="Subtitle" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="22" SemiHidden="false"<br />
   UnhideWhenUsed="false" QFormat="true" Name="Strong" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="20" SemiHidden="false"<br />
   UnhideWhenUsed="false" QFormat="true" Name="Emphasis" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="59" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Table Grid" /&gt;<br />
  &lt;w:LsdException Locked="false" UnhideWhenUsed="false" Name="Placeholder Text" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="1" SemiHidden="false"<br />
   UnhideWhenUsed="false" QFormat="true" Name="No Spacing" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="60" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Light Shading" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="61" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Light List" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="62" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Light Grid" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="63" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Shading 1" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="64" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Shading 2" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="65" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium List 1" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="66" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium List 2" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="67" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Grid 1" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="68" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Grid 2" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="69" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Grid 3" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="70" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Dark List" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="71" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Colorful Shading" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="72" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Colorful List" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="73" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Colorful Grid" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="60" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Light Shading Accent 1" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="61" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Light List Accent 1" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="62" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Light Grid Accent 1" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="63" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 1" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="64" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 1" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="65" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium List 1 Accent 1" /&gt;<br />
  &lt;w:LsdException Locked="false" UnhideWhenUsed="false" Name="Revision" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="34" SemiHidden="false"<br />
   UnhideWhenUsed="false" QFormat="true" Name="List Paragraph" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="29" SemiHidden="false"<br />
   UnhideWhenUsed="false" QFormat="true" Name="Quote" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="30" SemiHidden="false"<br />
   UnhideWhenUsed="false" QFormat="true" Name="Intense Quote" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="66" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium List 2 Accent 1" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="67" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 1" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="68" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 1" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="69" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 1" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="70" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Dark List Accent 1" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="71" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Colorful Shading Accent 1" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="72" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Colorful List Accent 1" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="73" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Colorful Grid Accent 1" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="60" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Light Shading Accent 2" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="61" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Light List Accent 2" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="62" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Light Grid Accent 2" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="63" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 2" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="64" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 2" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="65" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium List 1 Accent 2" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="66" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium List 2 Accent 2" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="67" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 2" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="68" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 2" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="69" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 2" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="70" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Dark List Accent 2" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="71" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Colorful Shading Accent 2" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="72" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Colorful List Accent 2" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="73" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Colorful Grid Accent 2" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="60" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Light Shading Accent 3" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="61" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Light List Accent 3" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="62" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Light Grid Accent 3" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="63" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 3" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="64" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 3" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="65" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium List 1 Accent 3" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="66" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium List 2 Accent 3" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="67" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 3" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="68" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 3" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="69" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 3" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="70" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Dark List Accent 3" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="71" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Colorful Shading Accent 3" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="72" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Colorful List Accent 3" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="73" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Colorful Grid Accent 3" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="60" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Light Shading Accent 4" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="61" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Light List Accent 4" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="62" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Light Grid Accent 4" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="63" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 4" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="64" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 4" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="65" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium List 1 Accent 4" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="66" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium List 2 Accent 4" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="67" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 4" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="68" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 4" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="69" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 4" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="70" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Dark List Accent 4" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="71" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Colorful Shading Accent 4" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="72" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Colorful List Accent 4" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="73" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Colorful Grid Accent 4" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="60" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Light Shading Accent 5" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="61" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Light List Accent 5" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="62" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Light Grid Accent 5" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="63" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 5" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="64" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 5" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="65" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium List 1 Accent 5" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="66" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium List 2 Accent 5" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="67" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 5" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="68" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 5" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="69" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 5" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="70" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Dark List Accent 5" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="71" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Colorful Shading Accent 5" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="72" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Colorful List Accent 5" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="73" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Colorful Grid Accent 5" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="60" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Light Shading Accent 6" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="61" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Light List Accent 6" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="62" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Light Grid Accent 6" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="63" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 6" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="64" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 6" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="65" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium List 1 Accent 6" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="66" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium List 2 Accent 6" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="67" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 6" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="68" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 6" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="69" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 6" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="70" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Dark List Accent 6" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="71" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Colorful Shading Accent 6" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="72" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Colorful List Accent 6" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="73" SemiHidden="false"<br />
   UnhideWhenUsed="false" Name="Colorful Grid Accent 6" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="19" SemiHidden="false"<br />
   UnhideWhenUsed="false" QFormat="true" Name="Subtle Emphasis" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="21" SemiHidden="false"<br />
   UnhideWhenUsed="false" QFormat="true" Name="Intense Emphasis" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="31" SemiHidden="false"<br />
   UnhideWhenUsed="false" QFormat="true" Name="Subtle Reference" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="32" SemiHidden="false"<br />
   UnhideWhenUsed="false" QFormat="true" Name="Intense Reference" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="33" SemiHidden="false"<br />
   UnhideWhenUsed="false" QFormat="true" Name="Book Title" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="37" Name="Bibliography" /&gt;<br />
  &lt;w:LsdException Locked="false" Priority="39" QFormat="true" Name="TOC Heading" /&gt;<br />
 &lt;/w:LatentStyles&gt;<br />
&lt;/xml&gt;&lt;![endif]--><br />
<style>
<!--<br />
 /* Font Definitions */<br />
 @font-face<br />
	{font-family:宋体;<br />
	panose-1:2 1 6 0 3 1 1 1 1 1;<br />
	mso-font-alt:SimSun;<br />
	mso-font-charset:134;<br />
	mso-generic-font-family:auto;<br />
	mso-font-pitch:variable;<br />
	mso-font-signature:3 135135232 16 0 262145 0;}<br />
@font-face<br />
	{font-family:"Cambria Math";<br />
	panose-1:2 4 5 3 5 4 6 3 2 4;<br />
	mso-font-charset:0;<br />
	mso-generic-font-family:roman;<br />
	mso-font-pitch:variable;<br />
	mso-font-signature:-1610611985 1107304683 0 0 159 0;}<br />
@font-face<br />
	{font-family:Cambria;<br />
	panose-1:2 4 5 3 5 4 6 3 2 4;<br />
	mso-font-charset:0;<br />
	mso-generic-font-family:roman;<br />
	mso-font-pitch:variable;<br />
	mso-font-signature:-1610611985 1073741899 0 0 159 0;}<br />
@font-face<br />
	{font-family:Calibri;<br />
	panose-1:2 15 5 2 2 2 4 3 2 4;<br />
	mso-font-charset:0;<br />
	mso-generic-font-family:swiss;<br />
	mso-font-pitch:variable;<br />
	mso-font-signature:-1610611985 1073750139 0 0 159 0;}<br />
@font-face<br />
	{font-family:"/@宋体";<br />
	panose-1:2 1 6 0 3 1 1 1 1 1;<br />
	mso-font-charset:134;<br />
	mso-generic-font-family:auto;<br />
	mso-font-pitch:variable;<br />
	mso-font-signature:3 135135232 16 0 262145 0;}<br />
 /* Style Definitions */<br />
 p.MsoNormal, li.MsoNormal, div.MsoNormal<br />
	{mso-style-unhide:no;<br />
	mso-style-qformat:yes;<br />
	mso-style-parent:"";<br />
	margin-top:0cm;<br />
	margin-right:0cm;<br />
	margin-bottom:10.0pt;<br />
	margin-left:0cm;<br />
	line-height:115%;<br />
	mso-pagination:widow-orphan;<br />
	font-size:12.0pt;<br />
	mso-bidi-font-size:11.0pt;<br />
	font-family:"Calibri","sans-serif";<br />
	mso-ascii-font-family:Calibri;<br />
	mso-ascii-theme-font:minor-latin;<br />
	mso-fareast-font-family:宋体;<br />
	mso-fareast-theme-font:minor-fareast;<br />
	mso-hansi-font-family:Calibri;<br />
	mso-hansi-theme-font:minor-latin;<br />
	mso-bidi-font-family:"Times New Roman";<br />
	mso-bidi-theme-font:minor-bidi;<br />
	mso-fareast-language:EN-US;<br />
	mso-bidi-language:EN-US;}<br />
h1<br />
	{mso-style-priority:9;<br />
	mso-style-unhide:no;<br />
	mso-style-qformat:yes;<br />
	mso-style-link:"标题 1 Char";<br />
	mso-style-next:正文;<br />
	margin-top:24.0pt;<br />
	margin-right:0cm;<br />
	margin-bottom:0cm;<br />
	margin-left:0cm;<br />
	margin-bottom:.0001pt;<br />
	line-height:115%;<br />
	mso-pagination:widow-orphan lines-together;<br />
	page-break-after:avoid;<br />
	mso-outline-level:1;<br />
	font-size:16.0pt;<br />
	mso-bidi-font-size:14.0pt;<br />
	font-family:"Cambria","serif";<br />
	mso-ascii-font-family:Cambria;<br />
	mso-ascii-theme-font:major-latin;<br />
	mso-fareast-font-family:宋体;<br />
	mso-fareast-theme-font:major-fareast;<br />
	mso-hansi-font-family:Cambria;<br />
	mso-hansi-theme-font:major-latin;<br />
	mso-bidi-font-family:"Times New Roman";<br />
	mso-bidi-theme-font:major-bidi;<br />
	color:#365F91;<br />
	mso-themecolor:accent1;<br />
	mso-themeshade:191;<br />
	mso-font-kerning:1.0pt;<br />
	font-weight:bold;}<br />
h2<br />
	{mso-style-priority:9;<br />
	mso-style-qformat:yes;<br />
	mso-style-link:"标题 2 Char";<br />
	mso-style-next:正文;<br />
	margin-top:13.0pt;<br />
	margin-right:0cm;<br />
	margin-bottom:13.0pt;<br />
	margin-left:0cm;<br />
	line-height:173%;<br />
	mso-pagination:widow-orphan lines-together;<br />
	page-break-after:avoid;<br />
	mso-outline-level:2;<br />
	font-size:16.0pt;<br />
	font-family:"Cambria","serif";<br />
	mso-ascii-font-family:Cambria;<br />
	mso-ascii-theme-font:major-latin;<br />
	mso-fareast-font-family:宋体;<br />
	mso-fareast-theme-font:major-fareast;<br />
	mso-hansi-font-family:Cambria;<br />
	mso-hansi-theme-font:major-latin;<br />
	mso-bidi-font-family:"Times New Roman";<br />
	mso-bidi-theme-font:major-bidi;<br />
	mso-fareast-language:EN-US;<br />
	mso-bidi-language:EN-US;<br />
	font-weight:bold;}<br />
a:link, span.MsoHyperlink<br />
	{mso-style-priority:99;<br />
	color:blue;<br />
	text-decoration:underline;<br />
	text-underline:single;}<br />
a:visited, span.MsoHyperlinkFollowed<br />
	{mso-style-noshow:yes;<br />
	mso-style-priority:99;<br />
	color:purple;<br />
	mso-themecolor:followedhyperlink;<br />
	text-decoration:underline;<br />
	text-underline:single;}<br />
p<br />
	{mso-style-noshow:yes;<br />
	mso-style-priority:99;<br />
	mso-margin-top-alt:auto;<br />
	margin-right:0cm;<br />
	mso-margin-bottom-alt:auto;<br />
	margin-left:0cm;<br />
	mso-pagination:widow-orphan;<br />
	font-size:12.0pt;<br />
	font-family:宋体;<br />
	mso-bidi-font-family:宋体;}<br />
pre<br />
	{mso-style-priority:99;<br />
	mso-style-link:"HTML 预设格式 Char";<br />
	margin:0cm;<br />
	margin-bottom:.0001pt;<br />
	mso-pagination:widow-orphan;<br />
	tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt;<br />
	font-size:12.0pt;<br />
	font-family:宋体;<br />
	mso-bidi-font-family:宋体;}<br />
tt<br />
	{mso-style-noshow:yes;<br />
	mso-style-priority:99;<br />
	mso-ansi-font-size:12.0pt;<br />
	mso-bidi-font-size:12.0pt;<br />
	font-family:宋体;<br />
	mso-ascii-font-family:宋体;<br />
	mso-fareast-font-family:宋体;<br />
	mso-hansi-font-family:宋体;<br />
	mso-bidi-font-family:宋体;}<br />
p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph<br />
	{mso-style-priority:34;<br />
	mso-style-unhide:no;<br />
	mso-style-qformat:yes;<br />
	margin-top:0cm;<br />
	margin-right:0cm;<br />
	margin-bottom:10.0pt;<br />
	margin-left:0cm;<br />
	text-indent:21.0pt;<br />
	mso-char-indent-count:2.0;<br />
	line-height:115%;<br />
	mso-pagination:widow-orphan;<br />
	font-size:12.0pt;<br />
	mso-bidi-font-size:11.0pt;<br />
	font-family:"Calibri","sans-serif";<br />
	mso-ascii-font-family:Calibri;<br />
	mso-ascii-theme-font:minor-latin;<br />
	mso-fareast-font-family:宋体;<br />
	mso-fareast-theme-font:minor-fareast;<br />
	mso-hansi-font-family:Calibri;<br />
	mso-hansi-theme-font:minor-latin;<br />
	mso-bidi-font-family:"Times New Roman";<br />
	mso-bidi-theme-font:minor-bidi;<br />
	mso-fareast-language:EN-US;<br />
	mso-bidi-language:EN-US;}<br />
span.1Char<br />
	{mso-style-name:"标题 1 Char";<br />
	mso-style-priority:9;<br />
	mso-style-unhide:no;<br />
	mso-style-locked:yes;<br />
	mso-style-link:"标题 1";<br />
	mso-ansi-font-size:16.0pt;<br />
	mso-bidi-font-size:14.0pt;<br />
	font-family:"Cambria","serif";<br />
	mso-ascii-font-family:Cambria;<br />
	mso-ascii-theme-font:major-latin;<br />
	mso-fareast-font-family:宋体;<br />
	mso-fareast-theme-font:major-fareast;<br />
	mso-hansi-font-family:Cambria;<br />
	mso-hansi-theme-font:major-latin;<br />
	mso-bidi-font-family:"Times New Roman";<br />
	mso-bidi-theme-font:major-bidi;<br />
	color:#365F91;<br />
	mso-themecolor:accent1;<br />
	mso-themeshade:191;<br />
	font-weight:bold;}<br />
span.2Char<br />
	{mso-style-name:"标题 2 Char";<br />
	mso-style-priority:9;<br />
	mso-style-unhide:no;<br />
	mso-style-locked:yes;<br />
	mso-style-link:"标题 2";<br />
	mso-ansi-font-size:16.0pt;<br />
	mso-bidi-font-size:16.0pt;<br />
	font-family:"Cambria","serif";<br />
	mso-ascii-font-family:Cambria;<br />
	mso-ascii-theme-font:major-latin;<br />
	mso-fareast-font-family:宋体;<br />
	mso-fareast-theme-font:major-fareast;<br />
	mso-hansi-font-family:Cambria;<br />
	mso-hansi-theme-font:major-latin;<br />
	mso-bidi-font-family:"Times New Roman";<br />
	mso-bidi-theme-font:major-bidi;<br />
	mso-font-kerning:0pt;<br />
	mso-fareast-language:EN-US;<br />
	mso-bidi-language:EN-US;<br />
	font-weight:bold;}<br />
span.HTMLChar<br />
	{mso-style-name:"HTML 预设格式 Char";<br />
	mso-style-priority:99;<br />
	mso-style-unhide:no;<br />
	mso-style-locked:yes;<br />
	mso-style-link:"HTML 预设格式";<br />
	mso-ansi-font-size:12.0pt;<br />
	mso-bidi-font-size:12.0pt;<br />
	font-family:宋体;<br />
	mso-ascii-font-family:宋体;<br />
	mso-fareast-font-family:宋体;<br />
	mso-hansi-font-family:宋体;<br />
	mso-bidi-font-family:宋体;<br />
	mso-font-kerning:0pt;}<br />
.MsoChpDefault<br />
	{mso-style-type:export-only;<br />
	mso-default-props:yes;<br />
	mso-bidi-font-family:"Times New Roman";<br />
	mso-bidi-theme-font:minor-bidi;}<br />
 /* Page Definitions */<br />
 @page<br />
	{mso-page-border-surround-header:no;<br />
	mso-page-border-surround-footer:no;}<br />
@page Section1<br />
	{size:595.3pt 841.9pt;<br />
	margin:72.0pt 90.0pt 72.0pt 90.0pt;<br />
	mso-header-margin:42.55pt;<br />
	mso-footer-margin:49.6pt;<br />
	mso-paper-source:0;<br />
	layout-grid:15.6pt;}<br />
div.Section1<br />
	{page:Section1;}<br />
--><br />
</style>
<p><!--[if gte mso 10]&gt;<br />
&lt;style&gt;<br />
 /* Style Definitions */<br />
 table.MsoNormalTable<br />
	{mso-style-name:普通表格;<br />
	mso-tstyle-rowband-size:0;<br />
	mso-tstyle-colband-size:0;<br />
	mso-style-noshow:yes;<br />
	mso-style-priority:99;<br />
	mso-style-qformat:yes;<br />
	mso-style-parent:"";<br />
	mso-padding-alt:0cm 5.4pt 0cm 5.4pt;<br />
	mso-para-margin:0cm;<br />
	mso-para-margin-bottom:.0001pt;<br />
	mso-pagination:widow-orphan;<br />
	font-size:10.5pt;<br />
	mso-bidi-font-size:11.0pt;<br />
	font-family:"Calibri","sans-serif";<br />
	mso-ascii-font-family:Calibri;<br />
	mso-ascii-theme-font:minor-latin;<br />
	mso-hansi-font-family:Calibri;<br />
	mso-hansi-theme-font:minor-latin;<br />
	mso-font-kerning:1.0pt;}<br />
&lt;/style&gt;<br />
&lt;![endif]--></p>
<h1><span style="font-family: 宋体;">《数据结构与算法分析</span><span lang="EN-US">-C++</span><span style="font-family: 宋体;">描述》</span><span lang="EN-US">List</span><span style="font-family: 宋体;">实现的问题，</span><span lang="EN-US">g++</span><span style="font-family: 宋体;">太符合标准，以至于有的时候虽然正确，但是却会让你吃惊</span><br />
</h1>
<p class="MsoNormal" style="text-align: right;" align="right"><b><u><span style="font-variant: small-caps; color: rgb(192, 80, 77); letter-spacing: 0.25pt;" lang="EN-US">write by </span></u></b><b><u><span style="font-family: 宋体; font-variant: small-caps; color: rgb(192, 80, 77); letter-spacing: 0.25pt;" lang="EN-US">九天雁翎</span><span style="font-variant: small-caps; color: rgb(192, 80, 77); letter-spacing: 0.25pt;" lang="EN-US">(JTianLing) --<br />
blog.csdn.net/vagrxie</span></u></b></p>
<p class="MsoNormal"><span lang="EN-US">&nbsp;</span></p>
<p class="MsoNormal"><span style="font-family: 宋体;" lang="EN-US">&lt;&lt;Data Structures and Algorithm Analysis in C++&gt;&gt;<o:p></o:p></span></p>
<p class="MsoListParagraph" style="margin-left: 18pt; text-indent: 0cm;"><span style="font-family: 宋体;" lang="EN-US">--</span><span style="font-family: 宋体;">《数据结构与算法分析</span><span style="" lang="EN-US">c++</span><span style="font-family: 宋体;">描述》</span><span style="" lang="EN-US"> Mark Allen Weiss</span><span style="font-family: 宋体;">著</span><span style=""> </span><span style="font-family: 宋体;">人民邮电大学出版</span><span style=""> </span><span style="font-family: 宋体;">中文版第<span lang="EN-US">63-71</span>面， 图<span lang="EN-US">3-11</span>到<span lang="EN-US">3-16</span>，实现的一个用链表实现的列表<span lang="EN-US">List</span>类。</span><span style="" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal" style="margin-bottom: 0.0001pt; line-height: normal;"><span style="font-family: 宋体;">原实现大概如下：（我可能修改了一些变量的命名以符合我的习惯）</span><span style="" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal"><span style='font-family: "Courier New"; color: rgb(128, 64, 64);' lang="EN-US">&nbsp;&nbsp;1 </span><span style='font-family: "Courier New"; color: rgb(160, 32, 240);' lang="EN-US">#ifndef __LIST_H__</span><span style='font-family: "Courier New";' lang="EN-US"><br />
<span style="color: rgb(128, 64, 64);">&nbsp;&nbsp;2 </span><span style="color: rgb(160, 32, 240);">#define<br />
__LIST_H__</span><br />
<span style="color: rgb(128, 64, 64);">&nbsp;&nbsp;3 </span><br />
<span style="color: rgb(128, 64, 64);">&nbsp;&nbsp;4 </span><b><span style="color: seagreen;">template</span></b>&nbsp;&lt;<b><span style="color: seagreen;">typename</span></b>&nbsp;T&gt;<br />
<span style="color: rgb(128, 64, 64);">&nbsp;&nbsp;5 </span><b><span style="color: seagreen;">class</span></b>&nbsp;CList<br />
<span style="color: rgb(128, 64, 64);">&nbsp;&nbsp;6 </span>{<br />
<span style="color: rgb(128, 64, 64);">&nbsp;&nbsp;7 <b>private</b></span>:<br />
<span style="color: rgb(128, 64, 64);">&nbsp;&nbsp;8 </span>&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: seagreen;">struct</span></b>&nbsp;CNode<br />
<span style="color: rgb(128, 64, 64);">&nbsp;&nbsp;9 </span>&nbsp;&nbsp;&nbsp;&nbsp;{<br />
<span style="color: rgb(128, 64, 64);">&nbsp;10 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CNode(<br />
<b><span style="color: seagreen;">const</span></b>&nbsp;T&amp; aData = T(), CNode<br />
*apPrev = <span style="color: fuchsia;">NULL</span>, CNode *apNext = <span style="color: fuchsia;">NULL</span>)<br />
<span style="color: rgb(128, 64, 64);">&nbsp;11 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:<br />
mData(aData),mpPrev(apPrev),mpNext(apNext) { } <br />
<span style="color: rgb(128, 64, 64);">&nbsp;12 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;T<br />
mData;<br />
<span style="color: rgb(128, 64, 64);">&nbsp;13 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CNode<br />
*mpPrev;<br />
<span style="color: rgb(128, 64, 64);">&nbsp;14 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CNode<br />
*mpNext;<br />
<span style="color: rgb(128, 64, 64);">&nbsp;15 </span>&nbsp;&nbsp;&nbsp;&nbsp;};<br />
<span style="color: rgb(128, 64, 64);">&nbsp;16 </span><br />
<span style="color: rgb(128, 64, 64);">&nbsp;17 <b>public</b></span>:<br />
<span style="color: rgb(128, 64, 64);">&nbsp;18 </span>&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: seagreen;">class</span></b>&nbsp;const_iterator<br />
<span style="color: rgb(128, 64, 64);">&nbsp;19 </span>&nbsp;&nbsp;&nbsp;&nbsp;{<br />
<span style="color: rgb(128, 64, 64);">&nbsp;20 </span>&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: rgb(128, 64, 64);">public</span></b>:<br />
<span style="color: rgb(128, 64, 64);">&nbsp;21 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue;">// in the book, We have Head and Tail, why we still need</span><br />
<span style="color: rgb(128, 64, 64);">&nbsp;22 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue;">// to use this constructor? I Don't think we need this.</span><br />
<span style="color: rgb(128, 64, 64);">&nbsp;23 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const_iterator():mpCurrent(<span style="color: fuchsia;">NULL</span>) { }<br />
<span style="color: rgb(128, 64, 64);">&nbsp;24 </span><br />
<span style="color: rgb(128, 64, 64);">&nbsp;25 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: seagreen;">const</span></b>&nbsp;T&amp; <b><span style="color: rgb(128, 64, 64);">operator</span></b>*()<br />
<b><span style="color: seagreen;">const</span></b><br />
<span style="color: rgb(128, 64, 64);">&nbsp;26 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />
<span style="color: rgb(128, 64, 64);">&nbsp;27 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: rgb(128, 64, 64);">return</span></b>&nbsp;retrieve();<br />
<span style="color: rgb(128, 64, 64);">&nbsp;28 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
<span style="color: rgb(128, 64, 64);">&nbsp;29 </span><br />
<span style="color: rgb(128, 64, 64);">&nbsp;30 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const_iterator&amp;<br />
<b><span style="color: rgb(128, 64, 64);">operator</span></b>++()<br />
<span style="color: rgb(128, 64, 64);">&nbsp;31 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />
<span style="color: rgb(128, 64, 64);">&nbsp;32 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mpCurrent<br />
= mpCurrent-&gt;mpNext;<br />
<span style="color: rgb(128, 64, 64);">&nbsp;33 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: rgb(128, 64, 64);">return</span></b>&nbsp;*<b><span style="color: rgb(128, 64, 64);">this</span></b>;<br />
<span style="color: rgb(128, 64, 64);">&nbsp;34 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
<span style="color: rgb(128, 64, 64);">&nbsp;35 </span><br />
<span style="color: rgb(128, 64, 64);">&nbsp;36 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const_iterator<br />
<b><span style="color: rgb(128, 64, 64);">operator</span></b>++(<b><span style="color: seagreen;">int</span></b>)<br />
<span style="color: rgb(128, 64, 64);">&nbsp;37 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />
<span style="color: rgb(128, 64, 64);">&nbsp;38 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const_iterator<br />
lOld = *<b><span style="color: rgb(128, 64, 64);">this</span></b>;<br />
<span style="color: rgb(128, 64, 64);">&nbsp;39 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++(*<b><span style="color: rgb(128, 64, 64);">this</span></b>);<br />
<span style="color: rgb(128, 64, 64);">&nbsp;40 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: rgb(128, 64, 64);">return</span></b>&nbsp;lOld;<br />
<span style="color: rgb(128, 64, 64);">&nbsp;41 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
<span style="color: rgb(128, 64, 64);">&nbsp;42 </span><br />
<span style="color: rgb(128, 64, 64);">&nbsp;43 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: seagreen;">bool</span></b>&nbsp;<b><span style="color: rgb(128, 64, 64);">operator</span></b>==<br />
( <b><span style="color: seagreen;">const</span></b>&nbsp;const_iterator&amp;<br />
aoOrig) <b><span style="color: seagreen;">const</span></b><br />
<span style="color: rgb(128, 64, 64);">&nbsp;44 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />
<span style="color: rgb(128, 64, 64);">&nbsp;45 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: rgb(128, 64, 64);">return</span></b>&nbsp;(mpCurrent == aoOrig.mpCurrent);<br />
<span style="color: rgb(128, 64, 64);">&nbsp;46 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
<span style="color: rgb(128, 64, 64);">&nbsp;47 </span><br />
<span style="color: rgb(128, 64, 64);">&nbsp;48 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: seagreen;">bool</span></b>&nbsp;<b><span style="color: rgb(128, 64, 64);">operator</span></b>!=<br />
(<b><span style="color: seagreen;">const</span></b>&nbsp;const_iterator&amp;<br />
aoOrig) <b><span style="color: seagreen;">const</span></b><br />
<span style="color: rgb(128, 64, 64);">&nbsp;49 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />
<span style="color: rgb(128, 64, 64);">&nbsp;50 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: rgb(128, 64, 64);">return</span></b>&nbsp;!(*<b><span style="color: rgb(128, 64, 64);">this</span></b>&nbsp;==<br />
aoOrig);<br />
<span style="color: rgb(128, 64, 64);">&nbsp;51 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
<span style="color: rgb(128, 64, 64);">&nbsp;52 </span><br />
<span style="color: rgb(128, 64, 64);">&nbsp;53 </span>&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: rgb(128, 64, 64);">protected</span></b>:<br />
<span style="color: rgb(128, 64, 64);">&nbsp;54 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;T&amp;<br />
retrieve() <b><span style="color: seagreen;">const</span></b><br />
<span style="color: rgb(128, 64, 64);">&nbsp;55 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />
<span style="color: rgb(128, 64, 64);">&nbsp;56 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: rgb(128, 64, 64);">return</span></b>&nbsp;mpCurrent-&gt;mData;<br />
<span style="color: rgb(128, 64, 64);">&nbsp;57 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
<span style="color: rgb(128, 64, 64);">&nbsp;58 </span><br />
<span style="color: rgb(128, 64, 64);">&nbsp;59 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const_iterator(CNode<br />
*apCur) : mpCurrent(apCur) { }<br />
<span style="color: rgb(128, 64, 64);">&nbsp;60 </span><br />
<span style="color: rgb(128, 64, 64);">&nbsp;61 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: rgb(128, 64, 64);">friend</span></b>&nbsp;<b><span style="color: seagreen;">class</span></b>&nbsp;CList&lt;T&gt;;<br />
<span style="color: rgb(128, 64, 64);">&nbsp;62 </span><br />
<span style="color: rgb(128, 64, 64);">&nbsp;63 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CNode*<br />
mpCurrent;<br />
<span style="color: rgb(128, 64, 64);">&nbsp;64 </span>&nbsp;&nbsp;&nbsp;&nbsp;};<br />
<span style="color: rgb(128, 64, 64);">&nbsp;65 </span><br />
<span style="color: rgb(128, 64, 64);">&nbsp;66 </span>&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: seagreen;">class</span></b>&nbsp;iterator : <b><span style="color: rgb(128, 64, 64);">public</span></b>&nbsp;const_iterator<br />
<span style="color: rgb(128, 64, 64);">&nbsp;67 </span>&nbsp;&nbsp;&nbsp;&nbsp;{<br />
<span style="color: rgb(128, 64, 64);">&nbsp;68 </span>&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: rgb(128, 64, 64);">public</span></b>:<br />
<span style="color: rgb(128, 64, 64);">&nbsp;69 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;iterator()<br />
{ }<br />
<span style="color: rgb(128, 64, 64);">&nbsp;70 </span><br />
<span style="color: rgb(128, 64, 64);">&nbsp;71 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;T&amp;<br />
<b><span style="color: rgb(128, 64, 64);">operator</span></b>* ()<br />
<span style="color: rgb(128, 64, 64);">&nbsp;72 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />
<span style="color: rgb(128, 64, 64);">&nbsp;73 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue;">// derived from const_iterator</span><br />
<span style="color: rgb(128, 64, 64);">&nbsp;74 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue;">// standard C++ need this.....but VS2005 don't need it.</span><br />
<span style="color: rgb(128, 64, 64);">&nbsp;75 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: rgb(128, 64, 64);">return</span></b>&nbsp;<b><span style="color: rgb(128, 64, 64);">this</span></b>-&gt;retrieve();<br />
<span style="color: rgb(128, 64, 64);">&nbsp;76 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
<span style="color: rgb(128, 64, 64);">&nbsp;77 </span><br />
<span style="color: rgb(128, 64, 64);">&nbsp;78 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue;">// Anybody tell me why we need this?</span><br />
<span style="color: rgb(128, 64, 64);">&nbsp;79 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue;">// If we really need this const thing</span><br />
<span style="color: rgb(128, 64, 64);">&nbsp;80 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue;">// why not use using statement</span><br />
<span style="color: rgb(128, 64, 64);">&nbsp;81 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: seagreen;">const</span></b>&nbsp;T&amp; <b><span style="color: rgb(128, 64, 64);">operator</span></b>*<br />
() <b><span style="color: seagreen;">const</span></b><br />
<span style="color: rgb(128, 64, 64);">&nbsp;82 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />
<span style="color: rgb(128, 64, 64);">&nbsp;83 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: rgb(128, 64, 64);">return</span></b>&nbsp;const_iterator::<b><span style="color: rgb(128, 64, 64);">operator</span></b>*();<br />
<span style="color: rgb(128, 64, 64);">&nbsp;84 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
<span style="color: rgb(128, 64, 64);">&nbsp;85 </span><br />
<span style="color: rgb(128, 64, 64);">&nbsp;86 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: rgb(128, 64, 64);">using</span></b>&nbsp;const_iterator::mpCurrent;<br />
<span style="color: rgb(128, 64, 64);">&nbsp;87 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;iterator&amp;<br />
<b><span style="color: rgb(128, 64, 64);">operator</span></b>++()<br />
<span style="color: rgb(128, 64, 64);">&nbsp;88 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />
<span style="color: rgb(128, 64, 64);">&nbsp;89 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue;">// standard C++ need this.....but VS2005 don't need it.</span><br />
<span style="color: rgb(128, 64, 64);">&nbsp;90 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: rgb(128, 64, 64);">this</span></b>-&gt;mpCurrent = <b><span style="color: rgb(128, 64, 64);">this</span></b>-&gt;mpCurrent-&gt;mpNext;<br />
<span style="color: rgb(128, 64, 64);">&nbsp;91 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: rgb(128, 64, 64);">return</span></b>&nbsp;*<b><span style="color: rgb(128, 64, 64);">this</span></b>;<br />
<span style="color: rgb(128, 64, 64);">&nbsp;92 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
<span style="color: rgb(128, 64, 64);">&nbsp;93 </span><br />
<span style="color: rgb(128, 64, 64);">&nbsp;94 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;iterator<br />
<b><span style="color: rgb(128, 64, 64);">operator</span></b>++(<b><span style="color: seagreen;">int</span></b>)<br />
<span style="color: rgb(128, 64, 64);">&nbsp;95 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />
<span style="color: rgb(128, 64, 64);">&nbsp;96 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;iterator<br />
lOld = *<b><span style="color: rgb(128, 64, 64);">this</span></b>;<br />
<span style="color: rgb(128, 64, 64);">&nbsp;97 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++(*<b><span style="color: rgb(128, 64, 64);">this</span></b>);<br />
<span style="color: rgb(128, 64, 64);">&nbsp;98 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: rgb(128, 64, 64);">return</span></b>&nbsp;lOld;<br />
<span style="color: rgb(128, 64, 64);">&nbsp;99 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
<span style="color: rgb(128, 64, 64);">100 </span><br />
<span style="color: rgb(128, 64, 64);">101 </span>&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: rgb(128, 64, 64);">protected</span></b>:<br />
<span style="color: rgb(128, 64, 64);">102 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;iterator(CNode<br />
*apCur) : const_iterator(apCur) { }<br />
<span style="color: rgb(128, 64, 64);">103 </span><br />
<span style="color: rgb(128, 64, 64);">104 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: rgb(128, 64, 64);">friend</span></b>&nbsp;<b><span style="color: seagreen;">class</span></b>&nbsp;CList&lt;T&gt;;<br />
<span style="color: rgb(128, 64, 64);">105 </span>&nbsp;&nbsp;&nbsp;&nbsp;};<br />
<span style="color: rgb(128, 64, 64);">106 </span><br />
<span style="color: rgb(128, 64, 64);">107 <b>public</b></span>:<br />
<span style="color: rgb(128, 64, 64);">108 </span>&nbsp;&nbsp;&nbsp;&nbsp;CList()<br />
<span style="color: rgb(128, 64, 64);">109 </span>&nbsp;&nbsp;&nbsp;&nbsp;{<br />
<span style="color: rgb(128, 64, 64);">110 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init();<br />
<span style="color: rgb(128, 64, 64);">111 </span>&nbsp;&nbsp;&nbsp;&nbsp;}<br />
<span style="color: rgb(128, 64, 64);">112 </span><br />
<span style="color: rgb(128, 64, 64);">113 </span>&nbsp;&nbsp;&nbsp;&nbsp;CList(<b><span style="color: seagreen;">const</span></b>&nbsp;CList&amp; aoOrig)<br />
<span style="color: rgb(128, 64, 64);">114 </span>&nbsp;&nbsp;&nbsp;&nbsp;{<br />
<span style="color: rgb(128, 64, 64);">115 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init();<br />
<span style="color: rgb(128, 64, 64);">116 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*<b><span style="color: rgb(128, 64, 64);">this</span></b>&nbsp;= aoOrig;<br />
<span style="color: rgb(128, 64, 64);">117 </span>&nbsp;&nbsp;&nbsp;&nbsp;}<br />
<span style="color: rgb(128, 64, 64);">118 </span><br />
<span style="color: rgb(128, 64, 64);">119 </span>&nbsp;&nbsp;&nbsp;&nbsp;~CList()<br />
<span style="color: rgb(128, 64, 64);">120 </span>&nbsp;&nbsp;&nbsp;&nbsp;{<br />
<span style="color: rgb(128, 64, 64);">121 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clear();<br />
<span style="color: rgb(128, 64, 64);">122 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: rgb(128, 64, 64);">delete</span></b>&nbsp;mpHead;<br />
<span style="color: rgb(128, 64, 64);">123 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: rgb(128, 64, 64);">delete</span></b>&nbsp;mpTail;<br />
<span style="color: rgb(128, 64, 64);">124 </span>&nbsp;&nbsp;&nbsp;&nbsp;};<br />
<span style="color: rgb(128, 64, 64);">125 </span><br />
<span style="color: rgb(128, 64, 64);">126 </span>&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: seagreen;">const</span></b>&nbsp;CList&amp; <b><span style="color: rgb(128, 64, 64);">operator</span></b>= (<b><span style="color: seagreen;">const</span></b>&nbsp;CList<br />
&amp;aoOrig)<br />
<span style="color: rgb(128, 64, 64);">127 </span>&nbsp;&nbsp;&nbsp;&nbsp;{<br />
<span style="color: rgb(128, 64, 64);">128 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: rgb(128, 64, 64);">if</span></b>(<b><span style="color: rgb(128, 64, 64);">this</span></b>&nbsp;==<br />
&amp;aoOrig)<br />
<span style="color: rgb(128, 64, 64);">129 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />
<span style="color: rgb(128, 64, 64);">130 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: rgb(128, 64, 64);">return</span></b>&nbsp;*<b><span style="color: rgb(128, 64, 64);">this</span></b>;<br />
<span style="color: rgb(128, 64, 64);">131 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
<span style="color: rgb(128, 64, 64);">132 </span><br />
<span style="color: rgb(128, 64, 64);">133 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clear();<br />
<span style="color: rgb(128, 64, 64);">134 </span><br />
<span style="color: rgb(128, 64, 64);">135 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: rgb(128, 64, 64);">for</span></b>( const_iterator lit = aoOrig.begin();<br />
<span style="color: rgb(128, 64, 64);">136 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lit<br />
!= aoOrig.end(); ++lit)<br />
<span style="color: rgb(128, 64, 64);">137 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />
<span style="color: rgb(128, 64, 64);">138 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;push_back(*lit);<br />
<span style="color: rgb(128, 64, 64);">139 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
<span style="color: rgb(128, 64, 64);">140 </span><br />
<span style="color: rgb(128, 64, 64);">141 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: rgb(128, 64, 64);">return</span></b>&nbsp;*<b><span style="color: rgb(128, 64, 64);">this</span></b>;<br />
<span style="color: rgb(128, 64, 64);">142 </span>&nbsp;&nbsp;&nbsp;&nbsp;}<br />
<span style="color: rgb(128, 64, 64);">143 </span><br />
<span style="color: rgb(128, 64, 64);">144 </span>&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: seagreen;">void</span></b>&nbsp;init()<br />
<span style="color: rgb(128, 64, 64);">145 </span>&nbsp;&nbsp;&nbsp;&nbsp;{<br />
<span style="color: rgb(128, 64, 64);">146 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;miSize<br />
= <span style="color: fuchsia;">0</span>;<br />
<span style="color: rgb(128, 64, 64);">147 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mpHead<br />
= <b><span style="color: rgb(128, 64, 64);">new</span></b>&nbsp;CNode;<br />
<span style="color: rgb(128, 64, 64);">148 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mpTail<br />
= <b><span style="color: rgb(128, 64, 64);">new</span></b>&nbsp;CNode;<br />
<span style="color: rgb(128, 64, 64);">149 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mpHead-&gt;mpNext<br />
= mpTail;<br />
<span style="color: rgb(128, 64, 64);">150 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mpTail-&gt;mpPrev<br />
= mpHead;<br />
<span style="color: rgb(128, 64, 64);">151 </span>&nbsp;&nbsp;&nbsp;&nbsp;}<br />
<span style="color: rgb(128, 64, 64);">152 </span><br />
<span style="color: rgb(128, 64, 64);">153 </span>&nbsp;&nbsp;&nbsp;&nbsp;iterator begin()<br />
<span style="color: rgb(128, 64, 64);">154 </span>&nbsp;&nbsp;&nbsp;&nbsp;{<br />
<span style="color: rgb(128, 64, 64);">155 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: rgb(128, 64, 64);">return</span></b>&nbsp;iterator(mpHead-&gt;mpNext);<br />
<span style="color: rgb(128, 64, 64);">156 </span>&nbsp;&nbsp;&nbsp;&nbsp;}<br />
<span style="color: rgb(128, 64, 64);">157 </span><br />
<span style="color: rgb(128, 64, 64);">158 </span>&nbsp;&nbsp;&nbsp;&nbsp;const_iterator<br />
begin() <b><span style="color: seagreen;">const</span></b><br />
<span style="color: rgb(128, 64, 64);">159 </span>&nbsp;&nbsp;&nbsp;&nbsp;{<br />
<span style="color: rgb(128, 64, 64);">160 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: rgb(128, 64, 64);">return</span></b>&nbsp;const_iterator(mpHead-&gt;mpNext);<br />
<span style="color: rgb(128, 64, 64);">161 </span>&nbsp;&nbsp;&nbsp;&nbsp;}<br />
<span style="color: rgb(128, 64, 64);">162 </span><br />
<span style="color: rgb(128, 64, 64);">163 </span>&nbsp;&nbsp;&nbsp;&nbsp;iterator end()<br />
<span style="color: rgb(128, 64, 64);">164 </span>&nbsp;&nbsp;&nbsp;&nbsp;{<br />
<span style="color: rgb(128, 64, 64);">165 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: rgb(128, 64, 64);">return</span></b>&nbsp;iterator(mpTail);<br />
<span style="color: rgb(128, 64, 64);">166 </span>&nbsp;&nbsp;&nbsp;&nbsp;}<br />
<span style="color: rgb(128, 64, 64);">167 </span><br />
<span style="color: rgb(128, 64, 64);">168 </span>&nbsp;&nbsp;&nbsp;&nbsp;const_iterator<br />
end() <b><span style="color: seagreen;">const</span></b><br />
<span style="color: rgb(128, 64, 64);">169 </span>&nbsp;&nbsp;&nbsp;&nbsp;{<br />
<span style="color: rgb(128, 64, 64);">170 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: rgb(128, 64, 64);">return</span></b>&nbsp;const_iterator(mpTail);<br />
<span style="color: rgb(128, 64, 64);">171 </span>&nbsp;&nbsp;&nbsp;&nbsp;}<br />
<span style="color: rgb(128, 64, 64);">172 </span><br />
<span style="color: rgb(128, 64, 64);">173 </span>&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: seagreen;">int</span></b>&nbsp;size() <b><span style="color: seagreen;">const</span></b><br />
<span style="color: rgb(128, 64, 64);">174 </span>&nbsp;&nbsp;&nbsp;&nbsp;{<br />
<span style="color: rgb(128, 64, 64);">175 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: rgb(128, 64, 64);">return</span></b>&nbsp;miSize;<br />
<span style="color: rgb(128, 64, 64);">176 </span>&nbsp;&nbsp;&nbsp;&nbsp;}<br />
<span style="color: rgb(128, 64, 64);">177 </span><br />
<span style="color: rgb(128, 64, 64);">178 </span><br />
<span style="color: rgb(128, 64, 64);">179 </span>&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: seagreen;">bool</span></b>&nbsp;empty() <b><span style="color: seagreen;">const</span></b><br />
<span style="color: rgb(128, 64, 64);">180 </span>&nbsp;&nbsp;&nbsp;&nbsp;{<br />
<span style="color: rgb(128, 64, 64);">181 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: rgb(128, 64, 64);">return</span></b>&nbsp;(size() == <span style="color: fuchsia;">0</span>);<br />
<span style="color: rgb(128, 64, 64);">182 </span>&nbsp;&nbsp;&nbsp;&nbsp;}<br />
<span style="color: rgb(128, 64, 64);">183 </span><br />
<span style="color: rgb(128, 64, 64);">184 </span>&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: seagreen;">void</span></b>&nbsp;clear()<br />
<span style="color: rgb(128, 64, 64);">185 </span>&nbsp;&nbsp;&nbsp;&nbsp;{<br />
<span style="color: rgb(128, 64, 64);">186 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: rgb(128, 64, 64);">while</span></b>( !empty())<br />
<span style="color: rgb(128, 64, 64);">187 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />
<span style="color: rgb(128, 64, 64);">188 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pop_front();<br />
<span style="color: rgb(128, 64, 64);">189 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
<span style="color: rgb(128, 64, 64);">190 </span>&nbsp;&nbsp;&nbsp;&nbsp;}<br />
<span style="color: rgb(128, 64, 64);">191 </span><br />
<span style="color: rgb(128, 64, 64);">192 </span>&nbsp;&nbsp;&nbsp;&nbsp;T&amp; front()<br />
<span style="color: rgb(128, 64, 64);">193 </span>&nbsp;&nbsp;&nbsp;&nbsp;{<br />
<span style="color: rgb(128, 64, 64);">194 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: rgb(128, 64, 64);">return</span></b>&nbsp;*begin();<br />
<span style="color: rgb(128, 64, 64);">195 </span>&nbsp;&nbsp;&nbsp;&nbsp;}<br />
<span style="color: rgb(128, 64, 64);">196 </span><br />
<span style="color: rgb(128, 64, 64);">197 </span>&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: seagreen;">const</span></b>&nbsp;T&amp; front() <b><span style="color: seagreen;">const</span></b><br />
<span style="color: rgb(128, 64, 64);">198 </span>&nbsp;&nbsp;&nbsp;&nbsp;{<br />
<span style="color: rgb(128, 64, 64);">199 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: rgb(128, 64, 64);">return</span></b>&nbsp;*begin();<br />
<span style="color: rgb(128, 64, 64);">200 </span>&nbsp;&nbsp;&nbsp;&nbsp;}<br />
<span style="color: rgb(128, 64, 64);">201 </span><br />
<span style="color: rgb(128, 64, 64);">202 </span>&nbsp;&nbsp;&nbsp;&nbsp;T&amp; back()<br />
<span style="color: rgb(128, 64, 64);">203 </span>&nbsp;&nbsp;&nbsp;&nbsp;{<br />
<span style="color: rgb(128, 64, 64);">204 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: rgb(128, 64, 64);">return</span></b>&nbsp;*--end();<br />
<span style="color: rgb(128, 64, 64);">205 </span>&nbsp;&nbsp;&nbsp;&nbsp;}<br />
<span style="color: rgb(128, 64, 64);">206 </span><br />
<span style="color: rgb(128, 64, 64);">207 </span>&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: seagreen;">const</span></b>&nbsp;T&amp; back() <b><span style="color: seagreen;">const</span></b><br />
<span style="color: rgb(128, 64, 64);">208 </span>&nbsp;&nbsp;&nbsp;&nbsp;{<br />
<span style="color: rgb(128, 64, 64);">209 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: rgb(128, 64, 64);">return</span></b>&nbsp;*--end();<br />
<span style="color: rgb(128, 64, 64);">210 </span>&nbsp;&nbsp;&nbsp;&nbsp;}<br />
<span style="color: rgb(128, 64, 64);">211 </span><br />
<span style="color: rgb(128, 64, 64);">212 </span>&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: seagreen;">void</span></b>&nbsp;push_front(<b><span style="color: seagreen;">const</span></b>&nbsp;T&amp; aoOrig)<br />
<span style="color: rgb(128, 64, 64);">213 </span>&nbsp;&nbsp;&nbsp;&nbsp;{<br />
<span style="color: rgb(128, 64, 64);">214 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;insert(begin(),<br />
aoOrig);<br />
<span style="color: rgb(128, 64, 64);">215 </span>&nbsp;&nbsp;&nbsp;&nbsp;}<br />
<span style="color: rgb(128, 64, 64);">216 </span><br />
<span style="color: rgb(128, 64, 64);">217 </span>&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: seagreen;">void</span></b>&nbsp;push_back(<b><span style="color: seagreen;">const</span></b>&nbsp;T&amp; aoOrig)<br />
<span style="color: rgb(128, 64, 64);">218 </span>&nbsp;&nbsp;&nbsp;&nbsp;{<br />
<span style="color: rgb(128, 64, 64);">219 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;insert(end(),<br />
aoOrig);<br />
<span style="color: rgb(128, 64, 64);">220 </span>&nbsp;&nbsp;&nbsp;&nbsp;}<br />
<span style="color: rgb(128, 64, 64);">221 </span><br />
<span style="color: rgb(128, 64, 64);">222 </span>&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: seagreen;">void</span></b>&nbsp;pop_front()<br />
<span style="color: rgb(128, 64, 64);">223 </span>&nbsp;&nbsp;&nbsp;&nbsp;{<br />
<span style="color: rgb(128, 64, 64);">224 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;erase(begin());<br />
<span style="color: rgb(128, 64, 64);">225 </span>&nbsp;&nbsp;&nbsp;&nbsp;}<br />
<span style="color: rgb(128, 64, 64);">226 </span><br />
<span style="color: rgb(128, 64, 64);">227 </span>&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: seagreen;">void</span></b>&nbsp;pop_back()<br />
<span style="color: rgb(128, 64, 64);">228 </span>&nbsp;&nbsp;&nbsp;&nbsp;{<br />
<span style="color: rgb(128, 64, 64);">229 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;erase(--end());<br />
<span style="color: rgb(128, 64, 64);">230 </span>&nbsp;&nbsp;&nbsp;&nbsp;}<br />
<span style="color: rgb(128, 64, 64);">231 </span><br />
<span style="color: rgb(128, 64, 64);">232 </span>&nbsp;&nbsp;&nbsp;&nbsp;iterator<br />
insert(iterator aItr, <b><span style="color: seagreen;">const</span></b>&nbsp;T&amp;<br />
aoOrig)<br />
<span style="color: rgb(128, 64, 64);">233 </span>&nbsp;&nbsp;&nbsp;&nbsp;{<br />
<span style="color: rgb(128, 64, 64);">234 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CNode<br />
*lpCur = aItr.mpCurrent;<br />
<span style="color: rgb(128, 64, 64);">235 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++miSize;<br />
<span style="color: rgb(128, 64, 64);">236 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: rgb(128, 64, 64);">return</span></b>&nbsp;iterator( lpCur-&gt;mpPrev =<br />
lpCur-&gt;mpPrev-&gt;mpNext = <b><span style="color: rgb(128, 64, 64);">new</span></b>&nbsp;CNode(aoOrig,<br />
lpCur-&gt;mpPrev, lpCur));<br />
<span style="color: rgb(128, 64, 64);">237 </span>&nbsp;&nbsp;&nbsp;&nbsp;}<br />
<span style="color: rgb(128, 64, 64);">238 </span><br />
<span style="color: rgb(128, 64, 64);">239 </span>&nbsp;&nbsp;&nbsp;&nbsp;iterator<br />
erase(iterator aItr)<br />
<span style="color: rgb(128, 64, 64);">240 </span>&nbsp;&nbsp;&nbsp;&nbsp;{<br />
<span style="color: rgb(128, 64, 64);">241 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CNode<br />
*lpCur = aItr.mpCurrent;<br />
<span style="color: rgb(128, 64, 64);">242 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;iterator<br />
litRet(lpCur-&gt;mpNext);<br />
<span style="color: rgb(128, 64, 64);">243 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lpCur-&gt;mpPrev-&gt;mpNext<br />
= lpCur-&gt;mpNext;<br />
<span style="color: rgb(128, 64, 64);">244 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lpCur-&gt;mpNext-&gt;mpPrev<br />
= lpCur-&gt;mpPrev;<br />
<span style="color: rgb(128, 64, 64);">245 </span><br />
<span style="color: rgb(128, 64, 64);">246 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: rgb(128, 64, 64);">delete</span></b>&nbsp;lpCur;<br />
<span style="color: rgb(128, 64, 64);">247 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--miSize;<br />
<span style="color: rgb(128, 64, 64);">248 </span><br />
<span style="color: rgb(128, 64, 64);">249 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: rgb(128, 64, 64);">return</span></b>&nbsp;litRet;<br />
<span style="color: rgb(128, 64, 64);">250 </span>&nbsp;&nbsp;&nbsp;&nbsp;}<br />
<span style="color: rgb(128, 64, 64);">251 </span><br />
<span style="color: rgb(128, 64, 64);">252 </span>&nbsp;&nbsp;&nbsp;&nbsp;iterator erase(<br />
iterator aitStart, iterator aitEnd)<br />
<span style="color: rgb(128, 64, 64);">253 </span>&nbsp;&nbsp;&nbsp;&nbsp;{<br />
<span style="color: rgb(128, 64, 64);">254 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: rgb(128, 64, 64);">for</span></b>(iterator lit = aitStart; lit != aitEnd; <span style="color: fuchsia;">NULL</span>)<br />
<span style="color: rgb(128, 64, 64);">255 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />
<span style="color: rgb(128, 64, 64);">256 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lit<br />
= erase(lit);<br />
<span style="color: rgb(128, 64, 64);">257 </span><br />
<span style="color: rgb(128, 64, 64);">258 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />
<span style="color: rgb(128, 64, 64);">259 </span><br />
<span style="color: rgb(128, 64, 64);">260 </span>&nbsp;&nbsp;&nbsp;&nbsp;}<br />
<span style="color: rgb(128, 64, 64);">261 </span><br />
<span style="color: rgb(128, 64, 64);">262 </span><br />
<span style="color: rgb(128, 64, 64);">263 <b>private</b></span>:<br />
<span style="color: rgb(128, 64, 64);">264 </span>&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: seagreen;">int</span></b>&nbsp;miSize;<br />
<span style="color: rgb(128, 64, 64);">265 </span>&nbsp;&nbsp;&nbsp;&nbsp;CNode *mpHead;<br />
<span style="color: rgb(128, 64, 64);">266 </span>&nbsp;&nbsp;&nbsp;&nbsp;CNode *mpTail;<br />
<span style="color: rgb(128, 64, 64);">267 </span><br />
<span style="color: rgb(128, 64, 64);">268 </span>};<br />
<span style="color: rgb(128, 64, 64);">269 </span><br />
<span style="color: rgb(128, 64, 64);">270 </span><br />
<span style="color: rgb(128, 64, 64);">271 </span><br />
<span style="color: rgb(128, 64, 64);">272 </span><br />
<span style="color: rgb(128, 64, 64);">273 </span><br />
<span style="color: rgb(128, 64, 64);">274 </span><br />
<span style="color: rgb(128, 64, 64);">275 </span><br />
<span style="color: rgb(128, 64, 64);">276 </span><br />
<span style="color: rgb(128, 64, 64);">277 </span><span style="color: rgb(160, 32, 240);">#endif</span></span><span style="" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal"><span style='font-family: "Courier New"; color: rgb(160, 32, 240);' lang="EN-US"><o:p>&nbsp;</o:p></span></p>
<p class="MsoNormal"><span style='font-family: "Courier New"; color: rgb(160, 32, 240);' lang="EN-US"><o:p>&nbsp;</o:p></span></p>
<p class="MsoNormal"><span style="font-family: 宋体;">需要注意的是</span><span style="" lang="EN-US">iterator</span><span style="font-family: 宋体;">的实现部分，</span><span style="" lang="EN-US">iterator</span><span style="font-family: 宋体;">和</span><span style="" lang="EN-US">const_iterator</span><span style="font-family: 宋体;">是</span><span style="" lang="EN-US">CList</span><span style="font-family: 宋体;">的嵌套类，这个没有问题，而</span><span style="" lang="EN-US">CList</span><span style="font-family: 宋体;">是个模板类，</span><span style="" lang="EN-US">iterator</span><span style="font-family: 宋体;">又继承自</span><span style="" lang="EN-US">const_iterator</span><span style="font-family: 宋体;">，这就有问题了，书中原来并没有我这里写的</span><span style="" lang="EN-US">this</span><span style="font-family: 宋体;">，那么在</span><span style="" lang="EN-US">g++</span><span style="font-family: 宋体;">中会报错，这个原因我一下也没有发现。因为说实话，工作中，学习中，复杂的模板应用用的本来就比较少，平时也常常习惯了</span><span style="" lang="EN-US">VS2005</span><span style="font-family: 宋体;">了，而这个特性在</span><span style="" lang="EN-US">VS2005</span><span style="font-family: 宋体;">中是不存在的。</span><span style="" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal"><span style="font-family: 宋体;">直觉告诉我的就是</span><span style="" lang="EN-US">VS</span><span style="font-family: 宋体;">不合标准，查过资料以后，发现情况果然是这样。</span><span style="" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal"><span style="font-family: 宋体;">见</span><span style="" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal"><span style="" lang="EN-US"><a href="http://www.redhat.com/docs/manuals/enterprise/RHEL-4-Manual/gcc/c---misunderstandings.html">http://www.redhat.com/docs/manuals/enterprise/RHEL-4-Manual/gcc/c---misunderstandings.html</a><o:p></o:p></span></p>
<p class="MsoNormal"><span style="" lang="EN-US">RH</span><span style="font-family: 宋体;">关于</span><span style="" lang="EN-US">g++</span><span style="font-family: 宋体;">的手册中有所描述。</span><span style="" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal"><span lang="EN-US">C++ is a complex language and an evolving<br />
one, and its standard definition (the ISO C++ standard) was only recently<br />
completed.<span style="color: red;"> As a result, your C++ compiler may<br />
occasionally surprise you, even when its behavior is correct. </span></span><span style="color: red;" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal"><span style="font-family: 宋体;">我标记成红色的部分意思是，虽然你的</span><span style="" lang="EN-US">C++</span><span style="font-family: 宋体;">编译器的行为是正确的，还是可能让你吃惊：）这就是一个这样的特性。</span><span style="" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal"><span style="" lang="EN-US"><o:p>&nbsp;</o:p></span></p>
<p class="MsoNormal"><span style="font-family: 宋体;">这里贴一下原来的解释，不翻译了</span><span style="" lang="EN-US"><o:p></o:p></span></p>
<h2><span lang="EN-US">11.9.2. Name lookup, templates, and accessing members of<br />
base classes</span></h2>
<p><span lang="EN-US">The C++ standard prescribes that all names that are not<br />
dependent on template parameters are bound to their present definitions when<br />
parsing a template function or class.<a name="AEN14997"></a><a href="http://www.redhat.com/docs/manuals/enterprise/RHEL-4-Manual/gcc/c---misunderstandings.html#FTN.AEN14997"><span style="">[1]</span><span style=""></span></a><span style=""></span> Only names that are dependent are looked<br />
up at the point of instantiation. For example, consider </span></p>
<table class="MsoNormalTable" style="background: gainsboro none repeat scroll 0% 0%; width: 100%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;" border="0" cellpadding="0" width="100%">
<tbody>
<tr style="">
<td style="padding: 0.75pt;">
<pre><span lang="EN-US"><span style="">&nbsp; </span>void foo(double);</span></pre>
<pre><span lang="EN-US"><o:p>&nbsp;</o:p></span></pre>
<pre><span lang="EN-US"><span style="">&nbsp; </span>struct A {</span></pre>
<pre><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span>template &lt;typename T&gt;</span></pre>
<pre><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span>void f () {</span></pre>
<pre><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>foo (1);<span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>// 1</span></pre>
<pre><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>int i = N;<span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>// 2</span></pre>
<pre><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="">&nbsp;</span>T t;</span></pre>
<pre><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>t.bar();<span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>// 3</span></pre>
<pre><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>foo (t);<span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>// 4</span></pre>
<pre><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span>}</span></pre>
<pre><span lang="EN-US"><o:p>&nbsp;</o:p></span></pre>
<pre><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span>static const int N;</span></pre>
<pre><span lang="EN-US"><span style="">&nbsp; </span>};</span></pre>
</td>
</tr>
</tbody>
</table>
<p><span lang="EN-US">Here, the names <tt>foo</tt> and <tt>N</tt> appear in a<br />
context that does not depend on the type of <tt>T</tt>. The compiler will thus<br />
require that they are defined in the context of use in the template, not only<br />
before the point of instantiation, and will here use <tt>::foo(double)</tt> and<br />
<tt>A::N</tt>, respectively. In particular, it will convert the integer value<br />
to a <tt>double</tt> when passing it to <tt>::foo(double)</tt>. </span></p>
<p><span lang="EN-US">Conversely, <tt>bar</tt> and the call to <tt>foo</tt> in<br />
the fourth marked line are used in contexts that do depend on the type of <tt>T</tt>,<br />
so they are only looked up at the point of instantiation, and you can provide<br />
declarations for them after declaring the template, but before instantiating<br />
it. In particular, if you instantiate <tt>A::f&lt;int&gt;</tt>, the last line<br />
will call an overloaded <tt>::foo(int)</tt> if one was provided, even if after<br />
the declaration of <tt>struct A</tt>. </span></p>
<p><span lang="EN-US">This distinction between lookup of dependent and<br />
non-dependent names is called two-stage (or dependent) name lookup. G++<br />
implements it since version 3.4. </span></p>
<p><span lang="EN-US">Two-stage name lookup sometimes leads to situations with<br />
behavior different from non-template codes. The most common is probably this: </span></p>
<table class="MsoNormalTable" style="background: gainsboro none repeat scroll 0% 0%; width: 100%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;" border="0" cellpadding="0" width="100%">
<tbody>
<tr style="">
<td style="padding: 0.75pt;">
<pre><span lang="EN-US"><span style="">&nbsp; </span>template &lt;typename T&gt; struct Base {</span></pre>
<pre><span lang="EN-US"><span style="">&nbsp; </span><span style="">&nbsp;&nbsp;</span>int i;</span></pre>
<pre><span lang="EN-US"><span style="">&nbsp; </span>};</span></pre>
<pre><span lang="EN-US"><o:p>&nbsp;</o:p></span></pre>
<pre><span lang="EN-US"><span style="">&nbsp; </span>template &lt;typename T&gt; struct Derived : public Base&lt;T&gt; {</span></pre>
<pre><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp; </span>int get_i() { return i; }</span></pre>
<pre><span lang="EN-US"><span style="">&nbsp; </span>};</span></pre>
</td>
</tr>
</tbody>
</table>
<p><span lang="EN-US">In <tt>get_i()</tt>, <tt>i</tt> is not used in a dependent<br />
context, so the compiler will look for a name declared at the enclosing<br />
namespace scope (which is the global scope here). It will not look into the<br />
base class, since that is dependent and you may declare specializations of <tt>Base</tt><br />
even after declaring <tt>Derived</tt>, so the compiler can't really know what <tt>i</tt><br />
would refer to. If there is no global variable <tt>i</tt>, then you will get an<br />
error message. </span></p>
<p><span lang="EN-US">In order to make it clear that you want the member of the<br />
base class, you need to defer lookup until instantiation time, at which the<br />
base class is known. For this, you need to access <tt>i</tt> in a dependent<br />
context, by either using <tt>this-&gt;i</tt> (remember that <tt>this</tt> is of<br />
type <tt>Derived&lt;T&gt;*</tt>, so is obviously dependent), or using <tt>Base&lt;T&gt;::i</tt>.<br />
Alternatively, <tt>Base&lt;T&gt;::i</tt> might be brought into scope by a <tt>using</tt>-declaration.<br />
</span></p>
<p><span lang="EN-US">Another, similar example involves calling member functions<br />
of a base class: </span></p>
<table class="MsoNormalTable" style="background: gainsboro none repeat scroll 0% 0%; width: 100%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;" border="0" cellpadding="0" width="100%">
<tbody>
<tr style="">
<td style="padding: 0.75pt;">
<pre><span lang="EN-US"><span style="">&nbsp; </span>template &lt;typename T&gt; struct Base {</span></pre>
<pre><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>int f();</span></pre>
<pre><span lang="EN-US"><span style="">&nbsp; </span>};</span></pre>
<pre><span lang="EN-US"><o:p>&nbsp;</o:p></span></pre>
<pre><span lang="EN-US"><span style="">&nbsp; </span>template &lt;typename T&gt; struct Derived : Base&lt;T&gt; {</span></pre>
<pre><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>int g() { return f(); };</span></pre>
<pre><span lang="EN-US"><span style="">&nbsp; </span>};</span></pre>
</td>
</tr>
</tbody>
</table>
<p><span lang="EN-US">Again, the call to <tt>f()</tt> is not dependent on<br />
template arguments (there are no arguments that depend on the type <tt>T</tt>,<br />
and it is also not otherwise specified that the call should be in a dependent<br />
context). Thus a global declaration of such a function must be available, since<br />
the one in the base class is not visible until instantiation time. The compiler<br />
will consequently produce the following error message: </span></p>
<table class="MsoNormalTable" style="background: gainsboro none repeat scroll 0% 0%; width: 100%; -moz-background-clip: -moz-initial; -moz-background-origin: -moz-initial; -moz-background-inline-policy: -moz-initial;" border="0" cellpadding="0" width="100%">
<tbody>
<tr style="">
<td style="padding: 0.75pt;">
<pre><span lang="EN-US"><span style="">&nbsp; </span>x.cc: In member function `int Derived&lt;T&gt;::g()':</span></pre>
<pre><span lang="EN-US"><span style="">&nbsp; </span>x.cc:6: error: there are no arguments to `f' that depend on a template</span></pre>
<pre><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp; </span>parameter, so a declaration of `f' must be available</span></pre>
<pre><span lang="EN-US"><span style="">&nbsp; </span>x.cc:6: error: (if you use `-fpermissive', G++ will accept your code, but</span></pre>
<pre><span lang="EN-US"><span style="">&nbsp;&nbsp;&nbsp;&nbsp; </span>allowing the use of an undeclared name is deprecated)</span></pre>
</td>
</tr>
</tbody>
</table>
<p><span lang="EN-US">To make the code valid either use <tt>this-&gt;f()</tt>, or<br />
<tt>Base&lt;T&gt;::f()</tt>. Using the <tt>-fpermissive</tt> flag will also let<br />
the compiler accept the code, by marking all function calls for which no<br />
declaration is visible at the time of definition of the template for later<br />
lookup at instantiation time, as if it were a dependent call. We do not<br />
recommend using <tt>-fpermissive</tt> to work around invalid code, and it will<br />
also only catch cases where functions in base classes are called, not where<br />
variables in base classes are used (as in the example above). </span></p>
<p><span lang="EN-US">Note that some compilers (including G++ versions prior to<br />
3.4) get these examples wrong and accept above code without an error. Those<br />
compilers do not implement two-stage name lookup correctly. </span></p>
<p class="MsoNormal"><span style="" lang="EN-US"><o:p>&nbsp;</o:p></span></p>
<p class="MsoNormal"><span style="font-family: 宋体;">基本意思是，在模板继承出现的时候，需要在子类中用</span><span style="" lang="EN-US">this</span><span style="font-family: 宋体;">来标志从父类中继承过来的成员函数和变量的调用。不然用</span><span style="" lang="EN-US">using</span><span style="font-family: 宋体;">声明也行。</span><span style="" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal"><span style="font-family: 宋体;">其实看过这个问题的解释后，我才想起来，</span><span style="" lang="EN-US">Effective C++</span><span style="font-family: 宋体;">也有类似的描述。</span><span style="" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal"><span style="" lang="EN-US">Effective<br />
C++,3<sup>rd</sup>,Item 43,Know How to access names in templatized base<br />
classes.<o:p></o:p></span></p>
<p class="MsoNormal"><span style="font-family: 宋体;">只是平时没有出现这个问题，一下子忘记了。回头再看看这一节：）</span><span style="" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal"><span style="font-family: 宋体;">下面是测试代码：（测试并没有完全覆盖）</span><span style="" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal"><span style="" lang="EN-US"><o:p>&nbsp;</o:p></span></p>
<p class="MsoNormal"><span style='font-family: "Courier New"; color: rgb(128, 64, 64);' lang="EN-US">&nbsp;1 </span><span style='font-family: "Courier New"; color: rgb(160, 32, 240);' lang="EN-US">#include </span><span style='font-family: "Courier New"; color: fuchsia;' lang="EN-US">&lt;stdio.h&gt;</span><span style='font-family: "Courier New";' lang="EN-US"><br />
<span style="color: rgb(128, 64, 64);">&nbsp;2 </span><span style="color: rgb(160, 32, 240);">#include<br />
</span><span style="color: fuchsia;">&lt;stdlib.h&gt;</span><br />
<span style="color: rgb(128, 64, 64);">&nbsp;3 </span><span style="color: rgb(160, 32, 240);">#include<br />
</span><span style="color: fuchsia;">&lt;iostream&gt;</span><br />
<span style="color: rgb(128, 64, 64);">&nbsp;4 </span><span style="color: rgb(160, 32, 240);">#include<br />
</span><span style="color: fuchsia;">&lt;iterator&gt;</span><br />
<span style="color: rgb(128, 64, 64);">&nbsp;5 </span><span style="color: rgb(160, 32, 240);">#include<br />
</span><span style="color: fuchsia;">&lt;algorithm&gt;</span><br />
<span style="color: rgb(128, 64, 64);">&nbsp;6 </span><span style="color: rgb(160, 32, 240);">#include<br />
</span><span style="color: fuchsia;">"list.h"</span><br />
<span style="color: rgb(128, 64, 64);">&nbsp;7 <b>using</b></span>&nbsp;<b><span style="color: seagreen;">namespace</span></b>&nbsp;std;<br />
<span style="color: rgb(128, 64, 64);">&nbsp;8 </span><br />
<span style="color: rgb(128, 64, 64);">&nbsp;9 </span><b><span style="color: seagreen;">int</span></b>&nbsp;main(<b><span style="color: seagreen;">int</span></b>&nbsp;argc, <b><span style="color: seagreen;">char</span></b>*<br />
argv[])<br />
<span style="color: rgb(128, 64, 64);">10 </span>{<br />
<span style="color: rgb(128, 64, 64);">11 </span>&nbsp;&nbsp;&nbsp;&nbsp;CList&lt;<b><span style="color: seagreen;">int</span></b>&gt; loList1;<br />
<span style="color: rgb(128, 64, 64);">12 </span>&nbsp;&nbsp;&nbsp;&nbsp;loList1.push_back(<span style="color: fuchsia;">1</span>);<br />
<span style="color: rgb(128, 64, 64);">13 </span>&nbsp;&nbsp;&nbsp;&nbsp;loList1.push_back(<span style="color: fuchsia;">2</span>);<br />
<span style="color: rgb(128, 64, 64);">14 </span>&nbsp;&nbsp;&nbsp;&nbsp;loList1.push_back(<span style="color: fuchsia;">3</span>);<br />
<span style="color: rgb(128, 64, 64);">15 </span>&nbsp;&nbsp;&nbsp;&nbsp;loList1.push_back(<span style="color: fuchsia;">4</span>);<br />
<span style="color: rgb(128, 64, 64);">16 </span>&nbsp;&nbsp;&nbsp;&nbsp;CList&lt;<b><span style="color: seagreen;">int</span></b>&gt; loList2(loList1);<br />
<span style="color: rgb(128, 64, 64);">17 </span><br />
<span style="color: rgb(128, 64, 64);">18 </span>&nbsp;&nbsp;&nbsp;&nbsp;CList&lt;<b><span style="color: seagreen;">int</span></b>&gt; loList3;<br />
<span style="color: rgb(128, 64, 64);">19 </span>&nbsp;&nbsp;&nbsp;&nbsp;loList3 =<br />
loList2;<br />
<span style="color: rgb(128, 64, 64);">20 </span><br />
<span style="color: rgb(128, 64, 64);">21 </span>&nbsp;&nbsp;&nbsp;&nbsp;<b><span style="color: rgb(128, 64, 64);">for</span></b>(CList&lt;<b><span style="color: seagreen;">int</span></b>&gt;::iterator<br />
lit = loList3.begin();<br />
<span style="color: rgb(128, 64, 64);">22 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lit<br />
!= loList3.end(); ++lit)<br />
<span style="color: rgb(128, 64, 64);">23 </span>&nbsp;&nbsp;&nbsp;&nbsp;{<br />
<span style="color: rgb(128, 64, 64);">24 </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cout<br />
&lt;&lt;*lit &lt;&lt;<span style="color: fuchsia;">" "</span>;<br />
<span style="color: rgb(128, 64, 64);">25 </span>&nbsp;&nbsp;&nbsp;&nbsp;}<br />
<span style="color: rgb(128, 64, 64);">26 </span><br />
<span style="color: rgb(128, 64, 64);">27 </span>&nbsp;&nbsp;&nbsp;&nbsp;cout<br />
&lt;&lt;endl;<br />
<span style="color: rgb(128, 64, 64);">28 </span><br />
<span style="color: rgb(128, 64, 64);">29 </span><br />
<span style="color: rgb(128, 64, 64);">30 </span>&nbsp;&nbsp;&nbsp;&nbsp;exit(<span style="color: fuchsia;">0</span>);<br />
<span style="color: rgb(128, 64, 64);">31 </span>}<br />
<span style="color: rgb(128, 64, 64);">32</span></span><span style="" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal"><span style="font-family: 宋体;">这里要说明一下的是，我本来想用</span><span style="" lang="EN-US">copy</span><span style="font-family: 宋体;">来输出的，所以包含了</span><span style="" lang="EN-US">algorithm</span><span style="font-family: 宋体;">和</span><span style="" lang="EN-US">iterator</span><span style="font-family: 宋体;">头文件，后来发现</span><span style="" lang="EN-US">CList</span><span style="font-family: 宋体;">中的迭代器还没有实现</span><span style="" lang="EN-US">trails,</span><span style="font-family: 宋体;">所以不能用。</span><span style="" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal"><span style="" lang="EN-US"><o:p>&nbsp;</o:p></span></p>
<p class="MsoNormal"><span style='font-family: "Courier New"; color: rgb(160, 32, 240);' lang="EN-US"><o:p>&nbsp;</o:p></span></p>
<p class="MsoNormal"><b><u><span style="font-variant: small-caps; color: rgb(192, 80, 77); letter-spacing: 0.25pt;" lang="EN-US">write by </span></u></b><b><u><span style="font-family: 宋体; font-variant: small-caps; color: rgb(192, 80, 77); letter-spacing: 0.25pt;">九天雁翎</span></u></b><b><u><span style="font-variant: small-caps; color: rgb(192, 80, 77); letter-spacing: 0.25pt;" lang="EN-US">(JTianLing) -- www.jtianling.com</span></u></b><span style="" lang="EN-US"><o:p></o:p></span></p>
<p class="MsoNormal"><span style="" lang="EN-US"><o:p>&nbsp;</o:p></span></p>
