---
layout: post
title: "为学习APUE(Unix环境高级编程）偷懒，而写的脚本，基本上相当于一个简单的工程创建脚本了"
categories:
- "未分类"
tags:
- APUE
- "《Unix环境高级编程》"
status: publish
type: post
published: true
meta:
  ratings_users: '0'
  ratings_score: '0'
  ratings_average: '0'
  views: '11'
author:
  login: jtianling
  email: jtianling@gmail.com
  display_name: jtianling
  first_name: ''
  last_name: ''
---
<p>
&nbsp;首先我单独建了一个目录用来保存学习时需要的目录，将此脚本拷贝到这个目录下面，以后每次以一个参数运行脚本，就会自动创建目录，cpp文件，makefile文件，需要做的就是进入此目录，然后修改cpp文件，然后make，enjoy it!呵呵，说实话，自从学习了bash以后，才越来越觉得linux并不是一个复杂难用的系统。</p>
<p><title>D:/ubuntu/apue/ctapue.sh.html</title><font face="monospace"><font color="#804040">&nbsp;1 </font><font color="#0000ff">#!/usr/bin/env bash</font><br /><font color="#804040">&nbsp;2 </font><font color="#008080">dir</font>=apue<font color="#a020f0">$1</font><br /><font color="#804040">&nbsp;3 </font><font color="#008080">file</font>=<font color="#a020f0">${</font><font color="#a020f0">dir</font><font color="#a020f0">}</font>/apue<font color="#a020f0">${</font><font color="#a020f0">1</font><font color="#a020f0">}</font>.cpp<br /><font color="#804040">&nbsp;4<br />
</font><font color="#008080">makefile</font>=<font color="#a020f0">${</font><font color="#a020f0">dir</font><font color="#a020f0">}</font>/Makefile<br /><font color="#804040">&nbsp;5 </font><br /><font color="#804040">&nbsp;6 </font><font color="#804040"><b>if</b></font>&nbsp;<font color="#804040"><b>[</b></font>&nbsp;<font color="#804040"><b>-d</b></font>&nbsp;<font color="#a020f0">${</font><font color="#a020f0">dir</font><font color="#a020f0">}</font>&nbsp;<font color="#804040"><b>]</b></font><br /><font color="#804040">&nbsp;7 </font><font color="#804040"><b>then</b></font><br /><font color="#804040">&nbsp;8 </font>&nbsp;&nbsp;&nbsp;&nbsp;<font color="#804040"><b>echo</b></font><font color="#ff00ff">&nbsp;</font><font color="#804040"><b>"</b></font><font color="#ff00ff">the path </font><font color="#a020f0">${</font><font color="#a020f0">dir</font><font color="#a020f0">}</font><font color="#ff00ff">&nbsp;is exist.</font><font color="#804040"><b>"</b></font><br /><font color="#804040">&nbsp;9 </font>&nbsp;&nbsp;&nbsp;&nbsp;<font color="#804040"><b>exit</b></font>&nbsp;<font color="#ff00ff">1</font><br /><font color="#804040">10 </font><font color="#804040"><b>else</b></font><br /><font color="#804040">11 </font>&nbsp;&nbsp;&nbsp;&nbsp;<font color="#804040"><b>mkdir</b></font>&nbsp;<font color="#a020f0">${</font><font color="#a020f0">dir</font><font color="#a020f0">}</font><br /><font color="#804040">12 </font><font color="#804040"><b>fi</b></font><br /><font color="#804040">13 </font><br /><font color="#804040">14 </font><font color="#0000ff"># Create the src<br />
file</font><br /><font color="#804040">15 </font>cat <font color="#804040"><b>&gt;</b></font><font color="#a020f0">${</font><font color="#a020f0">file</font><font color="#a020f0">}</font>&nbsp;<font color="#804040"><b>&lt;&lt;end-of-file</b></font><br /><font color="#804040">16<br />
</font><font color="#ff00ff">#include &lt;stdio.h&gt;</font><br /><font color="#804040">17 </font><font color="#ff00ff">#include "../apue.h"</font><br /><font color="#804040">18 </font><br /><font color="#804040">19 </font><br /><font color="#804040">20 </font><font color="#ff00ff">int main(int argc, char*<br />
argv[])</font><br /><font color="#804040">21 </font><font color="#ff00ff">{</font><br /><font color="#804040">22 </font><br /><font color="#804040">23 </font><br /><font color="#804040">24 </font><font color="#ff00ff">&nbsp;&nbsp;&nbsp;&nbsp;exit(0);</font><br /><font color="#804040">25 </font><font color="#ff00ff">}</font><br /><font color="#804040">26 </font><br /><font color="#804040">27 </font><font color="#804040"><b>end-of-file</b></font><br /><font color="#804040">28 </font><br /><font color="#804040">29 </font><font color="#0000ff">#<br />
Create the makefile</font><br /><font color="#804040">30 </font>cat <font color="#804040"><b>&gt;</b></font><font color="#a020f0">${</font><font color="#a020f0">makefile</font><font color="#a020f0">}</font>&nbsp;<font color="#804040"><b>&lt;&lt;end-of-makefile</b></font><br /><font color="#804040">31<br />
</font><font color="#ff00ff">src=apue</font><font color="#a020f0">${</font><font color="#a020f0">1</font><font color="#a020f0">}</font><font color="#ff00ff">.cpp</font><br /><font color="#804040">32 </font><font color="#ff00ff">ob=test</font><br /><font color="#804040">33 </font><font color="#6a5acd">/$</font><font color="#ff00ff">{ob} : </font><font color="#6a5acd">/$</font><font color="#ff00ff">{src}</font><br /><font color="#804040">34 </font><font color="#ff00ff">&nbsp;&nbsp;&nbsp;&nbsp;g++ -Wall -g -o </font><font color="#6a5acd">/$</font><font color="#ff00ff">{ob} </font><font color="#6a5acd">/$</font><font color="#ff00ff">{src}</font><br /><font color="#804040">35 </font><br /><font color="#804040">36 </font><font color="#804040"><b>end-of-makefile</b></font><br /></font></p>
