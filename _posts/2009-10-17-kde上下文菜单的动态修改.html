---
layout: post
title: KDE上下文菜单的动态修改
categories:
- Linux
tags:
- KDE
status: publish
type: post
published: true
meta:
  ratings_users: '0'
  ratings_score: '0'
  ratings_average: '0'
  views: '8'
author:
  login: jtianling
  email: jtianling@gmail.com
  display_name: jtianling
  first_name: ''
  last_name: ''
---

<p class="MsoTitle" style="margin: 12pt 0cm 3pt;"><strong><span style="font-size: x-large;"><span style="color: #548dd4;"><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Cambria;">KDE</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Cambria; mso-ascii-theme-font: major-latin; mso-hansi-font-family: Cambria; mso-hansi-theme-font: major-latin;">上下文菜单的动态修改</span></span></span></strong></p>
<p class="MsoNormal" style="text-align: right; margin: 0cm 0cm 10pt;" align="right"><span lang="EN-US"><a href="http://www.jtianling.com"><strong><span style="color: #800080;"><span style="font-size: large;"><span><span style="font-family: Calibri;">write by </span>九天雁翎</span><span style="font-variant: small-caps; letter-spacing: 0.25pt;"><span style="font-family: Calibri;">(JTianLing) -- www.jtianling.com</span></span></span></span></strong></a></span></p>
<p class="MsoNormal" style="text-align: right; margin: 0cm 0cm 10pt;" align="right"><span lang="EN-US"><a href="http://groups.google.com/group/jiutianfile/"><strong><span style="font-variant: small-caps; font-family: 宋体; letter-spacing: 0.25pt; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;" lang="EN-US"><span lang="EN-US"><span style="font-size: large;">讨论新闻组及文件</span></span></span></strong></a></span></p>
<h1 style="text-indent: 0cm; margin: 24pt 0cm 0pt;"><span style="color: #365f91;"><span style="mso-bidi-font-family: 宋体; mso-bidi-theme-font: major-fareast;" lang="EN-US"><span style="mso-list: Ignore;"><span style="font-family: Cambria;">一、</span><span style='font: 7pt "Times New Roman";'>&nbsp;&nbsp; </span></span></span><span style="font-family: 宋体; mso-ascii-font-family: Cambria; mso-ascii-theme-font: major-latin; mso-hansi-font-family: Cambria; mso-hansi-theme-font: major-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: major-fareast;">提要</span></span></h1>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 10pt;"><span style="font-size: large;"><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-language: AR-SA;">事实上静态改变</span><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"><span style="font-family: Calibri;">KDE</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-language: AR-SA;">上下文菜单网上还有些资料（以</span><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"><span style="font-family: Calibri;">E</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-language: AR-SA;">文为主），但是动态改变的我连</span><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"><span style="font-family: Calibri;">E</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-language: AR-SA;">文的资料都没有看到，纯靠自己看代码摸索了。行文会比较乱，但是需要的人应该能找到自己所要的东西。文中复杂的行解释时会与</span><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"><span style="font-family: Calibri;">KDE</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-language: AR-SA;">源代码相对应，以做备查。本文操作环境是kubuntu9.04</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"><span style="font-family: Calibri; font-size: large;">&nbsp;</span></span></p>
<h1 style="text-indent: 0cm; margin: 24pt 0cm 0pt;"><span style="color: #365f91;"><span style="mso-bidi-font-family: 宋体; mso-bidi-theme-font: major-fareast;" lang="EN-US"><span style="mso-list: Ignore;"><span style="font-family: Cambria;">二、</span><span style='font: 7pt "Times New Roman";'>&nbsp;&nbsp; </span></span></span><span style="font-family: 宋体; mso-ascii-font-family: Cambria; mso-ascii-theme-font: major-latin; mso-hansi-font-family: Cambria; mso-hansi-theme-font: major-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: major-fareast;">静态修改</span></span></h1>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt 21pt;"><span style="font-size: large;"><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">KDE</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">中的上下文菜单是以</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">.desktop</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">形式的配置文件方式来管理的。此配置文件强大到甚至支持多语言</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">-_-!</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">牛吧</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="font-size: large;"><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">首先查看系统中此配置文件所在的位置。通过</span><em style="mso-bidi-font-style: normal;"><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">kde4-config &ndash;path services</span></span></em><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">命令来查看，下面是我机器中运行的例子：</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;"><span style="font-size: large;">jtianling@jtianling-laptop:~$ kde4-config --path services</span></span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;"><span style="font-size: large;">/home/jtianling/.kde/share/kde4/services/:/usr/share/kde4/services/</span></span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="font-size: large;"><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">即有</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">kde4 services</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">配置的地方分别在</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">/home/jtianling/.kde/share/kde4/services/</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">这个个人的目录和</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">/usr/share/kde4/services/</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">这个改变全局配置的目录。这点符合</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">Linux</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">的习惯，在没有</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">root</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">权限或者仅仅想改变自己的操作习惯时，在自己的</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">home</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">目录下就能改变自己的配置，有</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">root</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">权限并且想改变所有用户的配置时，去</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">/usr</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">下面改。此处如是，这里全部以修改全局的为例。想尝试的推荐首先备份。</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="font-size: large;"><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">首先进入</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">services</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">目录下的</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">ServiceMenus</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">这个与上下文菜单相关的配置目录中去。</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="font-size: large;"><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">我们从一个简单的例子开始，下面是</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">Kubuntu 9.04</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">中自带的一个简单菜单项，类似于</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">windows</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">下常用的</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">command prompt Here</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">和</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">cygwin</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">的</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">bash prompt here</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">，作用是在当前文件夹位置打开一个</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">konsole</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">。对应的文件是</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">konsolehere.desktop</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">：</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style='font-family: "Courier New"; color: slateblue; mso-fareast-language: ZH-CN;' lang="EN-US"><span style="font-size: large;">[Desktop Entry]</span></span><span style='font-family: "Courier New"; mso-fareast-language: ZH-CN;' lang="EN-US"><br /><span style="font-size: large;"><strong><span style="color: seagreen;">Type</span></strong><span style="color: fuchsia;">=</span>Service<br /><strong><span style="color: seagreen;">X-KDE-ServiceTypes</span></strong><span style="color: fuchsia;">=</span>KonqPopupMenu/Plugin,inode/directory<br /><strong><span style="color: seagreen;">Actions</span></strong><span style="color: fuchsia;">=</span>openTerminalHere;<br /><strong><span style="color: seagreen;">X-KDE-AuthorizeAction</span></strong><span style="color: fuchsia;">=</span>shell_access</p>
<p><span style="color: slateblue;">[Desktop Action openTerminalHere]</span><br /><strong><span style="color: seagreen;">Name</span></strong><span style="color: fuchsia;">=</span>Open Terminal Here<br />&hellip;&hellip;&hellip;<br /></span></span><span style="font-size: large;"><strong><span style='font-family: "Courier New"; color: seagreen;' lang="EN-US">Name</span></strong><span style='font-family: "Courier New"; color: teal;' lang="EN-US">[zh_CN]</span><span style='font-family: "Courier New"; color: fuchsia;' lang="EN-US">=</span><span style="font-family: 宋体; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New'; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-font-family: 'Courier New';" lang="EN-US">在此打开终端</span></span><span style='font-family: "Courier New";' lang="EN-US"><br /><span style="font-size: large;"><strong><span style="color: seagreen;">Name</span></strong><span style="color: teal;">[zh_TW]</span><span style="color: fuchsia;">=</span></span></span><span style="font-family: 宋体; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New'; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-font-family: 'Courier New';" lang="EN-US"><span style="font-size: large;">在這裡開啟終端機</span></span><span style='font-family: "Courier New";' lang="EN-US"><br /><span style="font-size: large;"><strong><span style="color: seagreen;">Icon</span></strong><span style="color: fuchsia;">=</span>utilities-terminal<br /><strong><span style="color: seagreen;">Exec</span></strong><span style="color: fuchsia;">=</span>konsole --workdir <span style="color: slateblue;">%f</span><br /><strong><span style="color: seagreen;">X-Ubuntu-Gettext-Domain</span></strong><span style="color: fuchsia;">=</span>desktop_kdebase</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri; font-size: large;">&nbsp;</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="font-size: large;"><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">一个一个解释一下：</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="font-size: large;"><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">配置的方式就与普通的</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">ini</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">文件类似，</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">[]</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">用于分段，</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">xxx=yyy</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">用于配置。这里解释一下配置选项。</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri; font-size: large;">&nbsp;</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="font-size: large;"><strong><span style='font-family: "Courier New"; color: seagreen;' lang="EN-US">Type</span></strong><span style='font-family: "Courier New"; color: fuchsia;' lang="EN-US">=</span><span style='font-family: "Courier New";' lang="EN-US">Service</span></span></p>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 10pt;"><span style="font-size: large;"><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New'; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-font-family: 'Courier New';">官网说是类型默认为</span><span style='font-family: "Courier New"; mso-fareast-language: ZH-CN;' lang="EN-US">application</span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New'; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-font-family: 'Courier New';">，还解释</span><span style='font-family: "Courier New"; mso-fareast-language: ZH-CN;' lang="EN-US">application</span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New'; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-font-family: 'Courier New';">是有</span><span style='font-family: "Courier New"; mso-fareast-language: ZH-CN;' lang="EN-US">Exec</span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New'; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-font-family: 'Courier New';">行的东西（原话为：</span><span style='font-family: "Courier New"; mso-fareast-language: ZH-CN;' lang="EN-US">i.e. something with Exec line</span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New'; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-font-family: 'Courier New';">）需要指定</span><span style='font-family: "Courier New"; mso-fareast-language: ZH-CN;' lang="EN-US">Service</span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New'; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-font-family: 'Courier New';">表示类似于插件的东西，事实上我在我的机器上，将</span><span style='font-family: "Courier New"; mso-fareast-language: ZH-CN;' lang="EN-US">services</span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New'; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-font-family: 'Courier New';">目录所有的</span><span style='font-family: "Courier New"; mso-fareast-language: ZH-CN;' lang="EN-US">desktop</span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New'; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-font-family: 'Courier New';">文件全部统计了一下：</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt 21pt; mso-para-margin-left: 1.5gd;"><span style='font-family: "Courier New"; mso-fareast-language: ZH-CN;' lang="EN-US"><span style="font-size: large;">grep &ndash;R &ndash;e &lsquo;Type=S&rsquo; * wc &ndash;l</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt 21pt; mso-para-margin-left: 1.5gd;"><span style="font-size: large;"><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New'; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-font-family: 'Courier New';">一共有</span><span style='font-family: "Courier New"; mso-fareast-language: ZH-CN;' lang="EN-US">822</span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New'; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-font-family: 'Courier New';">个</span><span style='font-family: "Courier New"; mso-fareast-language: ZH-CN;' lang="EN-US">Service</span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New'; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-font-family: 'Courier New';">，但是</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt 21pt; mso-para-margin-left: 1.5gd;"><span style='font-family: "Courier New"; mso-fareast-language: ZH-CN;' lang="EN-US"><span style="font-size: large;">grep &ndash;R &ndash;e &lsquo;Type=^S&rsquo;</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt 21pt; mso-para-margin-left: 1.5gd;"><span style="font-size: large;"><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New'; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-font-family: 'Courier New';">一个也没有，所以，直接将此行默认存在就完了。</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt 21pt; mso-para-margin-left: 1.5gd;"><span style='font-family: "Courier New"; mso-fareast-language: ZH-CN;' lang="EN-US"><span style="font-size: large;">&nbsp;</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="font-size: large;"><strong><span style='font-family: "Courier New"; color: seagreen;' lang="EN-US">X-KDE-ServiceTypes</span></strong><span style='font-family: "Courier New"; color: fuchsia;' lang="EN-US">=</span><span style='font-family: "Courier New";' lang="EN-US">KonqPopupMenu/Plugin,inode/directory</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt 21pt;"><span style="font-size: large;"><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">还是参考一有说明，</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">KonqPopupMenu/Plugin</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">表示是</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">Konqueror</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">的插件，</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">inode/directory</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">表示在指定目录或目录中的时候也有效。</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt 21pt;"><span style="font-size: large;"><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">还可以用</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">all/all</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">，</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">all/allfiles</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">表示所有文件，以逗号分隔。</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri; font-size: large;">&nbsp;</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="font-size: large;"><strong><span style='font-family: "Courier New"; color: seagreen; mso-fareast-language: ZH-CN;' lang="EN-US">Actions</span></strong><span style='font-family: "Courier New"; color: fuchsia; mso-fareast-language: ZH-CN;' lang="EN-US">=</span><span style='font-family: "Courier New"; mso-fareast-language: ZH-CN;' lang="EN-US">openTerminalHere;</span></span></p>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 10pt;"><span style="font-size: large;"><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">标明动作，由接下来的</span><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri;">[Desktop Action openTerminalHere]</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">分段具体说明</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri; font-size: large;">&nbsp;</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="font-size: large;"><strong><span style='font-family: "Courier New"; color: seagreen; mso-fareast-language: ZH-CN;' lang="EN-US">X-KDE-AuthorizeAction</span></strong><span style='font-family: "Courier New"; color: fuchsia; mso-fareast-language: ZH-CN;' lang="EN-US">=</span><span style='font-family: "Courier New"; mso-fareast-language: ZH-CN;' lang="EN-US">shell_access</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="font-size: large;"><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New'; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-font-family: 'Courier New';">很明显，所要的权限，此处为</span><span style='font-family: "Courier New"; mso-fareast-language: ZH-CN;' lang="EN-US">shell_access</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style='font-family: "Courier New"; mso-fareast-language: ZH-CN;' lang="EN-US"><span style="font-size: large;">&nbsp;</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style='font-family: "Courier New"; color: slateblue; mso-fareast-language: ZH-CN;' lang="EN-US"><span style="font-size: large;">[Desktop Action openTerminalHere]</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="font-size: large;"><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New'; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-font-family: 'Courier New';">新的分节，后面的</span><span style='font-family: "Courier New"; mso-fareast-language: ZH-CN;' lang="EN-US">openTerminalHere</span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New'; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-font-family: 'Courier New';">与前面定义的动作一致，整个分节是对此动作的一个详细说明。</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style='font-family: "Courier New"; mso-fareast-language: ZH-CN;' lang="EN-US"><span style="font-size: large;">&nbsp;</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="font-size: large;"><strong><span style='font-family: "Courier New"; color: seagreen; mso-fareast-language: ZH-CN;' lang="EN-US">Name</span></strong><span style='font-family: "Courier New"; color: fuchsia; mso-fareast-language: ZH-CN;' lang="EN-US">=</span><span style='font-family: "Courier New"; mso-fareast-language: ZH-CN;' lang="EN-US">Open Terminal Here</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="font-size: large;"><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New'; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-font-family: 'Courier New';">说明显示的菜单的名字，通过</span><strong><span style='font-family: "Courier New"; color: seagreen; mso-fareast-language: ZH-CN;' lang="EN-US">Name</span></strong><span style='font-family: "Courier New"; color: teal; mso-fareast-language: ZH-CN;' lang="EN-US">[zh_CN]</span><span style="font-family: 宋体; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;" lang="EN-US">这样的形式支持多语言版本</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style='font-family: "Courier New"; mso-fareast-language: ZH-CN;' lang="EN-US"><span style="font-size: large;">&nbsp;</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="font-size: large;"><strong><span style='font-family: "Courier New"; color: seagreen;' lang="EN-US">Icon</span></strong><span style='font-family: "Courier New"; color: fuchsia;' lang="EN-US">=</span><span style='font-family: "Courier New";' lang="EN-US">utilities-terminal</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="font-size: large;"><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: 'Courier New'; mso-hansi-font-family: 'Courier New'; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-font-family: 'Courier New';">指定图标</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style='font-family: "Courier New"; mso-fareast-language: ZH-CN;' lang="EN-US"><span style="font-size: large;">&nbsp;</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="font-size: large;"><strong><span style='font-family: "Courier New"; color: seagreen;' lang="EN-US">Exec</span></strong><span style='font-family: "Courier New"; color: fuchsia;' lang="EN-US">=</span><span style='font-family: "Courier New";' lang="EN-US">konsole --workdir <span style="color: slateblue;">%f</span></span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="font-size: large;"><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">指定菜单命令</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="font-size: large;"><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast;">上述的东西都不是关键，也不算什么难点，下面真的好戏登场了。</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri; font-size: large;">&nbsp;</span></span></p>
<h1 style="text-indent: 0cm; margin: 24pt 0cm 0pt;"><span style="color: #365f91;"><span style="mso-bidi-font-family: 宋体; mso-bidi-theme-font: major-fareast;" lang="EN-US"><span style="mso-list: Ignore;"><span style="font-family: Cambria;">三、</span><span style='font: 7pt "Times New Roman";'>&nbsp;&nbsp; </span></span></span><span style="font-family: 宋体; mso-ascii-font-family: Cambria; mso-ascii-theme-font: major-latin; mso-hansi-font-family: Cambria; mso-hansi-theme-font: major-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: major-fareast;">动态修改</span></span></h1>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 10pt;"><span style="font-size: large;"><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-language: AR-SA;">这在</span><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"><span style="font-family: Calibri;">KDE</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-language: AR-SA;">中算是新鲜课题，一则少有人知，甚至没有找到</span><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"><span style="font-family: Calibri;">E</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-language: AR-SA;">文资料，二则我看到在</span><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"><span style="font-family: Calibri;">KDE</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-language: AR-SA;">的</span><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"><span style="font-family: Calibri;">changelog</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-language: AR-SA;">中竟然提到</span><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"><span style="font-family: Calibri;">kdesvn</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-language: AR-SA;">的作者发现了其中有一些问题。（见</span><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"><a href="http://www.kde.org/announcements/changelogs/3_5_6/kdelibs.txt"><span style="font-family: Calibri;">http://www.kde.org/announcements/changelogs/3_5_6/kdelibs.txt</span></a></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-language: AR-SA;">）说明平时用的人估计也少。要不是有</span><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"><span style="font-family: Calibri;">kdesvn</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-language: AR-SA;">作者走在前面，我连看源代码的头绪都没有，向</span><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"><span style="font-family: Calibri;">Rajko Albrecht</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-language: AR-SA;">致敬。</span></span></p>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 10pt;"><span style="font-size: large;"><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-language: AR-SA;">下面是</span><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"><span style="font-family: Calibri;">kdesvn</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-language: AR-SA;">的配置片段：</span></span></p>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 10pt;"><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"><span style="font-family: Calibri;"><span style="font-size: large;">[Desktop Entry]</span></span></span></p>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 10pt;"><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"><span style="font-family: Calibri;"><span style="font-size: large;">Type=Service</span></span></span></p>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 10pt;"><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"><span style="font-family: Calibri;"><span style="font-size: large;">ServiceTypes=KonqPopupMenu/Plugin,inode/directory,all/all,all/allfiles</span></span></span></p>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 10pt;"><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"><span style="font-family: Calibri;"><span style="font-size: large;">X-KDE-Submenu=Subversion (kdesvn)</span></span></span></p>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 10pt;"><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"><span style="font-family: Calibri;"><span style="font-size: large;">X-KDE-GetActionMenu=org.kde.kded /modules/kdesvnd org.kde.kdesvnd getActionMenu</span></span></span></p>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 10pt;"><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"><span style="font-family: Calibri;"><span style="font-size: large;">Actions=Log;Info;Add;Addnew;Delete;Revert;Rename;Import;Checkout;Switch;Merge;Blame;CreatePatch;Export;Diff;Update;Commit;Checkoutto;Exportto;Tree;</span></span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"><span style="font-family: Calibri;"><span style="font-size: large;"><span style="mso-tab-count: 1;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span></span></p>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 10pt;"><span style="font-size: large;"><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-language: AR-SA;">其他的都好说了，主要的问题在</span><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"><span style="font-family: Calibri;">X-KDE-GetActionMenu=org.kde.kded /modules/kdesvnd org.kde.kdesvnd getActionMenu</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-language: AR-SA;">一句，</span><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"><span style="font-family: Calibri;">kdesvn</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-language: AR-SA;">也就是靠此句实现了动态的上下文菜单。</span></span></p>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 10pt;"><span style="font-size: large;"><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-language: AR-SA;">从应用上看，对于非</span><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"><span style="font-family: Calibri;">svn</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-language: AR-SA;">工程的目录，在平时显示的是</span><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"><span style="font-family: Calibri;">Checkout from a repository</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-language: AR-SA;">和</span><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"><span style="font-family: Calibri;">Export from a subversion repository</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-language: AR-SA;">，而</span><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"><span style="font-family: Calibri;">Actions</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-language: AR-SA;">里面也有，而</span><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"><span style="font-family: Calibri;">Actions</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-language: AR-SA;">里面还有当目标的确是一个</span><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"><span style="font-family: Calibri;">svn</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-language: AR-SA;">工程的目录时的一大堆选项。说明事实上选项是通过某个函数进行筛选然后显示的。看上面的配置，很显然是</span><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"><span style="font-family: Calibri;">X-KDE-GetActionMenu</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-language: AR-SA;">配置的</span><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"><span style="font-family: Calibri;">getActionMenu</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-language: AR-SA;">函数（从命名上猜的），通过关键字，我定位到了关键的</span><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"><span style="font-family: Calibri;">KDE</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-language: AR-SA;">源代码：</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="font-size: large;"><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"><span style="font-family: Calibri;">kdelibs/kio/kio/kdesktopfileactions.cpp:219</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-language: AR-SA;">开始</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="font-size: large;"><span style='font-family: "Courier New";' lang="EN-US">QList&lt;KServiceAction&gt; KDesktopFileActions::userDefinedServices( <strong><span style="color: seagreen;">const</span></strong>&nbsp;KService&amp; service, <strong><span style="color: seagreen;">bool</span></strong>&nbsp;bLocalFiles, <strong><span style="color: seagreen;">const</span></strong>&nbsp;KUrl::List &amp; file_list )<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;QList&lt;KServiceAction&gt; result;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;<strong><span style="color: #804040;">if</span></strong>&nbsp;(!service.isValid()) <span style="color: blue;">// e.g. TryExec failed</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong><span style="color: #804040;">return</span></strong>&nbsp;result;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;QStringList keys;<br />&nbsp;&nbsp;&nbsp;&nbsp;<strong><span style="color: seagreen;">const</span></strong>&nbsp;QString actionMenu = service.property(<span style="color: fuchsia;">"X-KDE-GetActionMenu"</span>, QVariant::String).toString();<br />&nbsp;&nbsp;&nbsp;&nbsp;<strong><span style="color: #804040;">if</span></strong>&nbsp;(!actionMenu.isEmpty()) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong><span style="color: seagreen;">const</span></strong>&nbsp;QStringList dbuscall = actionMenu.split(QChar(<span style="color: fuchsia;">' '</span>));<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong><span style="color: #804040;">if</span></strong>&nbsp;(dbuscall.count() &gt;= <span style="color: fuchsia;">4</span>) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong><span style="color: seagreen;">const</span></strong>&nbsp;QString&amp; app&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; = dbuscall.at( <span style="color: fuchsia;">0</span>&nbsp;);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong><span style="color: seagreen;">const</span></strong>&nbsp;QString&amp; object&nbsp;&nbsp;&nbsp;&nbsp;= dbuscall.at( <span style="color: fuchsia;">1</span>&nbsp;);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong><span style="color: seagreen;">const</span></strong>&nbsp;QString&amp; interface = dbuscall.at( <span style="color: fuchsia;">2</span>&nbsp;);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong><span style="color: seagreen;">const</span></strong>&nbsp;QString&amp; function&nbsp;&nbsp;= dbuscall.at( <span style="color: fuchsia;">3</span>&nbsp;);</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;QDBusInterface remote( app, object, interface );<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue;">// Do NOT use QDBus::BlockWithGui here. It runs a nested event loop,</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue;">// in which timers can fire, leading to crashes like #149736.</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;QDBusReply&lt;QStringList&gt; reply = remote.call(function, file_list.toStringList());<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keys = reply;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="color: blue;">// ensures that the reply was a QStringList</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong><span style="color: #804040;">if</span></strong>&nbsp;(keys.isEmpty())<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong><span style="color: #804040;">return</span></strong>&nbsp;result;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <strong><span style="color: #804040;">else</span></strong>&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;kWarning(<span style="color: fuchsia;">7000</span>) &lt;&lt; <span style="color: fuchsia;">"The desktop file"</span>&nbsp;&lt;&lt; service.entryPath()<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;&lt; <span style="color: fuchsia;">"has an invalid X-KDE-GetActionMenu entry."</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;&lt; <span style="color: fuchsia;">"Syntax is: app object interface function"</span>;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: blue;">// Now, either keys is empty (all actions) or it's set to the actions we want</span></p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;foreach(<strong><span style="color: seagreen;">const</span></strong>&nbsp;KServiceAction&amp; action, service.actions()) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong><span style="color: #804040;">if</span></strong>&nbsp;(keys.isEmpty() || keys.contains(action.name())) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong><span style="color: seagreen;">const</span></strong>&nbsp;QString exec = action.exec();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong><span style="color: #804040;">if</span></strong>&nbsp;(bLocalFiles || exec.contains(<span style="color: fuchsia;">"</span><span style="color: slateblue;">%U</span><span style="color: fuchsia;">"</span>) || exec.contains(<span style="color: fuchsia;">"</span><span style="color: slateblue;">%u</span><span style="color: fuchsia;">"</span>)) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result.append( action );<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;<strong><span style="color: #804040;">return</span></strong>&nbsp;result;<br />}</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"><span style="font-family: Calibri; font-size: large;">&nbsp;</span></span></p>
<p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 10pt;"><span style="font-size: large;"><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-language: AR-SA;">源码可以看出，其一，我们分析配置文件没有错误，此行的确是关键，其二，获取具体字符串的方式利用了</span><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"><span style="font-family: Calibri;">D-bus</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-language: AR-SA;">这个进程间通信手段远程调用了</span><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"><span style="font-family: Calibri;">getActionMenu</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-language: AR-SA;">这个函数，然后获取到了一个字符串</span><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"><span style="font-family: Calibri;">list</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-language: AR-SA;">，此</span><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"><span style="font-family: Calibri;">list</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-language: AR-SA;">就是我们最后看到的菜单项。至此，一切问题已经得到解决，动态菜单的关键就是以</span><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"><span style="font-family: Calibri;">X-KDE-GetActionMenu</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-language: AR-SA;">配置然后通过</span><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"><span style="font-family: Calibri;">D-bus</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-language: AR-SA;">调用函数。</span><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"><span style="font-family: Calibri;">D-bus</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-language: AR-SA;">作为</span><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"><span style="font-family: Calibri;">Linux</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-language: AR-SA;">下非常流行的进程间通信手段就远没有</span><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"><span style="font-family: Calibri;">KDE</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-language: AR-SA;">动态菜单这么神秘了，资料丰富的多，需要的就自己去查阅吧。</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri; font-size: large;">&nbsp;</span></span></p>
<h1 style="text-indent: 0cm; margin: 24pt 0cm 0pt;"><span style="color: #365f91;"><span style="mso-bidi-font-family: 宋体; mso-bidi-theme-font: major-fareast;" lang="EN-US"><span style="mso-list: Ignore;"><span style="font-family: Cambria;">四、</span><span style='font: 7pt "Times New Roman";'>&nbsp;&nbsp; </span></span></span><span style="font-family: 宋体; mso-ascii-font-family: Cambria; mso-ascii-theme-font: major-latin; mso-hansi-font-family: Cambria; mso-hansi-theme-font: major-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: major-fareast;">参考资料</span></span></h1>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="font-size: large;"><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"><span style="font-family: Calibri;">1.KDE tech base</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-language: AR-SA;">，</span><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"><span style="font-family: Calibri;">Konqueror Service Menu</span></span><span style="font-family: 宋体; mso-fareast-language: ZH-CN; mso-ascii-font-family: Calibri; mso-ascii-theme-font: minor-latin; mso-hansi-font-family: Calibri; mso-hansi-theme-font: minor-latin; mso-fareast-font-family: 宋体; mso-fareast-theme-font: minor-fareast; mso-bidi-language: AR-SA;">相关章节：</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="mso-fareast-language: ZH-CN; mso-bidi-language: AR-SA;" lang="EN-US"><span style="font-family: Calibri;"><span style="font-size: large;">http://techbase.kde.org/Development/Tutorials/Creating_Konqueror_Service_Menus</span></span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span lang="EN-US"><a href="http://code.google.com/p/jtianling/source/browse?repo=blog-sample-code"></a></span></p>
<p class="MsoNormal" style="text-align: right; margin: 0cm 0cm 10pt;" align="right"><span lang="EN-US"><a href="http://www.jtianling.com"><span style="color: #800080;"><span style="font-size: large;"><strong><span style="font-variant: small-caps; letter-spacing: 0.25pt; mso-fareast-language: ZH-CN;"><span style="font-family: Calibri;">write by </span></span></strong><strong><span style="font-variant: small-caps; font-family: 宋体; letter-spacing: 0.25pt; mso-fareast-language: ZH-CN;" lang="EN-US"><span lang="EN-US">九天雁翎</span></span></strong><strong><span style="font-variant: small-caps; letter-spacing: 0.25pt; mso-fareast-language: ZH-CN;"><span style="font-family: Calibri;">(JTianLing) -- www.jtianling.com</span></span></strong></span></span></a></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;"><span style="mso-fareast-language: ZH-CN;" lang="EN-US"><span style="font-family: Calibri; font-size: large;">&nbsp;</span></span></p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;">&nbsp;</p>
<p class="MsoNormal" style="margin: 0cm 0cm 10pt;">&nbsp;</p>
<p>
<script type="text/javascript">&lt;!--<br />
var sitebro_tracker_atc={u:'http://www.sitebot.com.cn/754892/',w:'NzU0ODky',bt:'#804000',bg:'#FFFFCC',cf:'#ffffff',ca:'#666666',bh:'#f4f4c6',cp:'%E6%9C%AC%E7%AB%99%E7%83%AD%E9%97%A8%E6%96%87%E7%AB%A0',l:10,s:0,lang:'zh_CN'};<br />
// --&gt;</script><br />
<script src="http://www.sitebot.com.cn/js/widget_track2/tracker_atc.js" type="text/javascript"></script></p>
<p>
<script type="text/javascript">&lt;!--<br />
var sitebro_tracker_atc_kw = {u:'http://www.sitebot.com.cn/754892/',w:'NzU0ODky',bt:'#804000',bg:'#FFFFCC',fs:1,ca:'#666666',bh:'#f4f4c6',cp:'',l:10,s:1,lang:'zh_CN'};<br />
// --&gt;</script><br />
<script src="http://www.sitebot.com.cn/js/widget_track2/tracker_atc_kw.js" type="text/javascript"></script></p>
